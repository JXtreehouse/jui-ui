<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="content-type" content="charset=utf-8;"/>
    <link rel="stylesheet" href="../../jui.css" />
    <script src="../../lib/jquery-1.8.0.min.js"></script>
    <script src="../../jui.js"></script>
</head>
<body class="jui">

<div id="chart"></div>

<style>
    #chart {
        width: 800px;
        height: 600px;
        border: 1px solid black;
    }
</style>

<script>
    function rnd(count) {
        return Math.floor(Math.random() * count);
    }

    function getRandomData(count, outer, inner) { // 노드 개수, 바깥 연결 개수, 안쪽 연결 개수
        var w = 800, h = 600;
        var data = [];

        for(var i = 0; i < count; i++) {
            var x = rnd(w),
                y = rnd(h);

            data.push({ name: "W" + (i + 1), x: x, y: y, outgoing: [], incoming: [] });
        }

        for(var i = 0; i < outer; i++) {
            var index = rnd(count),
                outer = rnd(count);

            data[index].outgoing.push(outer);
        }

        for(var i = 0; i < inner; i++) {
            var index = rnd(count),
                inner = rnd(count);

            data[index].incoming.push(inner);
        }

        return data;
    }

    var data = [
        { name: "W1", type: 1, x: 100, y: 100, outgoing: [ 1 ], incoming: [] },
        { name: "W2", type: 1, x: 100, y: 200, outgoing: [ 2, 3 ], incoming: [ 0 ] },
        { name: "W3", type: 1, x: 500, y: 100, outgoing: [ 4 ], incoming: [] },
        { name: "W3", type: 1, x: 400, y: 150, outgoing: [ 4 ], incoming: [ 1 ] },
        { name: "Oracle", type: 2, x: 700, y: 200, outgoing: [], incoming: [ 3 ] }
    ];

    jui.ready([ "chartx.topology", "util.base" ], function(chart, _) {
        c = chart("#chart", {
            data: getRandomData(100, 200, 50)
        });
    });
</script>


</body>
</html>