!function(t){function e(e){for(var n,r,a=e[0],l=e[1],h=e[2],d=0,c=[];d<a.length;d++)r=a[d],o[r]&&c.push(o[r][0]),o[r]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(t[n]=l[n]);for(u&&u(e);c.length;)c.shift()();return s.push.apply(s,h||[]),i()}function i(){for(var t,e=0;e<s.length;e++){for(var i=s[e],n=!0,a=1;a<i.length;a++){var l=i[a];0!==o[l]&&(n=!1)}n&&(s.splice(e--,1),t=r(r.s=i[0]))}return t}var n={},o={1:0},s=[];function r(e){if(n[e])return n[e].exports;var i=n[e]={i:e,l:!1,exports:{}};return t[e].call(i.exports,i,i.exports,r),i.l=!0,i.exports}r.m=t,r.c=n,r.d=function(t,e,i){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(r.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)r.d(i,n,function(e){return t[e]}.bind(null,n));return i},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="";var a=window.webpackJsonp=window.webpackJsonp||[],l=a.push.bind(a);a.push=e,a=a.slice();for(var h=0;h<a.length;h++)e(a[h]);var u=l;s.push([14,0]),i()}({14:function(t,e,i){i(17),i(15)},15:function(t,e,i){"use strict";i.r(e);var n=i(2),o=i.n(n).a,s=i(0),r=i.n(s),a={name:"ui.accordion",extend:"event",component:function(){var t=o.include("util.base"),e=function(){var e,i=null,n=null;function o(t){i.each(function(i){t==i?(r()(this).addClass("active"),e.options.multipanel?r()(this).next(".content").show():n.insertAfter(this).show()):(r()(this).removeClass("active"),e.options.multipanel&&r()(this).next(".content").hide())})}this.init=function(){e=this;var s=this.options;if(i=r()(this.root).find(".title"),n=r()(this.root).find(".content"),null==s.index)for(var a=0;a<i.length;a++)r()(i[a]).hasClass("active")&&(s.index=a);t.typeCheck("integer",s.index)?o(s.index):n.hide(),function(t){i.each(function(e){t.addEvent(this,"click",function(i){r()(this).hasClass("active")&&t.options.autoFold?(r()(this).removeClass("active"),t.options.multipanel?r()(this).next(".content").hide():n.hide(),t.emit("fold",[e,i])):(o(e),t.emit("open",[e,i]))})})}(this),this.emit("init")},this.activeIndex=function(){return 0}};return e.setup=function(){return{index:null,autoFold:!1,multipanel:!1}},e}},l={name:"ui.dropdown",extend:"event",component:function(){o.include("util.base");var t=function(){var t=e();null!=t&&t.hide()},e=function(){for(var t=o.get("ui.dropdown"),e=0;e<t.length;e++)for(var i=t[e],n=0;n<i.length;n++)if("show"==i[n].type)return i[n];return null};r()(function(){document.addEventListener("click",function(e){var i=e.target.tagName;"LI"!=i&&"INPUT"!=i&&"A"!=i&&"BUTTON"!=i&&"I"!=i&&t()}),window.addEventListener("keydown",function(t){var i=e();null!=i&&i.wheel(t.which,function(){t.preventDefault()})})});var i=function(){var e=null,i=-1;function n(i){var n=r()(e.menu).find("li");n.off("click").off("hover"),i.addEvent(n,"click",function(e){if(!(r()(this).hasClass("divider")||r()(this).hasClass("title")||r()(this).hasClass("disabled"))){var o=function(t){var e=0;return n.each(function(i){t==this&&(e=i)}),e}(this),s=r()(this).text(),a=r()(this).attr("value");i.emit("change",[{index:o,value:a,text:s},e]),i.options.close&&t(),"A"==e.target.tagName&&e.preventDefault()}}),i.addEvent(n,"hover",function(t){n.removeClass("active")})}function o(t,n){var o=e.menu.find("li"),s=o.eq(i);o.removeClass("active"),""!=s.val()||""!=s.html()?(s.addClass("active"),t.options.height>0&&e.menu.scrollTop(i*s.outerHeight())):"function"==typeof n&&n()}this.init=function(){var t=this.options,i=r()(this.root),o=i.find("ul"),s=i.find(".anchor");o=0==o.length?i:o,(e={root:i,menu:o,anchor:s}).root.outerWidth(e.menu.outerWidth()),t.width>0&&o.outerWidth(t.width),t.height>0&&o.css({maxHeight:t.height,overflow:"auto"}),t.left>0&&i.css("left",t.left),t.top>0&&i.css("top",t.top),o.css({display:"block"}),i.css({position:"absolute",display:"none"}),t.nodes.length>0?this.update(t.nodes):n(this),this.type="hide"},this.update=function(t){if(this.tpl.node){r()(e.menu).empty();for(var i=0;i<t.length;i++)r()(e.menu).append(this.tpl.node(t[i]));n(this)}},this.hide=function(){e.root.hide(),this.emit("hide"),this.type="hide"},this.show=function(i,n){t(),e.root.show(),e.anchor.length>0&&e.root.css("margin-top","10px"),2==arguments.length&&this.move(i,n),this.emit("show"),this.type="show"},this.move=function(t,i){e.root.css("left",t),e.root.css("top",i)},this.wheel=function(t,n){if(this.options.keydown){var s=this,r=e.menu.find("li");9!=t?(38!=t&&-1!=t||(i<1?i=r.length-1:i--,o(this,function(){i--,o(s)}),n&&n()),40!=t&&1!=t||(i<r.length-1?i++:i=0,o(s,function(){i++,o(s)}),n&&n()),13!=t&&0!=t&&t||(s.addTrigger(r.eq(i),"click"),i=-1,n&&n())):this.hide()}},this.reload=function(){this.init(),this.emit("reload")}};return i.setup=function(){return{close:!0,keydown:!1,left:0,top:0,width:0,height:0,nodes:[]}},i}},h={name:"ui.autocomplete",extend:"event",component:function(){o.include("util.base");var t=o.include("ui.dropdown"),e=function(){var e=null,i=null,n=[],o=[];function s(n,o){if(0!=o.length){e&&r()(e.root).remove();var s=r()(n.root).position(),a=r()(n.tpl.words({words:o}));r()(n.options.parent).append(a),e=t(a,{keydown:!0,width:r()(n.root).outerWidth(),height:n.options.height,left:s.left,top:s.top+r()(n.root).outerHeight(),event:{change:function(t,e){r()(i).val(t.text),n.emit("change",[t.text,e])}}}),n.options.dx>0||n.options.dy>0?e.show(n.options.dx,n.options.dy):e.show()}else e&&e.hide()}function a(t){t.addEvent(i,"keyup",function(e){if(38!=e.which&&40!=e.which&&13!=e.which)return o=function(t){var e=[];if(""!=t)for(var i=0;i<n.length;i++){var o=n[i],s=n[i].toLowerCase(),r=t.toLowerCase();-1!=s.indexOf(r)&&e.push(o)}return e}(r()(this).val()),s(t,o),!1}),t.options.showAll&&t.addEvent(i,"focus",function(e){if(""==r()(this).val())return s(t,o=n),!1})}this.init=function(){var t=this.options;i=null==t.target?this.root:r()(this.root).find(t.target),a(this),this.update(t.words)},this.update=function(t){n=t},this.close=function(){e&&e.hide()},this.list=function(){return o}};return e.setup=function(){return{parent:"body",target:null,words:[],showAll:!1,dx:0,dy:0,height:"auto"}},e}},u={name:"ui.button",extend:"event",component:function(){var t=o.include("util.base"),e=function(t,e,i){this.data={index:0,value:"",elem:null},this.ui=t,this.element=e,this.options=r.a.extend({index:0,value:""},i),this._setting=function(t,e,i){var n=this,o="active",s=this.options.index,a=this.options.value;function l(t,e){var i=r()(e).attr("value"),s=r()(e).text();n.data={index:t,value:i,text:s},r()(e).addClass(o)}function h(t){r()(t).removeClass(o)}r()(n.element).children(".btn").each(function(n){"event"==t?e.currentTarget==this?l(n,this):h(this):"init"==t&&("value"==i?a==r()(this).attr("value")?l(n,this):h(this):s==n?l(n,this):h(this))})},this.init=function(){var t=this;this.ui.addEvent(r()(t.element).children(".btn"),"click",function(e){if(r()(e.currentTarget).hasClass("disabled"))return!1;t._setting("event",e),t.ui.emit("click",[t.data,e]),t.ui.emit("change",[t.data,e]),e.preventDefault()}),""!=this.options.value?this._setting("init",this.options.value,"value"):this._setting("init",this.options.index,"index")}},i=function(){this.data=[],this.options=r.a.extend({index:[],value:[]},this.options),this._setting=function(t,e,i){var n=this,o="active",s=this.options.index,a=this.options.value;function l(t,e){var i=r()(e).attr("value"),s=r()(e).text();n.data[t]={index:t,value:i,text:s},r()(e).addClass(o)}function h(t,e){n.data[t]=null,r()(e).removeClass(o)}function u(t,e){for(var i=0;i<t.length;i++)if(t[i]==e)return!0;return!1}r()(n.element).children(".btn").each(function(n){"init"==t?"value"==i?u(a,r()(this).attr("value"))?l(n,this):h(n,this):u(s,n)?l(n,this):h(n,this):e.currentTarget==this&&(r()(this).hasClass("active")?h(n,this):l(n,this))})}},n=function(){var n={};this.init=function(){var t=this.options;"radio"==t.type?(n[t.type]=new e(this,this.root,this.options),n[t.type].init()):"check"==t.type&&(i.prototype=new e(this,this.root,this.options),n[t.type]=new i,n[t.type].init())},this.setIndex=function(t){var e=n[this.options.type];e.options.index=t,e._setting("init",null,"index"),this.emit("change",[e.data])},this.setValue=function(t){var e=n[this.options.type];e.options.value=t,e._setting("init",null,"value"),this.emit("change",[e.data])},this.getData=function(){return n[this.options.type].data},this.getValue=function(){var e=this.getData();if(t.typeCheck("array",e)){for(var i=[],n=0;n<e.length;n++)i[n]=null!=e[n]?e[n].value:e[n];return i}return e.value},this.reload=function(){n[this.options.type]._setting("init")},this.enable=function(t){t?r()(this.root).find(".btn").removeClass("disabled"):r()(this.root).find(".btn").addClass("disabled")}};return n.setup=function(){return{type:"radio",index:0,value:""}},n}},d={name:"ui.colorpicker",extend:"event",component:function(){var t=o.include("util.base"),e=o.include("util.color"),i=function(){var i,n,o,s,a,l,h,u,d,c,p,f,v,m,g,x,y,w,b,C,k,z,E,D,I,N,T=[{rgb:"#ff0000",start:0},{rgb:"#ffff00",start:.17},{rgb:"#00ff00",start:.33},{rgb:"#00ffff",start:.5},{rgb:"#0000ff",start:.67},{rgb:"#ff00ff",start:.83},{rgb:"#ff0000",start:1}],F={color_width:226,color_height:145,hue_width:157,opacity_width:119,dragBar_width:12,hueContainer_width:157,opacityDragBar_width:12};function S(t){var n=null;if("hex"==t)n=e.rgb(E.val()),D.val(n.r),I.val(n.g),N.val(n.b);else if("rgb"==t)E.val(e.format({r:parseInt(D.val(),10),g:parseInt(I.val(),10),b:parseInt(N.val(),10)},"hex")),n=e.rgb(E.val());else{var o=i.getColor("hex");E.val(o),n=e.rgb(E.val()),D.val(n.r),I.val(n.g),N.val(n.b)}n.a=H(),f.css("background-color",e.format(n,"hex")),x.val(Math.floor(100*n.a)+"%"),i.emit("change",[e.format(n,"hex"),n])}function V(t){var e=a.offset(),i=F.color_width,n=F.color_height,o=t.clientX-e.left,s=t.clientY-e.top;o<0?o=0:o>i&&(o=i),s<0?s=0:s>n&&(s=n),u.css({left:o-5,top:s-5}).data("pos",{x:o,y:s}),S()}function A(t){var i=v.offset().left,o=i+F.hueContainer_width,s=Y(t).clientX;n=s<i?0:s>o?100:(s-i)/(o-i)*100;var r=F.hue_width*(n/100);d.css({left:r-Math.ceil(F.dragBar_width/2)+"px"}).data("pos",{x:r});var l=function(t){for(var i,n,o=0;o<T.length;o++)if(T[o].start>=t){i=T[o-1],n=T[o];break}return i&&n?e.scale().domain(i.rgb,n.rgb)((t-i.start)/(n.start-i.start),"hex"):null}(n/100);a.css("background-color",l),S()}function M(t){var e=m.offset().left,i=e+F.opacity_width,o=Y(t).clientX;n=o<e?0:o>i?100:(o-e)/(i-e)*100;var s=F.opacity_width*(n/100);y.css({left:s-Math.ceil(F.opacityDragBar_width/2)+"px"}).data("pos",{x:s}),S()}function H(){var t=y.data("pos")||{x:0};return Math.round(t.x/F.opacity_width*100)/100}function _(t,e){t=t||"div";var i=r()("<"+t+" />");return"object"==typeof e&&i.attr(e),i}function Y(e){return t.isTouch?e.originalEvent.touches[0]:e}function j(t){var e=t.which,i=!1;return 37!=e&&39!=e&&8!=e&&46!=e&&9!=e||(i=!0),!(!i&&(e<48||e>57))}function L(t){var i=D.val(),n=I.val(),o=N.val();""!=i&&""!=n&&""!=o&&(parseInt(i)>255?D.val(255):D.val(parseInt(i)),parseInt(n)>255?I.val(255):I.val(parseInt(n)),parseInt(o)>255?N.val(255):N.val(parseInt(o)),R(e.format({r:parseInt(D.val()),g:parseInt(I.val()),b:parseInt(N.val())},"hex"),"rgb"))}function R(t,n){var o=t||i.options.color,s=e.rgb(o);a.css("background-color",o);var r=e.RGBtoHSV(s.r,s.g,s.b),l=F.color_width*r.s,h=F.color_height*(1-r.v);u.css({left:l-5,top:h-5}).data("pos",{x:l,y:h});var c=F.hue_width*(r.h/360);d.css({left:c-7.5}).data("pos",{x:c});var p=F.opacity_width*(s.a||0);y.css({left:p-7.5}).data("pos",{x:p}),S(n)}this.init=function(){i=this,this.options,o=r()(this.root),a=_("div",{class:"color"}),u=_("div",{class:"drag-pointer"}),l=_("div",{class:"value"}),h=_("div",{class:"saturation"}),c=_("div",{class:"control"}),p=_("div",{class:"empty"}),f=_("div",{class:"color"}),s=_("div",{class:"hue"}),v=_("div",{class:"container"}),d=_("div",{class:"drag-bar"}),m=_("div",{class:"opacity"}),g=_("div",{class:"container"}),x=_("input",{class:"input",type:"text",disabled:!0}),y=_("div",{class:"drag-bar2"}),w=_("div",{class:"information"}),b=_("div",{class:"title"}).html("HEX"),C=_("div",{class:"title"}).html("R"),k=_("div",{class:"title"}).html("G"),z=_("div",{class:"title"}).html("B"),E=_("input",{class:"input",type:"text",maxlength:7}),D=_("input",{class:"input",type:"text",maxlength:3}),I=_("input",{class:"input",type:"text",maxlength:3}),N=_("input",{class:"input",type:"text",maxlength:3}),l.html(u),h.html(l),a.html(h),v.html(d),s.html(v),g.html(y),m.html(g),c.append(s),c.append(m),c.append(x),c.append(p),c.append(f),w.append(E),w.append(D),w.append(I),w.append(N),w.append(b),w.append(C),w.append(k),w.append(z),o.html(a),o.append(c),o.append(w),i.addEvent(a,"mousedown",function(t){a.data("isDown",!0),V(t)}),i.addEvent(a,"mouseup",function(t){a.data("isDown",!1)}),i.addEvent(d,"mousedown",function(t){t.preventDefault(),s.data("isDown",!0)}),i.addEvent(y,"mousedown",function(t){t.preventDefault(),m.data("isDown",!0)}),i.addEvent(v,"mousedown",function(t){s.data("isDown",!0),A(t)}),i.addEvent(g,"mousedown",function(t){m.data("isDown",!0),M(t)}),i.addEvent(E,"keydown",function(t){if(t.which<65||t.which>70)return j(t)}),i.addEvent(E,"keyup",function(t){var n=r()(this).val();13==t.which&&("#"!=n.charAt(0)||7!=n.length&&4!=n.length||(R(n,"hex"),i.emit("enter",[n,e.rgb(n)])))}),i.addEvent(D,"keydown",j),i.addEvent(D,"keyup",L),i.addEvent(I,"keydown",j),i.addEvent(I,"keyup",L),i.addEvent(N,"keydown",j),i.addEvent(N,"keyup",L),i.addEvent(document,"mouseup",function(t){a.data("isDown",!1),s.data("isDown",!1),m.data("isDown",!1)}),i.addEvent(document,"mousemove",function(t){a.data("isDown")&&V(t),s.data("isDown")&&A(t),m.data("isDown")&&M(t)}),R()},this.setColor=function(t){if("object"==typeof t){if(!t.r||!t.g||!t.b)return;R(e.format(t,"hex"))}else if("string"==typeof t){if("#"!=t.charAt(0))return;R(t)}},this.getColor=function(t){var i=function(){var t=u.data("pos")||{x:0,y:0},i=d.data("pos")||{x:0},n=F.color_width,o=F.color_height,s=i.x/F.hue_width*360,r=t.x/n,a=(o-t.y)/o,l=e.HSVtoRGB(s,r,a);return l.a=H(),l}();return t?("hex"==t&&i.a<1&&(t="rgb"),e.format(i,t)):i}};return i.setup=function(){return{type:"full",color:"#FF0000"}},i}},c={name:"ui.combo",extend:"event",component:function(){var t=o.include("util.base"),e=function(){for(var t=o.get("ui.combo"),e=0;e<t.length;e++)for(var i=t[e],n=0;n<i.length;n++)"open"==i[n].type&&i[n].fold()};r()(function(){document.addEventListener("click",function(t){e()})});var i=function(){var i=null,n=null,o=-1;function s(t,e){var o=i.root,s=i.text,l=i.drop.children("li");l.each(function(i){var l=a(this),h=r()(l).attr("value"),u=r()(l).text();h||(h=u,r()(l).attr("value",h)),("index"==t&&e==i||"value"==t&&e==h)&&(n={index:i,value:h,text:u},o.attr("value",h),s.html(u),o.select&&o.select[0]&&(o.select[0].selectedIndex=i))}),0==l.length&&(n=null)}function a(t){return r()(t).children("a").length>0?r()(t).children("a")[0]:t}function l(t,e){var n=i.drop.children("li"),s=n.eq(o);n.removeClass("active"),""!=s.val()||""!=s.html()?(s.addClass("active"),t.options.height>0&&i.drop.scrollTop(o*s.outerHeight())):"function"==typeof e&&e()}function h(){var t=0;return i.drop.children("li").each(function(e){var i=a(this);t=Math.max(t,r()(i).outerWidth())}),t}this.init=function(){var s=this,h=this.options,u=r()(this.root),d=u.children(".btn").not(".toggle"),c=u.children(".toggle"),p=u.children(".btn"),f=u.children("ul");f.insertAfter(d),h.width>0&&(d.outerWidth(h.width-c.outerWidth()+1),d.css({"overflow-x":"hidden","overflow-y":"hidden","white-space":"nowrap"})),h.height>0&&f.css({"overflow-x":"hidden","overflow-y":"auto","max-height":h.height}),this.addEvent(p,"click",function(i){if(t.isTouch)u.select.focus();else{if("open"==s.type)return;e(),s.open(i)}return!1}),this.addEvent(f,"click","li:not(.divider)",function(t){e();var i=a(this),o=r()(i).attr("value"),l=r()(i).text();n={value:o,text:l,element:i},d.html(l),u.attr("value",o),s.emit("click",[n,t]),s.emit("change",[n,t]),t.preventDefault()}),i={root:u,text:d,drop:f,toggle:c},this.type="fold",this.reload(),function(t){t.options.keydown&&(o=t.options.index,l(t),t.addEvent(window,"keydown",function(e){if("fold"!=t.type){var n=i.drop.children("li");return 38==e.which?(o<1?o=n.length-1:o--,l(t,function(){o--,l(t)}),!1):40==e.which?(o<n.length-1?o++:o=0,l(t,function(){o++,l(t)}),!1):void(13==e.which&&n.eq(o).trigger("click"))}}))}(this)},this.setIndex=function(t){s("index",t),this.emit("change",[n])},this.setValue=function(t){s("value",t),this.emit("change",[n])},this.getData=function(){return n},this.getValue=function(){return null!=n?n.value:null},this.getText=function(){return null!=n?n.text:null},this.open=function(t){if(i.toggle.addClass("active"),i.drop.outerWidth(i.root.outerWidth()-1),"top"==this.options.position){var e=i.drop.outerHeight();i.drop.animate({top:"-"+e,height:"toggle"},100)}else i.drop.slideDown(100);this.options.flex&&(h()>i.drop.outerWidth()&&i.drop.outerWidth(h()+50));this.emit("open",t),this.type="open"},this.fold=function(){i.drop.hide(),i.toggle.removeClass("active"),"top"==this.options.position&&i.drop.css("top",0),this.emit("fold"),this.type="fold"},this.reload=function(){""!=this.options.value?s("value",this.options.value):s("index",this.options.index),function(e){if(t.isTouch){var n=i.root;if(n.select&&n.select[0])(o=n.select).empty();else{var o=r()("<select></select>").css({position:"absolute",opacity:.01});n.find("ul").after(o),e.addEvent(o,"change",function(t){var i=r()(t.currentTarget).find("option:selected").data("elem");e.addTrigger(i,"touchstart")}),n.select=o}n.find("ul > li").each(function(t,e){var i=r()(e).data("value"),n=r()(e).text();o.append(r()("<option></option>").val(i).text(n).data("elem",e))})}}(this),this.emit("reload",n)}};return i.setup=function(){return{index:0,value:"",width:0,height:100,keydown:!1,position:"bottom",flex:!0}},i}},p={name:"ui.datepicker",extend:"event",component:function(){var t=o.include("util.base");function e(t){return t.setHours(0),t.setMinutes(0),t.setSeconds(0),t.setMilliseconds(0),t}var i=function(){var i=null,n=null,o=null,s={},a=null,l=null,h=null,u=null;function d(t,a){var h=t.options,u=[],d=[];if(s={},t.tpl.date)for(var c=0;c<a.objs.length;c++)d.push(t.tpl.date({type:a.objs[c].type,date:a.objs[c].no,day:d.length})),f(c)&&(u.push("<tr>"+d.join("")+"</tr>"),d=[]);else for(c=0;c<a.objs.length;c++)d.push(a.nums[c]),f(c)&&(u.push(t.tpl.dates({dates:d})),d=[]);var p=r()(u.join(""));function f(t){return"daily"==h.type?(t+1)%7==0:(t+1)%3==0}return p.find("td").each(function(h){r()(this).addClass(a.objs[h].type),t.addEvent(this,"click",function(s){"none"!=a.objs[h].type&&(l.find("td").removeClass("active"),r()(this).addClass("active"),function(t,s){var r=t.options;if("daily"==r.type){var a=n<10?"0"+n:n;o=new Date(i+"/"+a+"/"+(s<10?"0"+s:s))}else"monthly"==r.type?(a=s<10?"0"+s:s,o=new Date(i+"/"+a+"/01")):"yearly"==r.type&&(o=new Date(s+"/01/01"));o=e(o)}(t,a.objs[h].no),t.emit("select",[t.getFormat(),s]))}),"none"!=a.objs[h].type&&(s[a.objs[h].no]=this)}),p}function c(t,e){if(2==e)return t%100==0||t%4!=0&&t%400!=0?28:29;return[31,0,31,30,31,30,31,31,30,31,30,31][e-1]}this.init=function(){var e=this.options;a=r()(this.root).children(".head"),l=r()(this.root).children(".body"),h=t.typeCheck("date",e.minDate)?e.minDate:null,u=t.typeCheck("date",e.maxDate)?e.maxDate:null,"daily"==e.type&&(e.date<h?e.date=h:e.date<h&&(e.date=u),h&&u&&u<h&&(h=null,u=null)),function(t){t.addEvent(a.children(".prev"),"click",function(e){t.prev(e)}),t.addEvent(a.children(".next"),"click",function(e){t.next(e)}),t.addEvent(a.children(".prev-year"),"click",function(e){t.prev(e,!0)}),t.addEvent(a.children(".next-year"),"click",function(e){t.next(e,!0)})}(this),this.select(e.date)},this.page=function(s,r){if(0!=arguments.length){var p=this.options;"daily"==p.type?(i=s,n=r,l.find("tr:not(:first-child)").remove(),l.append(d(this,function(t,e,i){var n=[],s=[],r=1,a=new Date,l=new Date(e+"-"+(i<10?"0"+i:i)).getDay(),d=c(e,i),p=0,f=c(1==i?e-1:e,1==i?12:i-1);h&&h.getFullYear()==e&&h.getMonth()+1==i&&(p=h.getDate()),u&&u.getFullYear()==e&&u.getMonth()+1==i&&(d=u.getDate());for(var v=0;v<l;v++)s[v]=f-l+(v+1),n[v]={type:"none",no:s[v]};for(v=l;v<42;v++)if(p<=r&&r<=d){var m="";a.getMonth()+1==i&&a.getDate()==r&&(m="now"),null!=o&&o.getFullYear()==e&&o.getMonth()+1==i&&o.getDate()==r&&(m="active"),s[v]=r,n[v]={type:m,no:s[v]},r++}else s[v]=r-d,n[v]={type:"none",no:s[v]},r++;return{objs:n,nums:s}}(0,i,n)))):"monthly"==p.type?(i=s,l.find("tr").remove(),l.append(d(this,function(t){for(var e=[],i=[],n=new Date,s=1;s<=12;s++){var r="";n.getFullYear()==t&&n.getMonth()+1==s&&(r="now"),null!=o&&o.getFullYear()==t&&o.getMonth()+1==s&&(r="active"),i.push(s),e.push({type:r,no:s})}return{objs:e,nums:i}}(i)))):"yearly"==p.type&&(i=s,l.find("tr").remove(),l.append(d(this,function(t){for(var e=[],i=[],n=t-4,s=new Date,r=n;r<n+12;r++){var a="";s.getFullYear()==r&&(a="now"),null!=o&&o.getFullYear()==r&&(a="active"),i.push(r),e.push({type:a,no:r})}return{objs:e,nums:i}}(i)))),a.children(".title").html(t.dateFormat(function(t){var o=t.options,s=null;return"daily"==o.type?s=new Date(i+"/"+(n<10?"0"+n:n)+"/01"):"monthly"==o.type?s=new Date(i+"/01/01"):"yearly"==o.type&&(s=new Date),e(s)}(this),p.titleFormat))}},this.prev=function(t,e){var o=this.options;if("daily"==o.type){if(e)var s=i-1,r=n;else s=1==n?i-1:i,r=1==n?12:n-1;if(h&&h.getFullYear()==i&&h.getMonth()+1==n)return;this.page(s,r)}else"monthly"==o.type?this.page(i-1):"yearly"==o.type&&this.page(i-12);this.emit("prev",[t])},this.next=function(t,e){var o=this.options;if("daily"==o.type){if(e)var s=i+1,r=n;else s=12==n?i+1:i,r=12==n?1:n+1;if(u&&u.getFullYear()==i&&u.getMonth()+1==n)return;this.page(s,r)}else"monthly"==o.type?this.page(i+1):"yearly"==o.type&&this.page(i+12);this.emit("next",[t])},this.select=function(){var e=this.options,o=arguments,r=i,a=n,l=null;if(3==o.length)r=o[0],a=o[1],l=o[2];else if(1==o.length){var d=t.typeCheck("date",o[0])?o[0]:new Date(o[0]);r=d.getFullYear(),a=d.getMonth()+1,l=d.getDate()}if("daily"==e.type){if(h||u){var c=function(t,e,i){if(h){var n=h.getFullYear(),o=h.getMonth()+1,s=h.getDate();if(t<n||t==n&&e<o)return[n,o,s]}if(u){var r=u.getFullYear(),a=u.getMonth()+1,l=u.getDate();if(t>r||t==r&&e>a)return[r,a,l]}return[t,e,i]}(r,a,l);this.page(c[0],c[1]),this.addTrigger(s[c[2]],"click")}this.page(r,a),this.addTrigger(s[l],"click")}else"monthly"==e.type?(this.page(r),this.addTrigger(s[a],"click")):"yearly"==e.type&&(this.page(r),this.addTrigger(s[r],"click"))},this.addTime=function(t){o=new Date(this.getTime()+t),this.select(this.getTime())},this.getDate=function(){return o},this.getTime=function(){return o.getTime()},this.getFormat=function(e){return t.dateFormat(o,"string"==typeof e?e:this.options.format)},this.reload=function(){var e=this.options;h=t.typeCheck("date",e.minDate)?e.minDate:null,u=t.typeCheck("date",e.maxDate)?e.maxDate:null,"daily"==e.type&&(h&&e.date<h?e.date=h:u&&e.date>u&&(e.date=u)),this.select(),this.emit("reload")}};return i.setup=function(){return{type:"daily",titleFormat:"yyyy.MM",format:"yyyy-MM-dd",date:e(new Date),animate:!1,minDate:null,maxDate:null}},i}},f={name:"ui.layout",extend:"event",component:function(){o.include("util.base");var t=function(){var t=null,e={},i=["top","left","right","bottom","center"],n={top:"n-resize",bottom:"n-resize",right:"e-resize",left:"e-resize"};function o(t,e,i,n){t.mousedown(function(o){t.data("mousedown",!0);var s=t.clone();t.data("shadow",s),t.after(s),i.call(this,o),s.css("opacity",.3),r()(document).on("mousemove",e),r()(document).on("mouseup",function i(o){r()(document).off("mousemove",e),r()(document).off("mouseup",i),n.call(this,o),t.data("mousedown",!1),s.remove(),r()("body :not(.resize)").css({"user-select":""})}),r()("body :not(.resize)").css({"user-select":"none"})})}function s(i){var s,r;s=t[i],(r=s.resizer).css({cursor:n[i]}),r.data("event")||("top"==i?o(r,function(t){if(r.data("mousedown")){var i=t.clientY-r.data("current"),n=e.top.min,o=e.top.max;n<=i&&i<o&&r.css({top:i+"px"})}},function(t){var e=r.position().top;r.data("current",t.clientY-e)},function(e){var i=r.position().top,n=(r.height(),i),o=i+r.height()+"px",s=t.top.height();t.top.height(n);var a=s-n,l=t.center.height()+a;t.center.css({top:o}).height(l),t.left.css({top:o}).height(l),t.left.resizer.css({top:o}).height(l),t.right.css({top:o}).height(l),t.right.resizer.css({top:o}).height(l)}):"bottom"==i?o(r,function(t){if(r.data("mousedown")){var i=t.clientY-r.data("current"),n=e.bottom.min,o=e.bottom.max,a=s.position().top-(i+e.barSize)+s.height();n<=a&&a<=o&&r.css({top:i+"px"})}},function(t){var e=r.position().top;r.data("current",t.clientY-e)},function(e){var i=r.position().top+r.height(),n=(t.root.height(),parseFloat(t.bottom.position().top)-i);t.bottom.css({top:i+"px"}),t.bottom.height(t.bottom.height()+n);var o=t.center.height()-n;t.center.height(o),t.left.height(o),t.left.resizer.height(o),t.right.height(o),t.right.resizer.height(o)}):"left"==i?o(r,function(t){if(r.data("mousedown")){var i=t.clientX-r.data("current"),n=e.left.min,o=e.left.max;n<=i&&i<o&&r.css({left:i+"px"})}},function(t){var e=r.position().left;r.data("left",e).data("current",t.clientX-e)},function(i){if(r.data("mousedown")){var n=r.position().left,o=r.data("left")-n;t.left.css({width:n+"px"}),t.center.css({left:n+e.barSize+"px"}),t.center.width(t.center.width()+o)}}):"right"==i&&o(r,function(i){if(r.data("mousedown")){var n=i.clientX-r.data("current"),o=e.right.min,a=e.right.max,l=t.left.width()+t.left.resizer.width(),h=t.center.width(),u=s.width()-(n-(l+h));o<=u&&u<a&&r.css({left:n+"px"})}},function(t){var e=r.position().left;r.data("left",e).data("current",t.clientX-e)},function(e){if(r.data("mousedown")){var i=r.position().left,n=r.data("left")-i;t.right.css({left:i+r.width()+"px",width:t.right.width()+n+"px"}),t.center.width(t.center.width()-n)}}),r.data("event",!0))}this.init=function(){var n,o,a,l,h,u,d=this,c=this.options;return n=r()(this.root).css("position","relative"),null!=c.width&&n.outerWidth(c.width),null!=c.height&&n.outerHeight(c.height),0==(o=c.top.el?r()(c.top.el):n.find("> .top")).length&&(o=null),0==(a=c.left.el?r()(c.left.el):n.find("> .left")).length&&(a=null),0==(l=c.right.el?r()(c.right.el):n.find("> .right")).length&&(l=null),0==(h=c.bottom.el?r()(c.bottom.el):n.find("> .bottom")).length&&(h=null),0==(u=c.center.el?r()(c.center.el):n.find("> .center")).length&&(u=null),t={root:n,top:o,left:a,right:l,bottom:h,center:u},e=c,function(n){for(var o=0,a=i.length;o<a;o++){var l=t[i[o]];l&&(t.root.append(l),"center"!=i[o]&&e[i[o]].resize&&(l.resizer||(l.resizer=r()("<div class='resize "+i[o]+"' />")),t.root.append(l.resizer),s(i[o])))}n.resize()}(this),r()(window).on("resize",function(t){d.resize()}),this},this.resize=function(){var e=null,i=null,n=0,o=0;e=t.top,i=this.options.top,e&&(e.css({position:"absolute",top:"0px",left:"0px",width:"100%",height:i.size||i.min}),n=e.height(),i.resize?(e.resizer.css({position:"absolute",top:n,left:"0px",width:"100%",background:this.options.barColor,height:this.options.barSize}),n+=this.options.barSize):e.resizer&&e.resizer.remove()),e=t.bottom,i=this.options.bottom;var s=t.root.height();if(e){e.css({position:"absolute",left:"0px",width:"100%",height:i.size||i.min});var r=n-e.height()+n;i.resize?(e.resizer.css({position:"absolute",top:r,left:"0px",width:"100%",background:this.options.barColor,height:this.options.barSize}),r+=this.options.barSize):e.resizer&&e.resizer.remove(),e.css("top",r+"px")}e=t.left,i=this.options.left;var a=s;t.top&&(a-=t.top.height(),t.top.resizer&&(a-=t.top.resizer.height())),t.bottom&&(a-=t.bottom.height(),t.bottom.resizer&&(a-=t.bottom.resizer.height())),e&&(e.css({position:"absolute",top:n,left:"0px",height:a,width:i.size||i.min,"max-width":"100%",overflow:"auto"}),o=e.width(),i.resize?(e.resizer.css({position:"absolute",top:n,height:e.height(),left:o,background:this.options.barColor,width:this.options.barSize}),o+=this.options.barSize):e.resizer&&e.resizer.remove()),e=t.right,i=this.options.right;var l=t.root.width();t.left&&(l-=t.left.width(),t.left.resizer&&(l-=t.left.resizer.width())),e&&(e.css({position:"absolute",top:n,height:a,width:i.size||i.min,"max-width":"100%"}),i.resize?(e.resizer.css({position:"absolute",top:n,height:e.height(),background:this.options.barColor,width:this.options.barSize}),this.options.barSize):e.resizer&&e.resizer.remove(),l-=t.right.width(),t.right.resizer&&(l-=t.right.resizer.width()),e.resizer.css({left:o+l+"px"}),e.css({left:o+l+e.resizer.width()+"px"})),e=t.center,i=this.options.center,e&&e.css({position:"absolute",top:n,height:a,left:o,width:l,overflow:"auto"})}};return t.setup=function(){return{barColor:"#d6d6d6",barSize:3,width:null,height:null,top:{el:null,size:null,min:50,max:200,resize:!0},left:{el:null,size:null,min:50,max:200,resize:!0},right:{el:null,size:null,min:50,max:200,resize:!0},bottom:{el:null,size:null,min:50,max:200,resize:!0},center:{el:null}}},t}},v={name:"ui.modal",extend:"event",component:function(){var t=0,e=0;o.include("util.base").resize(function(){if(t!=r()(window).width()||e!=r()(window).height()){for(var i=o.get("ui.modal"),n=0;n<i.length;n++)for(var s=i[n],a=0;a<s.length;a++)"show"==s[a].type&&s[a].resize();t=r()(window).width(),e=r()(window).height()}},300);var i=function(){var t={},e=null,i=null,n=null,o=5e3;function s(t){var e,i=t.options.target,n="body"==i?window:i,o="body"==i?"fixed":"absolute",s=function(t){return"body"==t?null:r()(t).hasClass("msgbox")||r()(t).hasClass("window")?"absolute":"relative"}(i),a=r()(i).scrollLeft(),l=r()(n).width()/2-r()(t.root).width()/2+r()(i).scrollLeft(),h=r()(n).height()/2-r()(t.root).height()/2,u=a>0?r()(i).outerWidth()+a:"100%",d=r()(i).outerHeight();null!=s?(d=(e=r()(n)[0].scrollHeight)>d?e:d,h+=r()(n).scrollTop()):d=d>(e=r()(window).outerHeight())?d:e;return{x:l,y:h,pos:o,tPos:s,w:u,h:d}}this.init=function(){!function(t){i={position:r()(t.root).css("position"),left:r()(t.root).css("left"),top:r()(t.root).css("top"),"z-index":r()(t.root).css("z-index"),display:r()(t.root).css("display")},n={position:r()(t.options.target).css("position")}}(this),this.options.clone||r()(this.root).hide(),this.type="hide"},this.hide=function(){var o=this.options,s=this.timestamp;o.clone&&(e.remove(),e=null),r()(o.target).css("position",n.position),r()(this.root).css(i),t[s]&&(t[s].remove(),delete t[s]),this.type="hide"},this.show=function(){var i=this.options,n=s(this);i.clone&&(e=r()(this.root).clone()).insertAfter(r()(this.root)),r()(this.root).appendTo(i.target),this.resize(),r()(i.target).css("position",n.tPos),r()(this.root).show(),function(e,i,n){var s=e.timestamp;null==t[s]&&(t[s]=r()("<div id='MODAL_"+e.timestamp+"'></div>").css({position:"absolute",width:i,height:n,left:0,top:0,opacity:e.options.opacity,"background-color":e.options.color,"z-index":o+e.options.index-1}),r()(e.options.target).append(t[s]),r()(e.root).insertAfter(t[s]),e.addEvent(t[s],"click",function(t){return e.options.autoHide&&e.hide(),!1}))}(this,n.w,n.h),this.type="show"},this.resize=function(){var e=s(this),i=this.timestamp;r()(this.root).css({position:e.pos,left:e.x,top:e.y,"z-index":o+this.options.index}),null!=t[i]&&t[i].height(e.h)}};return i.setup=function(){return{color:"black",opacity:.4,target:"body",index:0,clone:!1,autoHide:!0}},i}},m={name:"ui.notify",extend:"event",component:function(){o.include("util.base");var t=function(){var t=null,e=null;this.init=function(){var i=this.options,n="object"==typeof i.padding?12:i.padding;return e={top:{top:n,bottom:"auto",left:n,right:n},"top-right":{top:n,bottom:"auto",left:"auto",right:n},"top-left":{top:n,bottom:"auto",left:n,right:"auto"},bottom:{top:"auto",bottom:n,left:n,right:n},"bottom-right":{top:"auto",bottom:n,left:"auto",right:n},"bottom-left":{top:"auto",bottom:n,left:n,right:n}}[i.position],"object"==typeof i.padding&&(e=r.a.extend(e,i.padding)),"body"!=this.selector&&r()(this.selector).css("position","relative"),t=r()("<div></div>").css(r.a.extend({position:"absolute","z-index":3e3},e)),r()(this.root).append(t),this},this.add=function(i,n){var o=this,s=this.options,a=isNaN(n)?s.timeout:n,l=r()(this.root).scrollTop(),h=r()(this.tpl.item(i)).css({"margin-bottom":s.distance});"top"!=s.position&&"bottom"!=s.position||h.outerWidth(t.width()-3*("object"==typeof s.padding&&s.padding.right?s.padding.right:12)),-1!=s.position.indexOf("top-")?(t.css("top",l+e.top),t.prepend(h)):(t.css("bottom",-(l-e.bottom)),t.append(h));var u=h.css("opacity");function d(){null!=h&&(h.animate({opacity:0},s.hideDuration,s.hideEasing),h.slideUp(s.hideEasing,function(){o.emit("hide",[i]),h.remove(),h=null}))}h.css({opacity:0}).animate({opacity:u},s.showDuration,s.showEasing,function(){o.emit("show",[i])}),this.addEvent(h,"click",function(t){return o.emit("select",[i,t]),d(),!1}),a>0&&setTimeout(d,a)},this.reset=function(){t.empty()}};return t.setup=function(){return{position:"top-right",padding:12,distance:5,timeout:3e3,showDuration:500,hideDuration:500,showEasing:"swing",hideEasing:"linear"}},t}},g={name:"ui.numberchecker",extend:"event",component:function(){o.include("util.base");var t=function(){function t(t,e){return!!(e?/^[-]?\d+$/:/^[-]?\d+(?:[.]\d+)?$/).test(t)}function e(t,e,i,n){t=n?parseInt(t):parseFloat(t);return{min:e=n?parseInt(e):parseFloat(e),max:i=n?parseInt(i):parseFloat(i),value:t}}this.init=function(){var i=this.root,n=this.options.integer,o=this.options.empty,s=this.options.message,a=function(t){var e=r()(t.root),i=t.options,n=(i.integer,e.attr("min")||""),o=e.attr("max")||"",s=e.val()||"";return{min:null!=i.min?i.min:n,max:null!=i.max?i.max:o,value:s}}(this);return t(a.value,n)?r()(i).val(a.value):r()(i).addClass("invalid").val("").attr("placeholder",s),n||r()(i).attr("step","any"),r()(i).attr("min",a.min),r()(i).attr("max",a.max),r()(i).on("input",function(o){var s=r()(i).val();if(t(s,n)){var l=e(s,a.min,a.max,n);""!==a.min&&""!==a.max&&s>=l.min&&s<=l.max&&(a.value=l.value),""!==a.min&&""===a.max&&s>=l.min&&(a.value=l.value),""===a.min&&""!==a.max&&s<=l.max&&(a.value=l.value)}}),r()(i).on("focus",function(t){r()(i).removeClass("invalid").attr("placeholder","")}),r()(i).on("focusout",function(l){var h=r()(i).val();if(t(h,n)){var u=e(h,a.min,a.max,n);""!==a.min&&u.value<u.min?r()(i).val(u.min):""!==a.max&&u.value>u.max?r()(i).val(u.max):r()(i).val(u.value)}else null!=o?r()(i).val(a[o]):r()(i).addClass("invalid").val("").attr("placeholder",s)}),this}};return t.setup=function(){return{integer:!0,empty:null,min:null,max:null,message:"Invalid number"}},t}},x={name:"ui.paging",extend:"event",component:function(){var t=function(){var t=1,e=1,i=null;function n(n,o){var s=[],a=e<n.options.screenCount?e:n.options.screenCount,l=(l=o-Math.ceil(a/2)+1)<1?1:l;if(t=o>e?e:o,t=o<1?1:o,e<l+a){for(var h=e-a+1;h<e+1;h++)s.push(h);t>e&&(t=e)}else for(h=l;h<l+a;h++)s.push(h);i.html(n.tpl.pages({pages:s,lastPage:e})),function(t){t.addEvent(r()(t.root).find(".prev"),"click",function(e){return t.prev(),!1}),t.addEvent(r()(t.root).find(".next"),"click",function(e){return t.next(),!1})}(n),function(t){t.addEvent(i.find(".page"),"click",function(e){var i=parseInt(r()(e.currentTarget).text());return t.page(i),!1})}(n),function(t,e){i.find(".page").each(function(t){r()(this).text()==e?r()(this).addClass("active"):r()(this).removeClass("active")})}(0,t)}this.init=function(){this.options;return i=0==(i=r()(this.root).find(".list")).length?r()(this.root):i,this.reload(),this},this.reload=function(i){i=i||this.options.count;t=1,e=Math.ceil(i/this.options.pageCount),n(this,t),this.emit("reload")},this.page=function(e){if(!e)return t;n(this,e),this.emit("page",[t])},this.next=function(){this.page(t+1)},this.prev=function(){this.page(t-1)},this.first=function(){this.page(1)},this.last=function(){this.page(e)}};return t.setup=function(){return{count:0,pageCount:10,screenCount:5}},t}},y={name:"ui.progress",extend:"event",component:function(){o.include("util.base");var t=function(){var t,e,i,n;function o(){return t.options.min}function s(){return t.options.max}function a(){return t.options.orient}function l(){e.addClass(a()).addClass(t.options.type),i=e.find(".area"),n=e.find(".bar"),0==i.length&&(i=r()("<div class='area' />"),e.html(i)),0==n.length&&(n=r()("<div class='bar' />"),i.html(n)),t.setValue(),t.setStriped(),t.setAnimated()}this.init=function(){t=this,e=r()(this.root),l()},this.setAnimated=function(e){void 0===e?n.toggleClass("animated",t.options.animated):n.toggleClass("animated",e)},this.setStriped=function(e){void 0===e?n.toggleClass("striped",t.options.striped):n.toggleClass("striped",e)},this.setValue=function(e){!function(t){"vertical"==a()?n.height(t+"%"):n.width(t+"%")}(((e=void 0===e?t.options.value:e)-o())/(s()-o())*100)},this.getValue=function(){return o()+(s()-o())*(parseFloat(("vertical"==a()?n.css("height"):n.css("width")).replace("%",""))/100)}};return t.setup=function(){return{type:"",orient:"horizontal",min:0,max:100,value:0,striped:!1,animated:!1}},t}},w={name:"ui.property",extend:"event",component:function(){var t=o.include("util.base"),e=function(){var e,i,n,s=[],a={};function l(t){for(var e=0,i=s.length;e<i;e++)t.call(n,s[e],e)}function h(t,e,i){var n;return function(){var o=arguments;clearTimeout(n),n=setTimeout(function(){n=null,t.apply(i,o)},e)}}this.init=function(){n=this,e=r()(this.root),i=r()("<div class='property-table' />").css({position:"relative"}),e.append(i),this.loadItems(this.options.items)},this.loadItems=function(e){s=t.clone(e),this.initProperty(),this.emit("load.items")},this.initProperty=function(){i.empty(),l(function(t,e){i.append(this.renderItem(t,e))})},this.addItem=function(e){t.typeCheck("array",e)||(e=[e]),s=s.concat(e),this.initProperty()},this.removeItem=function(t){for(var e=[],i=0,n=s.length;i<n;i++){var o=s[i];o.key!=t.key&&o.title!=t.title||e.push(o)}s=e},this.getGroupList=function(){var t=[];return i.find(".property-header-item").each(function(){var e=r()(this).data("item");t.push({name:e.title,id:r()(this).attr("id")})}),t},this.collapsed=function(t){var i=e.find("#"+t);i.addClass("collapsed").removeClass("expanded"),i.find(".expand-btn i").removeClass("icon-minus").addClass("icon-plus");for(var n=i.next();n.length&&!n.hasClass("property-header-item");)n.hide(),n=n.next()},this.expanded=function(t){var i=e.find("#"+t);i.removeClass("collapsed").addClass("expanded"),i.find(".expand-btn i").removeClass("icon-plus").addClass("icon-minus");for(var n=i.next();n.length&&!n.hasClass("property-header-item");)n.show(),n=n.next()},this.renderItem=function(e,i){var o=r()("<div class='property-item' />").attr("data-index",i);if("group"==e.type){o.addClass("property-header-item expanded"),o.attr("id","property-header-item-"+i),o.data("item",e);var s=r()("<div class='property-header' />").html(e.title);e.description&&s.append("<small class='description'>"+e.description+"</small>"),s.append("<a class='expand-btn'><i class='icon-minus' ></i></a>"),o.on("click",function(t){r()(this).hasClass("collapsed")?n.expanded(o.attr("id")):(n.collapsed(o.attr("id")),r.a)}),o.append(s)}else{(t.typeCheck("array",e.value)||e.vertical)&&o.addClass("vertical"),o.attr("data-key",e.key);s=r()("<div class='property-title'  />").html(e.title);var a=r()("<div class='property-render'  />"),l=this.render(o,e);a.append(r()("<div class='item' />").html(l)),e.description&&a.append("<div class='description' >"+e.description+"</div>"),o.append(s),o.append(a)}return o},this.render=function(t,e){var i=e.type||"text";return(e.render||a[i]||a.defaultRenderer)(t,e)},this.getValue=function(t){return t?this.getItem(t).value:this.getAllValue()},this.getDefaultValue=function(){for(var t={},e=0,i=this.options.items;e<i;e++){var n=this.options.items[e];void 0!==n.value&&(t[n.key]=n.value)}return t},this.initValue=function(t){l(function(t,e){t.value=""}),this.initProperty(),t&&this.setValue(t)},this.setValue=function(t){if(t=t||{},Object.keys(t).length)for(var e in t)this.updateValue(e,t[e])},this.findRender=function(t){return this.findItem(t).find(".property-render .item")},this.findItem=function(t){return i.find("[data-key='"+t+"']")},this.getItem=function(e){return t.typeCheck("number",e)?s[e]:t.typeCheck("string",e)?s[parseInt(this.findItem(e).attr("data-index"))]:s[parseInt(e.attr("data-index"))]},this.updateValue=function(t,e){var i=this.findItem(t),n=this.getItem(t);if(n){n.value=e;var o=this.findRender(t);o.empty(),o.html(this.render(i,n))}},this.getAllValue=function(t){var e={};return l(function(t,i){"group"!==t.type&&(e[t.key]=t.value)}),e},this.refreshValue=function(t,e){var i=this.getItem(t),n=i.value;i.value=e,this.emit("change",[i,e,n])},a.str2array=function(t,e){return e=e||",","string"==typeof t?t.split(e):t},a.defaultRenderer=function(t,e){return a.text(t,e)},a.select=function(e,i){for(var o=r()("<select />").css({"max-width":"100%"}),s=i.items||[],l=0,u=s.length;l<u;l++){var d=s[l];"string"==typeof d&&(d={text:d,value:d}),o.append(r()("<option >").val(d.value).text(d.text))}return o.val(i.value),o.on("change",h(function(){var e=r()(this).val();e=t.typeCheck("array",i.value)?a.str2array(e):e,n.refreshValue(r()(this).closest(".property-item"),e)},250,o)),o},a.text=function(e,i){var o=r()("<input type='text' />").css({width:"100%"}).attr({placeholder:"Type here"});return i.readonly&&$input.attr("readonly",!0),o.val(i.value),o.on("input",h(function(){var o=r()(this).val();o=t.typeCheck("array",i.value)?a.str2array(o):o,n.refreshValue(e,o)},250,o)),r()([o[0]])},a.textarea=function(e,i){var o=r()("<textarea />").css({width:"100%",height:i.height||100}).attr({placeholder:"Type here"});return i.readonly&&o.attr("readonly",!0),o.val(i.value),o.on("input",h(function(){var e=r()(this).val();e=t.typeCheck("array",i.value)?a.str2array(e):e,n.refreshValue(r()(this).closest(".property-item"),e)},250,o)),o},a.html=function(t,e){var i=r()("<div class='html' contenteditable=true />").css({width:"100%",height:e.height||100});return e.readonly&&i.attr("contenteditable",!1),i.html(e.value),i.on("input",h(function(){var t=r()(this).html();n.refreshValue(r()(this).closest(".property-item"),t)},250,i)),i},a.number=function(t,e){var i=r()("<input type='number' />").css({"text-align":"center"});return i.attr("max",e.max||100),i.attr("min",e.min||0),i.attr("step",e.step||1),i.val(e.value),i.on("input",h(function(){n.refreshValue(r()(this).closest(".property-item"),+r()(this)[0].value)},250,i)),i},a.range=function(t,e){var i=r()("<div />").css({position:"relative"}),o=r()("<input type='range' />").css({width:"100px","z-index":1});value=e.value;var s=e.postfix||"";e.postfix&&(value=value.replace(s,"")),o.attr("max",e.max||100),o.attr("min",e.min||0),o.attr("step",e.step||1),o.val(+value),e.readonly&&o.attr("readonly",!0);var a=r()("<div class='range-progress' />");a.width(value/(+o.attr("max")-+o.attr("min"))*o.width());var l=r()("<span />");return l.text(value+s),o.on("input",function(){var t=r()(this),e=+t[0].value,i=e/(+t.attr("max")-+t.attr("min"))*r()(this).width();a.width(i),l.text(e+s)}),o.on("input",h(function(){var t=r()(this),e=+t[0].value;n.refreshValue(t.closest(".property-item"),e+s)},250,o)),i.append([o,a,l]),i},a.checkbox=function(t,e){var i=r()("<input type='checkbox' /><i ></i>");return r()(i[0]).hide(),i[0].checked="true"==e.value||!0===e.value,i[0].checked?r()(i[1]).addClass("icon-checkbox"):r()(i[1]).addClass("icon-checkbox2"),i.on("click",h(function(){var e=r()(this).hasClass("icon-checkbox");e?r()(this).addClass("icon-checkbox2").removeClass("icon-checkbox"):r()(this).addClass("icon-checkbox").removeClass("icon-checkbox2"),e=!e,n.refreshValue(t,e)},100,i)),i},a.switch=function(t,e){var i=r()("<div class='switch inner small' />"),s="true"==e.value||!0===e.value;return o.create("ui.switch",i,{checked:s,event:{change:function(e){n.refreshValue(t,e)}}}),i},a.property=function(t,e){var i=r()("<div class='property inner' />");return o.create("ui.property",i,{items:e.items,event:{change:function(){n.refreshValue(t,this.getValue())}}}).setValue(e.value),i},a.date=function(t,e){var s=i,a=r()("<div class='datepicker-input' />"),l=r()("<span class='datepicker-value-text'></span>").css({cursor:"pointer"});a.on("click",function(){var t=a.offset(),e=s.offset(),i=s.outerWidth(),n=s.outerHeight(),o=t.left-e.left;o+a.outerWidth()>=i&&(o=i-a.outerWidth()-20);var r=t.top-e.top+80;r+a.outerHeight()>=n&&(r=n-a.outerHeight()-20),u.css({position:"absolute","z-index":1e5,left:o,top:r}),u.show()});var h=r()("<i class='icon-calendar' />");a.html(h),a.append(l);var u=r()("<div class='datepicker' />").css({position:"absolute",top:"0px",display:"none"}),d=r()("<div class='head' />"),c=r()("<table class='body' />");d.html('<div class="prev"><i class="icon-chevron-left"></i></div><div class="title"></div><div class="next"><i class="icon-chevron-right"></i></div>'),c.html("<tr><th>SU</th><th>MO</th><th>TU</th><th>WE</th><th>TH</th><th>FR</th><th>SA</th></tr>"),u.append(d),u.append(c),s.after(u);var p=o.create("ui.datepicker",u,{date:e.value||+new Date,titleFormat:e.titleFormat||"yyyy. MM",format:e.format||"yyyy/MM/dd",tpl:{date:e.tpl_date||"<td><!= date !></td>"},event:{select:function(e,i){l.html(e),n.refreshValue(t,e)}}});return r()("body").on("click",function(t){var e=r()(t.target).closest(".datepicker"),i=r()(t.target).closest(a);e.length||i.length||u.hide()}),l.html(p.getDate()),a},a.colors=function(t,e){for(var i=[],n=0,o=e.value.length;n<o;n++){var s=a.color(t,e,n);i.push(s[0])}return r()(i)},a.color=function(t,e,s){s=void 0===s?-1:s;var a=r()("<a  class='color-input' />"),l=i,u=-1==s?e.value:e.value[s],d=r()("<span />").css({"background-color":u}).html("&nbsp;"),c=r()("<span />").html(u||""),p=r()("<span class='none-color' title='Delete a color'/>").html("<i class='icon-more'></i>");return a.append(d),a.append(c),a.append(p),a.on("click",function(t){if(r()(t.target).closest(".none-color").length)return t.preventDefault(),d.css("background-color",""),c.text(""),void n.refreshValue(a.closest(".property-item"),"");var i=r()(this).offset(),p=l.next(".colorpicker");if(p.length)p[0].jui.setColor(u||"");else{p=r()('<div class="colorpicker" />'),l.after(p);var f=o.create("ui.colorpicker",p,{color:u,event:{change:h(function(){var t=f.getColor("hex");if(!(t.indexOf("NAN")>-1))if(d.css("background-color",t),c.html(t),-1==s)n.refreshValue(a.closest(".property-item"),t);else{var i=e.value;i[s]=t,n.refreshValue(a.closest(".property-item"),i)}},100,f)}});r()("body").on("click",function(t){var e=r()(t.target).closest(".colorpicker"),i=r()(t.target).closest(a);e.length||i.length||(!function(t){var e=o.getAll(),i=0;for(len=e.length;i<len&&e[i][0]!=t;i++);o.remove(i)}(f),p.remove())})}var v=l.offset(),m=l.outerWidth(),g=l.outerHeight(),x=i.left-v.left;x+p.outerWidth()>=m&&(x=m-p.outerWidth()-20);var y=i.top-v.top+50;y+p.outerHeight()>=g&&(y=g-p.outerHeight()-20),p.css({position:"absolute","z-index":1e5,left:x,top:y}),p.show()}),a}};return e.setup=function(){return{sort:"group",viewport:"default",items:[]}},e}},b={name:"ui.select",extend:"event",component:function(){var t=o.include("util.base"),e=function(){var e,i,n,o,s=[],a={divider:function(t,e){return r()("<hr class='item divider' />")},item:function(t,e){var i=r()('<div class="item option " />');i.attr("data-index",e),i.attr("value",t.value);var n=t.text?"text":"html";return"function"==typeof t[n]?i[n].call(i,t[n].call(t,this)):(i.text(t.text),i[n].call(i,t[n])),t.selected&&i.addClass("selected"),i}};this.init=function(){e=this,i=r()(this.root),s=t.clone(this.options.items),i.hasClass("select")||i.addClass("select"),this.initSelect(),this.initEvent(),this.update(s)},this.initEvent=function(){i.on("click",".title",function(){i.toggleClass("open")}),i.on("click",".item.option",function(){e.setValue(r()(this).attr("value"))}),r()("body").on("click",function(t){r()(t.target).closest(i).length||i.removeClass("open")})},this.initSelect=function(){n=r()("<div class='title' />"),o=r()("<div class='items' />"),n.append(r()("<span />").addClass("title-content")),n.append(r()("<i class='icon-arrow2' ></i>")),i.addClass("select-"+this.options.align),i.addClass("select-"+this.options.valign),this.options.multi&&i.addClass("multi"),i.append(n).append(o)},this.render=function(){n.find(".title-content").empty(),o.empty();for(var t=0,e=s.length;t<e;t++){var i=s[t],r=i.type||"item",l=a[r].call(null,i,t);o.append(l)}},this.setValue=function(t){var e=0;if(this.options.multi){t instanceof Array||(t=[t]);e=0;for(var i=t.length;e<i;e++)o.find("[value='"+t[e]+"']").toggleClass("selected")}else{var n=o.find(".selected"),s=n.attr("value");n.removeClass("selected"),o.find("[value='"+t+"']").addClass("selected")}this.setTitle(),this.emit("change",[this.getValue(),s])},this.getValue=function(){var t=o.find(".selected").map(function(){return r()(this).attr("value")}).toArray();return this.options.multi?t:t[0]},this.setSelectedIndex=function(t){s[t]&&this.setValue(s[t].value)},this.getSelectedIndex=function(){return+o.find(".selected").data("index")||-1},this.setTitle=function(){var t=o.find(".selected").map(function(){return r()("<span class='item-view'>"+r()(this).html()+"</span>")[0]}).toArray();if(0==t.length)var e=this.options.placeholder;else e=r()(t);n.find(".title-content").html(e)},this.update=function(e){for(var i=0,n=(s=t.clone(e)).length;i<n;i++){var o=s[i];"string"==typeof o&&(s[i]={text:o,value:o}),o.selected&&i}this.render(),this.setTitle()}};return e.setup=function(){return{items:[],placeholder:"Select a item",align:"left",valign:"top",multi:!1,modal:!1}},e}},C={name:"ui.slider",extend:"event",component:function(){var t=o.include("util.base"),e=o.include("util.math"),i=function(){var i,n,o,s,a,l,h,u,d,c,p,f,v,m;function g(){return i.options.min}function x(){return i.options.max}function y(){return i.options.type}function w(){return"double"==y()}function b(){return 0!=a.data("tooltip")&&i.options.tooltip}function C(t){return"from"==t?p:v}function k(t){return"from"==t?f:m}function z(t){return"to"==t?u:h}function E(e){return t.isTouch?e.originalEvent.touches[0]:e}function D(t,e){return t[0].style[e]}function I(){if("single"==y())n?c.height(D(h,"bottom")).css({bottom:0}):c.width(D(h,"left"));else if(n){var t=parseFloat(D(u,"bottom").replace("%","")),e=parseFloat(D(h,"bottom").replace("%",""));c.height(t-e+"%").css({bottom:e+"%"})}else{t=parseFloat(D(u,"left").replace("%","")),e=parseFloat(D(h,"left").replace("%",""));c.width(t-e+"%").css({left:e+"%"})}}function N(t,e){var i;if(w())if("from"==e)n?t>=(i=parseFloat(D(u,"bottom").replace("%","")))&&(t=i):t>=(i=parseFloat(D(u,"left").replace("%","")))&&(t=i);else if("to"==e){var o;if(n)t<=(o=parseFloat(D(h,"bottom").replace("%","")))&&(t=o);else t<=(o=parseFloat(D(h,"left").replace("%","")))&&(t=o)}return t}function T(e,r){var a=S(e/100);a<g()&&(a=g()),a>x()&&(a=x()),a=S((e=N(e=(a-g())/(x()-g())*100,r))/100);var h=e+"%",u=z(r);if(n?u.css({bottom:h}):u.css({left:h}),I(),b()){var d=C(r),c=k(r);if(t.typeCheck("function",i.options.format)&&(a=i.options.format.call(i,a)),c.html(a),n)d.css({bottom:l.height()*(e/100),"margin-bottom":d.height()/2*-1});else{d.css({left:h,"margin-left":d.width()/2*-1});var p=l.width()*(e/100),f=p+d.width()/2,v=p-d.width()/2;f>=l.width()?d.css({left:l.width()-d.width()+u.width()/2,"margin-left":0}).addClass("last"):v<=0?d.css({left:-u.width()/2,"margin-left":0}).addClass("first"):d.removeClass("first last")}d.show()}"from"==r?o!=a&&(i.emit("change",[{type:r,from:a,to:i.getToValue()}]),o=a):"to"==r&&s!=a&&(i.emit("change",[{type:r,from:i.getFromValue(),to:a}]),s=a)}function F(t,e){var n,o,s,a=void 0;"vertical"==i.options.orient?(o=(n=l.offset().top-r()("body").scrollTop())+l.height(),a=(s=E(t).clientY)<=n?100:s>=o?0:(o-s)/(o-n)*100):(o=(n=l.offset().left)+l.width(),a=(s=E(t).clientX)<n?0:s>o?100:(s-n)/(o-n)*100),T(a,e)}function S(t){void 0===t&&(t=n?parseFloat(h.css("bottom"))/l.height():parseFloat(h.css("left"))/l.width());var o=g(),s=o+(x()-o)*t,r=i.options.step,a=e.remain(s,r);return s=e.minus(s,a),a>e.div(r,2)&&(s=e.plus(s,r)),s}function V(){a.addClass(i.options.orient),l=r()("<div class='track' />"),d=r()("<div class='tooltip-track' />"),c=r()("<div class='progress' />"),0!=a.data("progress")&&i.options.progress||c.hide(),h=r()("<div class='handle from' />"),l.html(c),l.append(h),w()&&(u=r()("<div class='handle to' />"),l.append(u));var t=n?"right":"top";p=r()('<div class="tooltip '+t+'"><div class="message" /></div>').hide(),f=p.find(".message"),v=r()('<div class="tooltip '+t+'"><div class="message" /></div>').hide(),m=v.find(".message"),d.html(p),d.append(v),a.html(l),a.append(d),b()&&a.addClass("has-tooltip")}this.init=function(){i=this,a=r()(this.root),n="vertical"==this.options.orient,V(),i.addEvent(h,"mousedown",function(t){h.data("select",!0),r()("body").addClass("slider-cursor")}),w()&&i.addEvent(u,"mousedown",function(t){u.data("select",!0),r()("body").addClass("slider-cursor")}),i.addEvent(l,"mousedown",function(t){r()("body").addClass("slider-cursor"),"single"==i.options.type&&(h.data("select",!0),F(t,"from"))}),i.addEvent("body","mouseup",function(t){h.data("select",!1),"double"==i.options.type&&u.data("select",!1),r()("body").removeClass("slider-cursor")}),i.addEvent("body","mousemove",function(t){h.data("select")?F(t,"from"):"double"==i.options.type&&u.data("select")&&F(t,"to")}),this.setFromValue(),this.setToValue()},this.setFromValue=function(t){T(((t||a.data("from")||this.options.from)-g())/(x()-g())*100,"from")},this.setToValue=function(t){w()&&T(((t||a.data("to")||this.options.to)-g())/(x()-g())*100,"to")},this.getFromValue=function(){return S()},this.getToValue=function(){return w()?S(n?parseFloat(u.css("bottom"))/l.height():parseFloat(u.css("left"))/l.width()):S()}};return i.setup=function(){return{type:"single",orient:"horizontal",min:0,max:10,step:1,from:0,to:10,tooltip:!0,format:null,progress:!0}},i}},k={name:"ui.splitter",extend:"event",component:function(){var t=function(){var t,e,i,n,o,s,a,l,h,u,d,c=[];function p(){return"vertical"==h}function f(e){if(p()){var n=e.clientX-i.data("prevClientX"),o=parseFloat(i.css("left"))+n;o=t.caculateMinSize(o),i.css("left",o+"px"),c[1].css("left",o+s+"px"),c[0].css("width",o+"px"),u=o,i.data("prevClientX",e.clientX)}else{var r=e.clientY-i.data("prevClientY"),a=parseFloat(i.css("top"))+r;a=t.caculateMinSize(a),i.css("top",a+"px"),c[1].css("top",a+s+"px"),c[0].css("height",a+"px"),u=a,i.data("prevClientY",e.clientY)}}function v(){r()(document).off("mousemove",f),r()(document).off("mouseup",v),n.css("user-select",""),n.find("iframe").css("pointer-events","auto"),t.emit("move.done",[i])}this.init=function(){t=this,e=r()(this.root),o=this.options.barSize,h=this.options.direction,u=this.options.initSize,a=this.options.minSize,d=this.options.fixed,"number"==typeof a&&(a=[a,a]);for(var i=[],s=0,l=this.options.items.length;s<l;s++)c[s]=e.find(this.options.items[s]),c[s].css({position:"absolute",width:"auto",height:"auto",top:0,right:0,bottom:0,left:0}),i[s]=c[s][0];n=r()(i),this.initElement(),this.initEvent()},this.initElement=function(){e.css({position:"absolute",width:"100%",height:"100%",overflow:"hidden"}),i&&i.length&&i.remove(),(i=p()?r()("<div  />").css({position:"absolute",top:"0px",width:o,bottom:"0px",cursor:"ew-resize"}):r()("<div />").css({position:"absolute",left:"0px",height:o,right:"0px",cursor:"ns-resize"})).addClass(this.options.splitterClass),i.css(this.options.barStyle),s=p()?i.outerWidth():i.outerHeight(),e.append(i),this.initResize()},this.getSize=function(t,e){return"string"==typeof t&&t.indexOf("%")>-1?e*(parseFloat(t.replace("%",""))/100):t},this.getShowList=function(){for(var e=[],i=0,o=n.length;i<o;i++){r()(n[i]).hasClass(t.options.hideClass)||e.push(n[i])}return r()(e)},this.caculateMinSize=function(t){return p(),t<s+a[0]?t=s+a[0]:t>l-s-a[1]&&(t=l-s-a[1]),t},this.initResize=function(){var t=this.getShowList();if(1==t.length)t.css({left:"0px",width:"auto",height:"auto",right:0,top:0,bottom:0}),i.hide();else{if(p()){var n=e.width(),o=this.caculateMinSize(this.getSize(u,n));c[0].css({left:"0px",width:o+"px",top:0,bottom:0}),c[1].css({left:o+s+"px",right:"0px",width:"auto",top:0,bottom:0}),i.css({left:o+"px"})}else{var r=e.height();o=this.caculateMinSize(this.getSize(u,r));c[0].css({top:"0px",height:o+"px",width:"auto",left:0,right:0,bottom:"auto"}),c[1].css({top:o+s+"px",bottom:"0px",width:"auto",left:0,right:0}),i.css({top:o+"px"})}i.show()}},this.initEvent=function(){!0!==d&&e.on("mousedown","> ."+this.options.splitterClass,function(t){n.css("user-select","none"),n.find("iframe").css("pointer-events","none"),p()?(l=e.width(),i.data("prevClientX",t.clientX)):(l=e.height(),i.data("prevClientY",t.clientY)),r()(document).on("mousemove",f),r()(document).on("mouseup",v)})},this.setDirection=function(t){h=t,this.initElement()},this.setInitSize=function(t){u=t,this.initResize()},this.setHide=function(e){r()(n[e]).hide().addClass(t.options.hideClass),this.initResize()},this.setShow=function(e){r()(n[e]).show().removeClass(t.options.hideClass),this.initResize()},this.toggle=function(e){r()(n[e]).hasClass(t.options.hideClass)?this.setShow(e):this.setHide(e)}};return t.setup=function(){return{splitterClass:"ui-splitter",hideClass:"hide",barSize:4,barStyle:{"background-color":"#f6f6f6","border-right":"1px solid #e4e4e4"},direction:"vertical",initSize:"50%",minSize:30,items:[],fixed:!1}},t}},z={name:"ui.stringchecker",extend:"event",component:function(){var t=function(){var t={email:/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,url:/^(http:\/\/www\.|https:\/\/www\.|http:\/\/|https:\/\/)?[a-z0-9]+([\-\.]{1}[a-z0-9]+)*\.[a-z]{2,5}(:[0-9]{1,5})?(\/.*)?$/,color:/#?([A-Fa-f0-9]){3}(([A-Fa-f0-9]){3})?/};function e(e,i,o,s){if(o.validJson){var a='{ "key":"'+i+'" }';try{JSON.parse(a)}catch(t){return s&&n(e,e.emit("invalid",["json",i])),!1}}if(o.validBlank&&""==r.a.trim(i)&&n(e,e.emit("invalid",["blank"])),null!=o.pattern){if("string"==typeof o.pattern){var l=!1,h=o.pattern.toLowerCase(),u=t[h];return null!=u&&(l=u.test(i)),!l&&s&&n(e,e.emit("invalid",[h,i])),l}if("object"==typeof o.pattern)return!(l=u.test(i))&&s&&n(e,e.emit("invalid",["regex",i])),l}return-1!=o.minLength&&i.length<o.minLength&&n(e,e.emit("invalid",["min",i])),-1!=o.maxLength&&i.length>o.maxLength&&n(e,e.emit("invalid",["max",i])),!0}function i(t){return{value:t=""+t}}function n(t,e){if("string"==typeof e&&""!=e)r()(t.root).attr("placeholder",e);else{var i=t.options.message;"string"==typeof i&&""!=i&&r()(t.root).attr("placeholder",i)}r()(t.root).addClass("invalid").val("")}this.init=function(){var t=this,o=this.root,s=function(t){var e=r()(t.root),i=t.options;return{value:e.val()||"",validJson:i.validJson,validBlank:i.validBlank,minLength:i.minLength,maxLength:i.maxLength,pattern:i.pattern}}(this);return r()(o).on("input",function(n){var a=r()(o).val();if(e(t,a,s,!1)){var l=i(a);s.value=l.value}}),r()(o).on("focus",function(t){r()(o).removeClass("invalid").attr("placeholder","")}),r()(o).on("focusout",function(a){var l=r()(o).val();if(e(t,l,s,!0)){var h=i(l);r()(o).val(h.value)}else n(t,null)}),setTimeout(function(){e(t,s.value,s,!0)?r()(o).val(s.value):n(t,null)},100),this}};return t.setup=function(){return{validJson:!0,validBlank:!1,minLength:-1,maxLength:-1,pattern:null,message:null}},t}},E={name:"ui.switch",extend:"event",component:function(){o.include("util.base");var t=function(){function t(t,e){var i=r()(t).find("."+e);return i.length||(i=r()("<div />").addClass(e)),i}this.init=function(){var e=this,i=this.options,n=t(this.root,"left"),o=t(this.root,"right"),s=t(this.root,"area"),a=t(this.root,"bar"),l=t(this.root,"handle");a.html(n),a.append(o),s.html(a),r()(this.root).html(s).append(l),this.addEvent(this.root,i.toggleEvent,function(t){e.toggle()}),i.checked&&r()(this.root).addClass("on")},this.getValue=function(){return r()(this.root).hasClass("on")},this.setValue=function(t){r()(this.root).toggleClass("on",!!t),this.emit("change",[t])},this.toggle=function(){this.setValue(!this.getValue())}};return t.setup=function(){return{checked:!1,toggleEvent:"click"}},t}},D={name:"ui.tab",extend:"event",component:function(){o.include("util.base");var t=o.include("ui.dropdown"),e=function(){var e=null,i=null,n=-1,o=0;function s(t){r()(t.root).children("li").eq(n).removeClass("checked")}function a(t,e){!function(t){r()(t.root).children("li").removeClass("active")}(t);var n=r()(t.root).children("li").eq(e).addClass("active");i.appendTo(n),l(t.options.target,n[0])}function l(t,e,i){var n=r()(e).find("[href*=#]").attr("href");r()(t).children("*").each(function(t){"#"+this.id==n?r()(this).show():r()(this).hide()})}function h(t){r()(t.root).children("li").each(function(i){r()(this).hasClass("menu")&&(n=i),t.addEvent(this,["click","contextmenu"],function(s){if(r()(this).hasClass("disabled"))return!1;var h=r.a.trim(r()(this).text()),u=r()(this).val();if(i!=n){if(i!=o){var d=[{index:i,text:h,value:u},s];""!=t.options.target&&l(t.options.target,this),o=i,t.emit("change",d),t.emit("click",d),a(t,i)}}else t.emit("menu",[{index:i,text:h},s]),"show"!=e.type&&function(t,i){var n=r()(i).offset();r()(i).addClass("checked"),e.show(n.left,n.top+r()(t.root).height())}(t,this);return!1})}),function(t){var e=r()(t.root).children("li"),n=e.filter(".active"),s=e.eq(o),l=1==n.length?n:s;(l.hasClass("disabled")||0==l.length)&&(l=e.eq(0),o=0);i.appendTo(l),a(t,e.index(l))}(t),function(t){if(!t.options.drag)return;var e=r()(t.root).children("li"),i=null,n=null,o=null,s=null;e.each(function(a){t.addEvent(this,"mousedown",function(e){return i=r()(this),n=i.clone().css("opacity","0.5"),o=a,t.emit("dragstart",[o,e]),!1}),t.addEvent(this,"mousemove",function(t){null!=o&&(o>(s=a)?0==s?n.insertBefore(e.eq(0)):n.insertAfter(e.eq(s-1)):s==e.length-1?n.insertAfter(e.eq(s)):n.insertBefore(e.eq(s+1)),i.hide())})}),t.addEvent(t.root,"mouseup",function(e){null!=i&&i.show(),null!=n&&n.remove(),null!=o&&null!=s&&(t.move(o,s),t.emit("dragend",[s,e])),o=null,s=null})}(t)}this.init=function(){var n=this,a=this.options;if(o=a.index,i=r()("<div class='anchor'></div>"),a.nodes.length>0?this.update(a.nodes):h(this),this.tpl.menu){var l=r()(this.tpl.menu());r()("body").append(l),e=t(l,{event:{change:function(t,e){s(n),n.emit("changemenu",[t,e])},hide:function(){s(n)}}})}return this},this.update=function(t){if(this.tpl.node){r()(this.root).empty();for(var e=0;e<t.length;e++)r()(this.root).append(this.tpl.node(t[e]));h(this)}},this.insert=function(t,e){if(this.tpl.node){var i=this.tpl.node(e),n=r()(this.root).children("li");t==n.length?r()(i).insertAfter(n.eq(t-1)):r()(i).insertBefore(n.eq(t)),h(this)}},this.append=function(t){if(this.tpl.node){var e=this.tpl.node(t);-1!=n?(r()(e).insertBefore(r()(this.root).find(".menu")),n++):r()(this.root).append(e),h(this)}},this.prepend=function(t){this.tpl.node&&(r()(this.root).prepend(this.tpl.node(t)),h(this))},this.remove=function(t){r()(this.root).children("li").eq(t).remove(),h(this)},this.move=function(t,e){if(t!=e){var i=r()(this.root).children("li"),n=i.eq(t);t>e?0==e?n.insertBefore(i.eq(0)):n.insertAfter(i.eq(e-1)):e==i.length-1?n.insertAfter(i.eq(e)):n.insertBefore(i.eq(e+1)),o=e,h(this)}},this.show=function(t){if(t!=n&&t!=o){var e=r()(this.root).children("li").eq(t);e.hasClass("disabled")||(o=t,this.emit("change",[{index:t,text:r.a.trim(e.text()),value:e.val()}]),a(this,t))}},this.enable=function(t){t!=n&&t!=o&&r()(this.root).children("li").eq(t).removeClass("disabled")},this.disable=function(t){t!=n&&t!=o&&r()(this.root).children("li").eq(t).addClass("disabled")},this.activeIndex=function(){return o}};return e.setup=function(){return{target:"",index:0,drag:!1,nodes:[]}},e}},I={name:"ui.timepicker",extend:"event",component:function(){var t=function(){var t,e,i=null;function n(i,n){var o=new Date(i,n,0);return{min:{year:t,month:1,date:1,hours:0,minutes:0},max:{year:e,month:12,date:o.getDate(),hours:23,minutes:59}}}function o(t){return t<10?"0"+t:t}function s(t){var e=t||window.event,i=e.keyCode||e.which;i=String.fromCharCode(i);/[0-9]|\./.test(i)||(e.returnValue=!1,e.preventDefault&&e.preventDefault())}function a(t,e,i,n,s){s||r()(t).focus(),function(t,e){var i=parseInt(r()(t).val())+(e||0);i<0&&(i=0),r()(t).val(o(i))}(t,e),function(t,e,i){var n=parseInt(r()(t).val());isNaN(n)?r()(t).val(o(e)):(n>i&&r()(t).val(i),n<e&&r()(t).val(o(e)))}(t,i,n)}function l(t){var e=r()(t.target).parent(),o=0,s=i.attr("class"),l=n(e.children(".year").val(),e.children(".month").val());38==t.which?o=1:40==t.which&&(o=-1),0!=o&&a(t.target,o,l.min[s],l.max[s])}this.init=function(){return t=this.options.minYear,e=this.options.maxYear,function(h){var u=h.options.year,d=h.options.month,c=h.options.date,p=h.options.hours,f=h.options.minutes,v=r()(h.root).children(".year").attr("maxlength",4),m=r()(h.root).children(".month").attr("maxlength",2),g=r()(h.root).children(".date").attr("maxlength",2),x=r()(h.root).children(".hours").attr("maxlength",2),y=r()(h.root).children(".minutes").attr("maxlength",2);v.on("keypress",s),v.on("keyup",l),v.on("focusout",function(i){a(this,0,t,e,!0)}),v.on("focus",function(t){(i=v).select()}),m.on("keypress",s),m.on("keyup",l),m.on("focusout",function(t){a(this,0,1,12,!0)}),m.on("focus",function(t){(i=m).select()}),g.on("keypress",s),g.on("keyup",l),g.on("focusout",function(t){a(this,0,1,n(v.val(),m.val()).max.date,!0)}),g.on("focus",function(t){(i=g).select()}),x.on("keypress",s),x.on("keyup",l),x.on("focusout",function(t){a(this,0,0,23,!0)}),x.on("focus",function(t){(i=x).select()}),y.on("keypress",s),y.on("keyup",l),y.on("focusout",function(t){a(this,0,0,59,!0)}),y.on("focus",function(t){(i=y).select()}),v.val(u),m.val(o(d)),g.val(o(c)),x.val(o(p)),y.val(o(f)),i=0==v.length?x:v}(this),function(t){var e=r()(t.root).children("i"),o=r()("<div></div>"),s=r()("<div></div>"),l=r()(t.root).children(".year"),h=r()(t.root).children(".month");if(r()(t.root).children(".date"),r()(t.root).children(".hours"),r()(t.root).children(".minutes"),!(l.length>0)){var u=r()(t.root).outerHeight()/2,d={position:"absolute",width:u,height:u,cursor:"pointer",right:e.css("right")};o.css(r.a.extend({top:"0px"},d)),s.css(r.a.extend({top:u+"px"},d)),o.on("click",function(t){var e=i.attr("class"),o=n(l.val(),h.val());a(i[0],1,o.min[e],o.max[e])}),s.on("click",function(t){var e=i.attr("class"),o=n(l.val(),h.val());a(i[0],-1,o.min[e],o.max[e])}),r()(t.root).append(o),r()(t.root).append(s)}}(this),this},this.setYear=function(i){a(r()(this.root).children(".year").val(i)[0],0,t,e)},this.getYear=function(){return parseInt(r()(this.root).children(".year").val())},this.setMonth=function(t){a(r()(this.root).children(".month").val(t)[0],0,1,12)},this.getMonth=function(){return parseInt(r()(this.root).children(".month").val())},this.setDate=function(t){var e=n(this.getYear(),this.getMonth());a(r()(this.root).children(".date").val(t)[0],0,1,e.max.date)},this.getDate=function(){return parseInt(r()(this.root).children(".date").val())},this.setHours=function(t){a(r()(this.root).children(".hours").val(t)[0],0,0,23)},this.getHours=function(){return parseInt(r()(this.root).children(".hours").val())},this.setMinutes=function(t){a(r()(this.root).children(".minutes").val(t)[0],0,0,59)},this.getMinutes=function(){return parseInt(r()(this.root).children(".minutes").val())}};return t.setup=function(){var t=new Date;return{year:t.getFullYear(),month:t.getMonth()+1,date:t.getDate(),hours:t.getHours(),minutes:t.getMinutes(),minYear:2015,maxYear:2020}},t}},N={name:"ui.tooltip",extend:"event",component:function(){var t=function(){var t=null,e={},i="",n=null;function o(i,n){t=r()(i.tpl.item({timestamp:i.timestamp,position:i.options.position,color:i.options.color,message:n})),i.options.width&&t.css("max-width",i.options.width),i.options.align&&t.css("text-align",i.options.align),r()("body").append(t),function(i){var n=r()(i.root).offset(),o=r()(i.root).outerWidth(),s=r()(i.root).outerHeight(),a=t.outerWidth(),l=t.outerHeight(),h=0,u=0,d=i.options.position;"left"==d?(h=n.left-a,u=n.top-(l-s)/2):"right"==d?(h=n.left+o,u=n.top-(l-s)/2):"bottom"==d?(h=n.left-a/2+o/2,u=n.top+s):(h=n.left-a/2+o/2,u=n.top-l);e={x:h<1?1:h,y:u<1?1:u}}(i)}function s(i,o){clearTimeout(n),null!=t&&(t.remove(),t=null,e={}),null!=n&&(i.emit("hide",[o]),n=null)}this.init=function(){var a=this,l=this.options;i=r()(this.root).attr("title"),r()(this.root).removeAttr("title"),r()(this.root).off(l.showType).off(l.hideType),this.addEvent(this.root,l.showType,function(r){return null==n?n=setTimeout(function(){!function(n,r){t&&s(n,r);var a=n.options.title?n.options.title:i;""!=a&&(o(n,a),t.css({left:e.x,top:e.y}))}(a,r),null!=t&&a.emit("show",[t.get(0),r])},l.delay):l.showType==l.hideType&&s(a,r),!1}),l.showType!=l.hideType&&this.addEvent(this.root,l.hideType,function(t){return s(a,t),!1})},this.update=function(e){i=e,null!=t&&t.find(".message").html(i)}};return t.setup=function(){return{color:"null",position:"top",width:150,align:"left",delay:0,showType:"mouseover",hideType:"mouseout",title:"",tpl:{item:"<div class='tooltip <!= position !>' <! if(color != null) { !>style='background-color: <!= color !>'<! } !>><div class='anchor'></div><div class='message'><!= message !></div></div>"}}},t}};o.defineUI("ui.tooltip",["jquery"],function(t){});var T={name:"ui.tree.node",component:function(){return function(t,e){var i=this;function n(t){i.nodenum=isNaN(t)?i.nodenum:t,i.parent&&(null==i.parent.index?i.index=""+i.nodenum:i.index=i.parent.index+"."+i.nodenum),i.parent&&"string"==typeof i.index&&(i.depth=i.index.split(".").length),i.children.length>0&&function t(e){for(var i=e.children,n=0;n<i.length;n++)i[n].reload(n),i[n].children.length>0&&t(i[n])}(i)}function o(){if(!e)return i.element;try{var t=r()(e(r.a.extend({node:{index:i.index,data:i.data,depth:i.depth}},i.data))).get(0)}catch(t){console.log(t)}return t}function s(t){r()(t.element).remove();for(var e=0;e<t.children.length;e++){var i=t.children[e];i.children.length>0?s(i):r()(i.element).remove()}}function a(t){for(var e=0;e<t.children.length;e++){var i=t.children[e];i.reload(e),i.children.length>0&&a(i)}}this.data=t,this.element=null,this.index=null,this.nodenum=null,this.parent=null,this.children=[],this.depth=0,this.type="open",this.reload=function(t,e){if(n(t),null!=this.element){var i=o();e?r()(i).insertAfter(this.element):r()(this.parent.element).children("ul").append(i),r()(this.element).remove(),this.element=i}else this.element=o()},this.reloadChildrens=function(){a(this)},this.destroy=function(){null!=this.parent?this.parent.removeChild(this.index):(s(this),r()(this.element).remove())},this.isLeaf=function(){return 0==this.children.length},this.fold=function(){r()(this.element).children("ul").hide(),this.type="fold"},this.open=function(){r()(this.element).children("ul").show(),this.type="open"},this.appendChild=function(t){r()(this.element).children("ul").append(t.element),this.children.push(t)},this.insertChild=function(t,e){0==t?0==this.children.length?r()(this.element).children("ul").append(e.element):r()(e.element).insertBefore(this.children[0].element):r()(e.element).insertAfter(this.children[t-1].element);var i=this.children.splice(0,t);i.push(e),this.children=i.concat(this.children),a(this)},this.removeChild=function(t){for(var e=0;e<this.children.length;e++){var i=this.children[e];i.index==t&&(this.children.splice(e,1),s(i))}a(this)},this.lastChild=function(){return this.children.length>0?this.children[this.children.length-1]:null},this.lastChildLeaf=function(t){var e=t||this.lastChild();return e.isLeaf()?e:this.lastChildLeaf(e.lastChild())}}}};o.use(T);var F={name:"ui.tree.base",component:function(){var t=o.include("util.base"),e=o.include("ui.tree.node");return function(i){var n=this,o=null,s=i.$obj,r=i.$tpl,a=t.index();function l(t,i,n){var o=new e(t,r.node);return o.parent=n||null,o.reload(i),o}function h(t,e){var i=e.children;if(i.length>0)for(var n=0;n<i.length;n++)t.push(i[n]),i[n].children.length>0&&h(t,i[n])}this.appendNode=function(){var t=arguments[0],e=arguments[1];return e?function(t,e){var i=n.getNode(t),o=l(e,i.children.length,i);return i.appendChild(o),o}(t,e):function(t){if(null==o)o=l(t),s.tree.append(o.element);else{var e=l(t,o.children.length,o);o.appendChild(e)}return e}(t)},this.insertNode=function(t,e){return 0==o.children.length&&0==parseInt(t)?this.appendNode(e):function(t,e){var i=a.getIndexList(t),o=n.getNodeParent(t),s=i[i.length-1],r=l(e,s,o);return o.insertChild(s,r),r}(t,e)},this.updateNode=function(t,e){var i=this.getNode(t);for(var n in e)i.data[n]=e[n];return i.reload(i.nodenum,!0),i.reloadChildrens(),i},this.removeNode=function(t){this.getNode(t).destroy()},this.removeNodes=function(){var t=o.children;if(t.length>0){var e=t.pop();e.parent=null,e.destroy(),this.removeNodes()}},this.openNode=function(t){null==t?this.getRoot().open():this.getNode(t).open()},this.foldNode=function(t){null==t?this.getRoot().fold():this.getNode(t).fold()},this.openNodeAll=function(t){for(var e=this.getNodeAll(t),i=0;i<e.length;i++)e[i].open();null==t&&this.getRoot().open()},this.foldNodeAll=function(t){for(var e=this.getNodeAll(t),i=0;i<e.length;i++)e[i].fold();null==t&&this.getRoot().fold()},this.moveNode=function(t,e){if(t!=e&&!function t(e,i){var n=a.getParentIndex(i);return null!=n&&(e==n||t(e,n))}(t,e)){var i=this.getNode(t),n=this.getNodeParent(e),o=a.getIndexList(e),s=o[o.length-1];if(!function(t,e){for(var i=[];;){var n=e.parent;if(!n)break;i.push(n),e=n}for(var o=0;o<i.length;o++)if(t==i[o])return!0;return!1}(i,n)){i.parent.children.splice(i.nodenum,1),i.parent.reloadChildrens(),i.parent=n;var r=n.children.splice(0,s);r.push(i),n.children=r.concat(n.children),n.reloadChildrens()}}},this.getNode=function(t){if(null==t)return o.children;var e=o.children;if(a.isIndexDepth(t)){var i=a.getIndexList(t);return function t(e,i){if(!i)return null;var n=e.shift();return void 0==n?i:t(e,i.children[n])}(i,e[i.shift()])}return e[t]?e[t]:null},this.getNodeAll=function(t){for(var e=[],i=null==t?o.children:[this.getNode(t)],n=0;n<i.length;n++)i[n]&&(e.push(i[n]),i[n].children.length>0&&h(e,i[n]));return e},this.getNodeParent=function(t){var e=a.getIndexList(t);return 1==e.length?o:2==e.length?this.getNode(e[0]):e.length>2?(e.pop(),this.getNode(e.join("."))):void 0},this.getRoot=function(){return o}}}};o.use(F);var S={name:"ui.tree",extend:"event",component:function(){var t=o.include("util.base"),e=o.include("ui.tree.base"),i=function(){var i={start:null,end:null,clone:null},n=null,o=t.index();function s(t,e){for(var i=0;i<e.length;i++){var n=e[i];r()(n.element).removeClass("open fold leaf last"),n.parent&&n.isLeaf()?r()(n.element).addClass("leaf"):"open"==n.type?(r()(n.element).addClass("open"),n.open()):(r()(n.element).addClass("fold"),n.fold()),n.parent?n.parent.lastChild()==n&&r()(n.element).addClass("last"):r()(n.element).addClass("root"),r()(n.element).children("i:first-child").remove(),r()(n.element).prepend(r()("<i></i>"))}}function a(t,e,i){if(null==e)if(t.options.rootHide){for(var n=t.uit.getRoot().children,o=0;o<n.length;o++)i(n[o].index);d(t,!1)}else i(e),d(t,!0);else i(e),d(t,!1)}function l(t,e){for(var i=0;i<e.length;i++)!function(e){var i=r()(e.element);t.addEvent(i.children("i:first-child"),"click",function(i){"open"==e.type?t.fold(e.index,i):t.open(e.index,i),i.stopPropagation()}),t.addEvent(i.children("a,span,div")[0],"click",function(n){i.hasClass("disabled")||i.attr("disabled")||(t.emit("select",[e,n]),t.emit("change",[e,n]),n.stopPropagation())})}(e[i])}function h(t,e){if(t.options.drag){var n=t.uit.getRoot();e||(i.start=null,i.end=null,i.clone=null),r()(n.element).find("li.hover").removeClass("hover")}}function u(t,e,n,s){if(t.options.drag){var a=s?o.getNextIndex(e.index):e.index,l=r()("<div class='drag'></div>").attr("data-index",a).css(n).outerWidth(r()(e.element).outerWidth());r()(t.root).append(l),t.addEvent(l,"mouseover",function(e){i.start&&(i.end=a,l.addClass("on"),h(t,!0))}),t.addEvent(l,"mouseout",function(t){i.start&&l.removeClass("on")})}}function d(t,e){var n=t.listAll();s(0,n),l(t,n),function(t,e){if(t.options.drag){for(var n=t.uit.getRoot(),s=0;s<e.length;s++)!function(e){r()(e.element).off("mousedown").off("mouseup"),t.addEvent(e.element,"mousedown",function(n){if("I"!=n.target.tagName)return null==i.start&&!1!==t.emit("dragstart",[e,n])&&(i.start=e.index),!1}),t.addEvent(e.element,"mouseup",function(n){if("I"!=n.target.tagName){if(!1!==t.options.dragChild&&i.start&&i.start!=e.index){var s=e.lastChild(),r=s?o.getNextIndex(s.index):e.index+".0";!1!==t.emit("dragend",[t.get(e.index),n])&&t.move(i.start,r)}return h(t),!1}}),t.addEvent(e.element,"mouseover",function(n){if("I"!=n.target.tagName)return!1!==t.options.dragChild&&i.start&&i.start!=e.index&&!1!==t.emit("dragover",[e,n])&&(h(t,!0),r()(e.element).addClass("hover")),!1}),t.addEvent(n.element,"mouseup",function(e){if("I"!=e.target.tagName){if(!1!==t.options.dragChild&&i.start){var o=""+n.children.length;t.move(i.start,o),t.emit("dragend",[t.get(o),e])}return h(t),!1}})}(e[s]);t.addEvent("body","mouseup",function(e){return i.start&&i.end&&(t.move(i.start,i.end),t.emit("dragend",[t.get(i.end),e])),h(t),!1})}}(t,n),function(t){if(t.options.drag){r()(t.root).find(".drag").remove();for(var e=t.listAll(),i=0;i<e.length;i++){var n=e[i],o=r()(n.element).position();o.top>0&&u(t,n,o)}}}(t),function(t){if(t.options.drag)for(var e=t.listAll(),i=0;i<e.length;i++){var n=e[i],o=r()(n.element).position();o.top>0&&n.parent&&n.parent.lastChild()==n&&(o.top=o.top+r()(n.element).outerHeight(),u(t,n,o,!0))}}(t),e&&(s(0,[t.uit.getRoot()]),l(t,[t.uit.getRoot()]))}this.init=function(){var t=this.options;if(this.uit=new e({$obj:{tree:r()(this.root)},$tpl:this.tpl}),!t.root)throw new Error("JUI_CRITICAL_ERROR: root data is required");if(this.uit.appendNode(t.root),d(this,!0),t.rootHide){var i=this.uit.getRoot();r()(i.element).css("padding-left","0px"),r()(i.element).children("*:not(ul)").hide()}t.rootFold&&this.fold()},this.update=function(e,i){var n=1==arguments.length?arguments[0]:arguments[1];if(null!=(e=2==arguments.length?arguments[0]:null))this.uit.updateNode(e,n);else{var o=t.index();this.uit.removeNodes();for(var s=0;s<n.length;s++){var r=o.getParentIndex(n[s].index);null==r?this.uit.appendNode(n[s].data):this.uit.appendNode(r,n[s].data)}}d(this)},this.append=function(){var t=1==arguments.length?arguments[0]:arguments[1],e=2==arguments.length?arguments[0]:null;t=void 0==t.length?[t]:t;for(var i=0;i<t.length;i++)null!=e?this.uit.appendNode(e,t[i]):this.uit.appendNode(t[i]);d(this)},this.insert=function(t,e){for(var i=void 0==e.length?[e]:e,n=0;n<i.length;n++)this.uit.insertNode(t,i[n]);d(this)},this.select=function(t){var e=null==t?this.uit.getRoot():this.get(t);return r()(this.root).find("li").removeClass("active"),r()(e.element).addClass("active"),n=t,e},this.unselect=function(){if(null!=n){var t=this.get(n);return r()(t.element).removeClass("active"),n=null,t}},this.remove=function(t){this.uit.removeNode(t),d(this)},this.reset=function(){this.uit.removeNodes(),d(this)},this.move=function(t,e){this.uit.moveNode(t,e),d(this)},this.open=function(t,e){if(null!=t||!this.options.rootHide){var i=null==t;this.uit.openNode(t),d(this,i),this.emit("open",[i?this.uit.getRoot():this.get(t),e])}},this.fold=function(t,e){if(null!=t||!this.options.rootHide){var i=null==t;this.uit.foldNode(t),d(this,i),this.emit("fold",[i?this.uit.getRoot():this.get(t),e])}},this.openAll=function(t){var e=this,i=null==t;a(this,t,function(t){e.uit.openNodeAll(t)}),this.emit("openall",[i?this.uit.getRoot():this.get(t)])},this.foldAll=function(t){var e=this,i=null==t;a(this,t,function(t){e.uit.foldNodeAll(t)}),this.emit("foldall",[i?this.uit.getRoot():this.get(t)])},this.list=function(){return this.uit.getNode()},this.listAll=function(){return this.uit.getNodeAll()},this.listParents=function(t){var e=this.get(t),i=[];return e.parent&&function t(e){null!=e.index&&(i.push(e),null!=e.parent&&t(e.parent))}(e.parent),i.reverse()},this.get=function(t){return null==t?null:this.uit.getNode(t)},this.getAll=function(t){return null==t?null:this.uit.getNodeAll(t)},this.activeIndex=function(){return n}};return i.setup=function(){return{root:null,rootHide:!1,rootFold:!1,drag:!1,dragChild:!0}},i}},V={name:"ui.window",extend:"event",component:function(){o.include("util.base");var t=o.include("ui.modal"),e=function(){var e=null,i=null,n={},o={},s={},a=null;function l(){var t=s.$foot.length<1?5:s.$foot.outerHeight();s.$body.outerHeight(s.$root.outerHeight()-s.$head.outerHeight()-t)}this.init=function(){var h=this,u=this.options,d=r()(this.root),c=r()(this.root).children(".head"),p=r()(this.root).children(".body"),f=r()(this.root).children(".foot");if(u.modal&&(u.move=!1,u.resize=!1),e=u.layerIndex,s={$root:d,$head:c,$body:p,$foot:f},d.css(r.a.extend({position:"absolute"},u)).appendTo(r()("body")),u.move&&this.addEvent(c,"mousedown",function(t){i=d,n.check=!0,n.disX=t.pageX-i.offset().left,n.disY=t.pageY-i.offset().top}),u.resize&&(d.append("<i class='icon-resize resize'></i>"),this.addEvent(d.children(".resize"),"mousedown",function(t){return i=d,o.check=!0,o.disX=i.width()+i.offset().left,o.disWidth=i.width(),o.disY=i.height()+i.offset().top,o.disHeight=i.height(),!1})),u.modal||h.addEvent(d,"mousedown",function(t){d.css("z-index",++e),t.stopPropagation()}),this.addEvent(c.find(".close"),"click",function(t){return h.hide(),!1}),this.addEvent("body","mousemove",function(t){if(n.check){var e=t.pageX-n.disX,s=t.pageY-n.disY;r()(i).css({left:e+"px",top:s+"px"})}if(o.check){var a=t.pageX-o.disX,h=t.pageY-o.disY;i.width(o.disWidth+a),i.height(o.disHeight+h),l()}}),this.addEvent("body","mouseup",function(t){n.check&&h.emit("move",t),o.check&&h.emit("resize",t),n.check=!1,o.check=!1}),this.type="hide",d.hide(),u.modal){var v=u.modalIndex>0?{index:u.modalIndex}:{};a=t(h.root,r.a.extend({autoHide:!1},v))}},this.hide=function(){a?a.hide():s.$root.hide(),this.emit("hide"),this.type="hide"},this.show=function(t,e){a?a.show():s.$root.show(),(t||e)&&this.move(t,e),this.emit("show"),this.type="show",l()},this.move=function(t,e){s.$root.css("left",t),s.$root.css("top",e)},this.update=function(t){s.$body.empty().html(t)},this.setTitle=function(t){s.$head.find(".title").empty().html(t)},this.setSize=function(t,e){s.$root.width(t),s.$root.height(e),l()},this.resize=function(){l()},this.resizeModal=function(){a&&a.resize()}};return e.setup=function(){return{width:400,height:300,left:"auto",top:"auto",right:"auto",bottom:"auto",modal:!1,move:!0,resize:!0,modalIndex:0,layerIndex:2e3,animate:!1}},e}};o.use([a,l,h,u,d,c,p,f,v,m,g,x,y,w,b,C,k,z,E,D,I,N,T,F,S,V]),window.jui=window.JUI=o},17:function(t,e){}});