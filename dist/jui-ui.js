!function(t){function e(e){for(var i,a,s=e[0],l=e[1],u=e[2],c=0,d=[];c<s.length;c++)a=s[c],o[a]&&d.push(o[a][0]),o[a]=0;for(i in l)Object.prototype.hasOwnProperty.call(l,i)&&(t[i]=l[i]);for(h&&h(e);d.length;)d.shift()();return r.push.apply(r,u||[]),n()}function n(){for(var t,e=0;e<r.length;e++){for(var n=r[e],i=!0,s=1;s<n.length;s++){var l=n[s];0!==o[l]&&(i=!1)}i&&(r.splice(e--,1),t=a(a.s=n[0]))}return t}var i={},o={1:0},r=[];function a(e){if(i[e])return i[e].exports;var n=i[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=t,a.c=i,a.d=function(t,e,n){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},a.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)a.d(n,i,function(e){return t[e]}.bind(null,i));return n},a.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="";var s=window.webpackJsonp=window.webpackJsonp||[],l=s.push.bind(s);s.push=e,s=s.slice();for(var u=0;u<s.length;u++)e(s[u]);var h=l;r.push([3,0]),n()}([,function(t,e,n){if("object"==typeof t&&t.exports)try{t.exports=n(4)}catch(t){console.warn("JUI_WARNING_MSG: Base module does not exist")}},function(t,e,n){!function(e){var i="undefined"!=typeof jQuery?jQuery:null;if(null==i)try{i=n(0)}catch(t){i=null}var o={jquery:i},r={},a={},s={template:{evaluate:/<\!([\s\S]+?)\!>/g,interpolate:/<\!=([\s\S]+?)\!>/g,escape:/<\!-([\s\S]+?)\!>/g},logUrl:"tool/debug.html"},l=o["util.base"]={browser:{webkit:"WebkitAppearance"in document.documentElement.style,mozilla:void 0!==e.mozInnerScreenX,msie:-1!=e.navigator.userAgent.indexOf("Trident")},isTouch:/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(e.navigator.userAgent),inherit:function(t,e){this.typeCheck("function",t)&&this.typeCheck("function",e)&&(t.parent=e,t.prototype=new e,t.prototype.constructor=t,t.prototype.parent=t.prototype,t.prototype.super=function(t,e){return this.constructor.prototype[t].apply(this,e)})},extend:function(t,e,n){if(this.typeCheck(["object","function"],t)||(t={}),!this.typeCheck(["object","function"],e))return t;for(var i in e)!0===n?o(t[i])?this.extend(t[i],e[i],n):this.typeCheck("undefined",t[i])&&(t[i]=e[i]):o(t[i])?this.extend(t[i],e[i],n):t[i]=e[i];function o(t){return l.typeCheck("object",t)}return t},pxToInt:function(t){return this.typeCheck("string",t)&&-1!=t.indexOf("px")?parseInt(t.split("px").join("")):t},clone:function(t){var e=this.typeCheck("array",t)?[]:{};for(var n in t)this.typeCheck("object",t[n])?e[n]=this.clone(t[n]):e[n]=t[n];return e},deepClone:function(t,e){var n=null;if(e=e||{},this.typeCheck("array",t)){n=new Array(t.length);for(var i=0,o=t.length;i<o;i++)n[i]=this.deepClone(t[i],e)}else if(this.typeCheck("date",t))n=t;else if(this.typeCheck("object",t))for(var r in n={},t)e[r]?n[r]=t[r]:n[r]=this.deepClone(t[r],e);else n=t;return n},sort:function(t){return new(c.include("util.sort"))(t)},runtime:function(t,e){var n=(new Date).getTime();e();var i=(new Date).getTime();console.warn(t+" : "+(i-n)+"ms")},template:function(t,e){var n=c.include("util.template");return n(t,e||null,s.template)},resize:function(t,n){var i=function(){var e=0;return function(){clearTimeout(e),e=setTimeout(t,n)}}();e.addEventListener?e.addEventListener("resize",i):object.attachEvent?e.attachEvent("onresize",i):e.onresize=i},index:function(){return new(c.include("util.keyparser"))},chunk:function(t,e){for(var n=[],i=0,o=t.length;i<o;)n.push(t.slice(i,i+=e));return n},typeCheck:function(t,e){function n(t,e){return"string"==typeof t&&("string"==t?"string"==typeof e:"integer"==t?"number"==typeof e&&e%1==0:"float"==t?"number"==typeof e&&e%1!=0:"number"==t?"number"==typeof e:"boolean"==t?"boolean"==typeof e:"undefined"==t?void 0===e:"null"==t?null===e:"array"==t?e instanceof Array:"date"==t?e instanceof Date:"function"==t?"function"==typeof e:"object"==t&&!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof RegExp))}if("object"==typeof t&&t.length){for(var i=t,o=0;o<i.length;o++)if(n(i[o],e))return!0;return!1}return n(t,e)},typeCheckObj:function(t,e){if("object"==typeof t){var n=this;for(var i in t){var o=t[i];"function"==typeof o&&function(i,o){t[i]=function(){for(var t=arguments,r=e[i],a=0;a<t.length;a++)if(!n.typeCheck(r[a],t[a]))throw new Error("JUI_CRITICAL_ERR: the "+a+"th parameter is not a "+r[a]+" ("+name+")");return o.apply(this,t)}}(i,o)}}},dataToCsv:function(t,e,n){for(var i="",o=n||e.length,r=-1;r<o;r++){for(var a=[],s=0;s<t.length;s++)if(t[s])if(-1==r)a.push('"'+t[s]+'"');else{var l=e[r][t[s]];a.push(isNaN(l)?'"'+l+'"':l)}i+=a.join(",")+"\n"}return i},dataToCsv2:function(t){for(var e="",n=this.extend({fields:null,rows:null,names:null,types:null,count:this.typeCheck("integer",t.count)?t.count:t.rows.length},t),i=-1;i<n.count;i++){for(var o=[],r=0;r<n.fields.length;r++)if(n.fields[r])if(-1==i)n.names&&n.names[r]?o.push('"'+n.names[r]+'"'):o.push('"'+n.fields[r]+'"');else{var a=n.rows[i][n.fields[r]];this.typeCheck("array",n.types)?"string"==n.types[r]?o.push('"'+a+'"'):"integer"==n.types[r]?o.push(parseInt(a)):"float"==n.types[r]?o.push(parseFloat(a)):o.push(a):o.push(isNaN(a)?'"'+a+'"':a)}e+=o.join(",")+"\n"}return e},fileToCsv:function(t,e){var n=new FileReader;n.onload=function(t){l.typeCheck("function",e)&&e(t.target.result)},n.readAsText(t)},csvToBase64:function(t){return"data:application/octet-stream;base64,"+c.include("util.base64").encode(t)},csvToData:function(t,e,n){for(var i=[],o=e.split("\n"),r=1;r<o.length;r++)if(""!=o[r]){for(var a=o[r].split(","),s={},l=0;l<t.length;l++)s[t[l]]=a[l],this.startsWith(a[l],'"')&&this.endsWith(a[l],'"')?s[t[l]]=a[l].split('"').join(""):s[t[l]]=a[l],-1!=this.inArray(t[l],n)&&(s[t[l]]=parseFloat(a[l]));i.push(s)}return i},getCsvFields:function(t,e){for(var n=this.typeCheck("array",e)?e:t,i=0;i<n.length;i++)isNaN(n[i])||(n[i]=t[n[i]]);return n},svgToBase64:function(t){return"data:image/svg+xml;base64,"+c.include("util.base64").encode(t)},dateFormat:function(t,e,n){var i=["\0","January","February","March","April","May","June","July","August","September","October","November","December"],o=["","Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],r=["","Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],a=["","Sun","Mon","Tue","Wed","Thu","Fri","Sat"];function s(t,e){var n=t+"";for(e=e||2;n.length<e;)n="0"+n;return n}var l=n?t.getUTCFullYear():t.getFullYear();e=(e=(e=e.replace(/(^|[^\\])yyyy+/g,"$1"+l)).replace(/(^|[^\\])yy/g,"$1"+l.toString().substr(2,2))).replace(/(^|[^\\])y/g,"$1"+l);var u=(n?t.getUTCMonth():t.getMonth())+1;e=(e=(e=(e=e.replace(/(^|[^\\])MMMM+/g,"$1"+i[0])).replace(/(^|[^\\])MMM/g,"$1"+o[0])).replace(/(^|[^\\])MM/g,"$1"+s(u))).replace(/(^|[^\\])M/g,"$1"+u);var h=n?t.getUTCDate():t.getDate();e=(e=(e=(e=e.replace(/(^|[^\\])dddd+/g,"$1"+r[0])).replace(/(^|[^\\])ddd/g,"$1"+a[0])).replace(/(^|[^\\])dd/g,"$1"+s(h))).replace(/(^|[^\\])d/g,"$1"+h);var c=n?t.getUTCHours():t.getHours();e=(e=e.replace(/(^|[^\\])HH+/g,"$1"+s(c))).replace(/(^|[^\\])H/g,"$1"+c);var d=c>12?c-12:0==c?12:c;e=(e=e.replace(/(^|[^\\])hh+/g,"$1"+s(d))).replace(/(^|[^\\])h/g,"$1"+d);var f=n?t.getUTCMinutes():t.getMinutes();e=(e=e.replace(/(^|[^\\])mm+/g,"$1"+s(f))).replace(/(^|[^\\])m/g,"$1"+f);var p=n?t.getUTCSeconds():t.getSeconds();e=(e=e.replace(/(^|[^\\])ss+/g,"$1"+s(p))).replace(/(^|[^\\])s/g,"$1"+p);var v=n?t.getUTCMilliseconds():t.getMilliseconds();e=e.replace(/(^|[^\\])fff+/g,"$1"+s(v,3)),v=Math.round(v/10),e=e.replace(/(^|[^\\])ff/g,"$1"+s(v)),v=Math.round(v/10),e=e.replace(/(^|[^\\])f/g,"$1"+v);var g=c<12?"AM":"PM";e=(e=e.replace(/(^|[^\\])TT+/g,"$1"+g)).replace(/(^|[^\\])T/g,"$1"+g.charAt(0));var m=g.toLowerCase();e=(e=e.replace(/(^|[^\\])tt+/g,"$1"+m)).replace(/(^|[^\\])t/g,"$1"+m.charAt(0));var y=-t.getTimezoneOffset(),x=n||!y?"Z":y>0?"+":"-";if(!n){var b=(y=Math.abs(y))%60;x+=s(Math.floor(y/60))+":"+s(b)}e=e.replace(/(^|[^\\])K/g,"$1"+x);var w=(n?t.getUTCDay():t.getDay())+1;return e=(e=(e=(e=(e=e.replace(new RegExp(r[0],"g"),r[w])).replace(new RegExp(a[0],"g"),a[w])).replace(new RegExp(i[0],"g"),i[u])).replace(new RegExp(o[0],"g"),o[u])).replace(/\\(.)/g,"$1")},createId:function(t){return[t||"id",+new Date,Math.round(100*Math.random())%100].join("-")},btoa:function(t){return c.include("util.base64").encode(t)},atob:function(t){return c.include("util.base64").decode(t)},timeLoop:function(t,e){return function(n,i){!function t(o){o<1||(1==o?(n.call(e,o),i.call(e)):setTimeout(function(){o>-1&&n.call(e,o--),o>-1&&t(o)},1))}(t)}},loop:function(t,e){var n=t,i=Math.ceil(t/5);return function(t){for(var o=0,r=1*i,a=2*i,s=3*i,l=4*i,u=r,h=a,c=s,d=l,f=n;o<u&&o<n;)t.call(e,o,1),o++,r<h&&r<n&&(t.call(e,r,2),r++),a<c&&a<n&&(t.call(e,a,3),a++),s<d&&s<n&&(t.call(e,s,4),s++),l<f&&l<n&&(t.call(e,l,5),l++)}},loopArray:function(t,e){var n=t.length,i=n,o=Math.ceil(n/5);return function(n){for(var r=0,a=1*o,s=2*o,l=3*o,u=4*o,h=a,c=s,d=l,f=u,p=i;r<h&&r<i;)n.call(e,t[r],r,1),r++,a<c&&a<i&&(n.call(e,t[a],a,2),a++),s<d&&s<i&&(n.call(e,t[s],s,3),s++),l<f&&l<i&&(n.call(e,t[l],l,4),l++),u<p&&u<i&&(n.call(e,t[u],u,5),u++)}},makeIndex:function(t,e){var n={};return this.loopArray(t)(function(t,i){var o=t[e];void 0===n[o]&&(n[o]=[]),n[o].push(i)}),n},startsWith:function(t,e,n){return n=n||0,t.lastIndexOf(e,n)===n},endsWith:function(t,e,n){var i=t;(void 0===n||n>i.length)&&(n=i.length),n-=e.length;var o=i.indexOf(e,n);return-1!==o&&o===n},inArray:function(t,e){if(this.typeCheck(["undefined","null"],t)||!this.typeCheck("array",e))return-1;for(var n=0,i=e.length;n<i;n++)if(e[n]==t)return n;return-1},trim:function(t){var e=new RegExp("^[\\x20\\t\\r\\n\\f]+|((?:^|[^\\\\])(?:\\\\.)*)[\\x20\\t\\r\\n\\f]+$","g");return null==t?"":(t+"").replace(e,"")},ready:function(){var t,n,i={"[object Boolean]":"boolean","[object Number]":"number","[object String]":"string","[object Function]":"function","[object Array]":"array","[object Date]":"date","[object RegExp]":"regexp","[object Object]":"object"},o={isReady:!1,readyWait:1,holdReady:function(t){t?o.readyWait++:o.ready(!0)},ready:function(e){if(!0===e&&!--o.readyWait||!0!==e&&!o.isReady){if(!document.body)return setTimeout(o.ready,1);if(o.isReady=!0,!0!==e&&--o.readyWait>0)return;t.resolveWith(document,[o])}},bindReady:function(){if(!t){if(t=o._Deferred(),"complete"===document.readyState)return setTimeout(o.ready,1);if(document.addEventListener)document.addEventListener("DOMContentLoaded",n,!1),e.addEventListener("load",o.ready,!1);else if(document.attachEvent){document.attachEvent("onreadystatechange",n),e.attachEvent("onload",o.ready);var i=!1;try{i=null==e.frameElement}catch(t){}document.documentElement.doScroll&&i&&r()}}},_Deferred:function(){var t,e,n,i=[],r={done:function(){if(!n){var e,a,s,l,u,h=arguments;for(t&&(u=t,t=0),e=0,a=h.length;e<a;e++)s=h[e],"array"===(l=o.type(s))?r.done.apply(r,s):"function"===l&&i.push(s);u&&r.resolveWith(u[0],u[1])}return this},resolveWith:function(o,r){if(!n&&!t&&!e){r=r||[],e=1;try{for(;i[0];)i.shift().apply(o,r)}finally{t=[o,r],e=0}}return this},resolve:function(){return r.resolveWith(this,arguments),this},isResolved:function(){return!(!e&&!t)},cancel:function(){return n=1,i=[],this}};return r},type:function(t){return null==t?String(t):i[Object.prototype.toString.call(t)]||"object"}};function r(){if(!o.isReady){try{document.documentElement.doScroll("left")}catch(t){return void setTimeout(r,1)}o.ready()}}return document.addEventListener?n=function(){document.removeEventListener("DOMContentLoaded",n,!1),o.ready()}:document.attachEvent&&(n=function(){"complete"===document.readyState&&(document.detachEvent("onreadystatechange",n),o.ready())}),function(e){o.bindReady(),o.type(e),t.done(e)}}(),param:function(t){var e=[],n=function(t,n){n=l.typeCheck("function",n)?n():null==n?"":n,e[e.length]=encodeURIComponent(t)+"="+encodeURIComponent(n)};for(var i in t)n(i,t[i]);return e.join("&").replace(/%20/g,"+")},ajax:function(t){var e=null,n="",i=null,o=l.extend({url:null,type:"GET",data:null,async:!0,success:null,fail:null},t);if(this.typeCheck("string",o.url)&&this.typeCheck("function",o.success)){if(this.typeCheck("object",o.data)&&(n=this.param(o.data)),this.typeCheck("undefined",XMLHttpRequest))for(var r=["MSXML2.XmlHttp.5.0","MSXML2.XmlHttp.4.0","MSXML2.XmlHttp.3.0","MSXML2.XmlHttp.2.0","Microsoft.XmlHttp"],a=0,s=r.length;a<s;a++)try{e=new ActiveXObject(r[a]);break}catch(t){}else e=new XMLHttpRequest;null!=e&&(e.open(o.type,o.url,o.async),e.send(n),i=function(){4===e.readyState&&200==e.status?o.success(e):l.typeCheck("function",o.fail)&&o.fail(e)},o.async?e.onreadystatechange=i:i())}},scrollWidth:function(){var t=document.createElement("p");t.style.width="100%",t.style.height="200px";var e=document.createElement("div");e.style.position="absolute",e.style.top="0px",e.style.left="0px",e.style.visibility="hidden",e.style.width="200px",e.style.height="150px",e.style.overflow="hidden",e.appendChild(t),document.body.appendChild(e);var n=t.offsetWidth;e.style.overflow="scroll";var i=t.offsetWidth;return n==i&&(i=e.clientWidth),document.body.removeChild(e),n-i}},u=function(t){for(var e=[],n=0;n<t.length;n++){var i=o[t[n]];if(l.typeCheck(["function","object"],i))e.push(i);else{var r=h(t[n]);null==r?(console.warn("JUI_WARNING_MSG: '"+t[n]+"' is not loaded"),e.push(null)):e.push(r)}}return e},h=function(t){var e=null;t+=".";for(var n in o)if(-1!=n.indexOf(t)&&l.typeCheck(["function","object"],o[n])){var i=n.split(t).join("");-1==i.indexOf(".")&&(null==e&&(e={}),e[i]=o[n])}return e},c={ready:function(){var t=[],e=2==arguments.length?arguments[1]:arguments[0],n=2==arguments.length?arguments[0]:null;if(!l.typeCheck(["array","null"],n)||!l.typeCheck("function",e))throw new Error("JUI_CRITICAL_ERR: Invalid parameter type of the function");l.ready(function(){if(n)t=u(n);else{var i=h("ui"),o={};l.extend(o,i),l.extend(o,h("grid")),t=[i,o,l]}e.apply(null,t)})},defineUI:function(t,e,n,i){if(!(l.typeCheck("string",t)&&l.typeCheck("array",e)&&l.typeCheck("function",n)&&l.typeCheck(["string","undefined"],i)))throw new Error("JUI_CRITICAL_ERR: Invalid parameter type of the function");if(l.typeCheck("function",a[t]))throw new Error("JUI_CRITICAL_ERR: '"+t+"' is already exist");if(l.typeCheck("undefined",i)&&(i="event"),!l.typeCheck("function",a[i]))throw new Error("JUI_CRITICAL_ERR: Parents are the only function");if(!0!==r[i])throw new Error("JUI_CRITICAL_ERR: UI function can not be inherited");var s=u(e),h=n.apply(null,s);l.inherit(h,a[i]),o[t]=a["core"!=i?"event":"core"].init({type:t,class:h}),a[t]=h,r[t]=!0},redefineUI:function(t,e,n,i,s){s||!0!==r[t]||(o[t]=null,a[t]=null,r[t]=!1),(!s||s&&!0!==r[t])&&this.defineUI(t,e,n,i)},createUIObject:function(t,e,n,i,o,r){var a=new t.class,s=c.defineOptions(t.class,o||{});for(var u in a.init.prototype=a,a.init.prototype.selector=e,a.init.prototype.root=i,a.init.prototype.options=s,a.init.prototype.tpl={},a.init.prototype.event=new Array,a.init.prototype.timestamp=(new Date).getTime(),a.init.prototype.index=n,a.init.prototype.module=t,l.typeCheck("function",r)&&r(a,s),s.tpl){var h=s.tpl[u];l.typeCheck("string",h)&&""!=h&&(a.init.prototype.tpl[u]=l.template(h))}var d=new a.init;for(var f in s.event)d.on(f,s.event[f]);return i.jui=d,d},define:function(t,e,n,i){if(!(l.typeCheck("string",t)&&l.typeCheck("array",e)&&l.typeCheck("function",n)&&l.typeCheck(["string","undefined","null"],i)))throw new Error("JUI_CRITICAL_ERR: Invalid parameter type of the function");if(l.typeCheck("function",a[t]))throw new Error("JUI_CRITICAL_ERR: '"+t+"' is already exist");var s=u(e),h=n.apply(null,s);if(l.typeCheck("function",a[i])){if(!0!==r[i])throw new Error("JUI_CRITICAL_ERR: UI function can not be inherited");l.inherit(h,a[i])}o[t]=h,a[t]=h,r[t]=!0},redefine:function(t,e,n,i,s){s||!0!==r[t]||(o[t]=null,a[t]=null,r[t]=!1),(!s||s&&!0!==r[t])&&this.define(t,e,n,i)},defineOptions:function(t,e,n){for(var i=function t(e,n){if(l.typeCheck("function",e)){if(l.typeCheck("function",e.setup)){var i=e.setup();for(var o in i)l.typeCheck("undefined",n[o])&&(n[o]=i[o])}t(e.parent,n)}return n}(t,{}),o=Object.keys(i),r=Object.keys(e),a=0;a<r.length;a++){var s=r[a];if(-1==l.inArray(s,o)&&-1==l.inArray(s,n))throw new Error("JUI_CRITICAL_ERR: '"+s+"' is not an option")}return l.extend(e,i,!0),e},include:function(t){if(!l.typeCheck("string",t))throw new Error("JUI_CRITICAL_ERR: Invalid parameter type of the function");var e=o[t];if(l.typeCheck(["function","object"],e))return e;var n=h(t);return null==n?(console.warn("JUI_WARNING_MSG: '"+t+"' is not loaded"),null):n},includeAll:function(){var t=[];for(var e in o)t.push(o[e]);return t},log:function(t){var n=e.open(t||s.logUrl,"JUIM","width=1024, height=768, toolbar=no, menubar=no, resizable=yes");return c.debugAll(function(t,e){n.log(t,e)}),n},setup:function(t){return l.typeCheck("object",t)&&(s=l.extend(s,t)),s},use:function(){for(var t=[],e=0;e<arguments.length;e++)if(l.typeCheck("array",arguments[e]))for(var n=arguments[e],i=0;i<n.length;i++)l.typeCheck("object",n[i])&&t.push(n[i]);else l.typeCheck("object",arguments[e])&&t.push(arguments[e]);for(e=0;e<t.length;e++){var o=t[e];if("object"==typeof o){if("string"!=typeof o.name)return;if("function"!=typeof o.component)return;null!=o.extend&&null==c.include(o.extend)&&console.warn("JUI_WARNING_MSG: '"+o.extend+"' module should be imported in first"),"event"==o.extend?c.redefineUI(o.name,[],o.component,o.extend):c.redefine(o.name,[],o.component,o.extend)}}}};"object"==typeof t&&t.exports&&(t.exports=c)}(window)},function(t,e,n){n(18),n(16)},function(t,e,n){if("object"==typeof t&&t.exports)try{t.exports=n(2),n(5),n(6),n(7),n(8),n(9),n(10),n(11),n(12),n(13),n(14),n(15)}catch(t){console.warn("JUI_WARNING_MSG: Base module does not exist")}},function(t,e,n){n(2).define("util.dom",["util.base"],function(t){return{find:function(){var e=arguments;if(1==e.length){if(t.typeCheck("string",e[0]))return document.querySelectorAll(e[0])}else if(2==e.length&&t.typeCheck("object",e[0])&&t.typeCheck("string",e[1]))return e[0].querySelectorAll(e[1]);return[]},each:function(e,n){if(t.typeCheck("function",n)){var i=null;t.typeCheck("string",e)?i=document.querySelectorAll(e):t.typeCheck("array",e)&&(i=e),null!=i&&Array.prototype.forEach.call(i,function(t,e){n.apply(t,[e,t])})}},attr:function(e,n){if(t.typeCheck(["string","array"],e)){var i=document.querySelectorAll(e);if(t.typeCheck("object",n))for(var o=0;o<i.length;o++)for(var r in n)i[o].setAttribute(r,n[r]);else if(t.typeCheck("string",n)&&i.length>0)return i[0].getAttribute(n)}},remove:function(t){this.each(t,function(){this.parentNode.removeChild(this)})},offset:function(t){var e,n,i={top:0,left:0},o=t&&t.ownerDocument;if(o){e=o.documentElement;return void 0!==t.getBoundingClientRect&&(i=t.getBoundingClientRect()),n=function(t){return function(t){return null!=t&&t==t.window}(t)?t:9===t.nodeType&&(t.defaultView||t.parentWindow)}(o),{top:i.top+(n.pageYOffset||e.scrollTop)-(e.clientTop||0),left:i.left+(n.pageXOffset||e.scrollLeft)-(e.clientLeft||0)}}}}})},function(t,e,n){n(2).define("util.sort",[],function(){return function(t,e){var n=null;t=e?t.slice(0):t;function i(e,n){var i=t[e];t[e]=t[n],t[n]=i}this.setCompare=function(t){n=t},this.run=function(e,o){var r=null;return"number"!=typeof e&&(e=0),"number"!=typeof o&&(o=t.length-1),e<o&&(r=e+Math.ceil(.5*(o-e)),newPivot=function(e,o,r){var a=o,s=t[e];i(e,r);for(var l=o;l<r;l++)(n(t[l],s)||!n(s,t[l])&&l%2==1)&&(i(l,a),a++);return i(r,a),a}(r,e,o),this.run(e,newPivot-1),this.run(newPivot+1,o)),t}}})},function(t,e,n){n(2).define("util.keyparser",[],function(){return function(){this.isIndexDepth=function(t){return"string"==typeof t&&-1!=t.indexOf(".")},this.getIndexList=function(t){for(var e=[],n=(""+t).split("."),i=0;i<n.length;i++)e[i]=parseInt(n[i]);return e},this.changeIndex=function(t,e,n){for(var i=this.getIndexList(n).length,o=this.getIndexList(t),r=this.getIndexList(e),a=0;a<i;a++)o.shift();return r.concat(o).join(".")},this.getNextIndex=function(t){var e=this.getIndexList(t),n=e.pop()+1;return e.push(n),e.join(".")},this.getParentIndex=function(t){return this.isIndexDepth(t)?t.substr(0,t.lastIndexOf(".")):null}}})},function(t,e,n){n(2).define("util.base64",[],function(){var t={_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode:function(e){var n,i,o,r,a,s,l,u="",h=0;for(e=t._utf8_encode(e);h<e.length;)r=(n=e.charCodeAt(h++))>>2,a=(3&n)<<4|(i=e.charCodeAt(h++))>>4,s=(15&i)<<2|(o=e.charCodeAt(h++))>>6,l=63&o,isNaN(i)?s=l=64:isNaN(o)&&(l=64),u=u+t._keyStr.charAt(r)+t._keyStr.charAt(a)+t._keyStr.charAt(s)+t._keyStr.charAt(l);return u},decode:function(e){var n,i,o,r,a,s,l="",u=0;for(e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");u<e.length;)n=t._keyStr.indexOf(e.charAt(u++))<<2|(r=t._keyStr.indexOf(e.charAt(u++)))>>4,i=(15&r)<<4|(a=t._keyStr.indexOf(e.charAt(u++)))>>2,o=(3&a)<<6|(s=t._keyStr.indexOf(e.charAt(u++))),l+=String.fromCharCode(n),64!=a&&(l+=String.fromCharCode(i)),64!=s&&(l+=String.fromCharCode(o));return l=t._utf8_decode(l)},_utf8_encode:function(t){t=t.replace(/\r\n/g,"\n");for(var e=String.fromCharCode(239)+String.fromCharCode(187)+String.fromCharCode(191),n=0;n<t.length;n++){var i=t.charCodeAt(n);i<128?e+=String.fromCharCode(i):i>127&&i<2048?(e+=String.fromCharCode(i>>6|192),e+=String.fromCharCode(63&i|128)):(e+=String.fromCharCode(i>>12|224),e+=String.fromCharCode(i>>6&63|128),e+=String.fromCharCode(63&i|128))}return e},_utf8_decode:function(t){for(var e="",n=0,i=c1=c2=0;n<t.length;)(i=t.charCodeAt(n))<128?(e+=String.fromCharCode(i),n++):i>191&&i<224?(c2=t.charCodeAt(n+1),e+=String.fromCharCode((31&i)<<6|63&c2),n+=2):(c2=t.charCodeAt(n+1),c3=t.charCodeAt(n+2),e+=String.fromCharCode((15&i)<<12|(63&c2)<<6|63&c3),n+=3);return e}};return t})},function(t,e,n){n(2).define("util.math",["util.base"],function(t){function e(t,e){for(var n=[],i=0,o=t.length;i<o;i++){for(var r=0,a=0,s=t[i].length;a<s;a++)r+=t[i][a]*e[a];n.push(r)}return n}return{rotate:function(t,e,n){return{x:t*Math.cos(n)-e*Math.sin(n),y:t*Math.sin(n)+e*Math.cos(n)}},resize:function(t,e,n,i){var o=i/n;return n>=t&&o<=1?(n=t,i=e*o):i>=e&&(i=e,n=t/o),{width:n,height:i}},radian:function(t){return t*Math.PI/180},degree:function(t){return 180*t/Math.PI},angle:function(t,e,n,i){var o=n-t,r=i-e;return Math.atan2(r,o)},interpolateNumber:function(t,e){var n=e-t;return function(e){return t+n*e}},interpolateRound:function(t,e){var n=e-t;return function(e){return Math.round(t+n*e)}},getFixed:function(t,e){var n=(t+"").split("."),i=n.length<2?0:n[1].length,o=(e+"").split("."),r=o.length<2?0:o[1].length;return i>r?i:r},fixed:function(t){var e=this.getFixed(t,0),n=Math.pow(10,e),i=function(t){return Math.round(t*n)/n};return i.plus=function(t,e){return Math.round(t*n+e*n)/n},i.minus=function(t,e){return Math.round(t*n-e*n)/n},i.multi=function(t,e){return Math.round(t*n*(e*n))/(n*n)},i.div=function(t,e){var i=t*n/(e*n),o=Math.pow(10,this.getFixed(i,0));return Math.round(i*o)/o},i.remain=function(t,e){return Math.round(t*n%(e*n))/n},i},round:function(t,e){var n=Math.pow(10,e);return Math.round(t*n)/n},plus:function(t,e){var n=Math.pow(10,this.getFixed(t,e));return Math.round(t*n+e*n)/n},minus:function(t,e){var n=Math.pow(10,this.getFixed(t,e));return Math.round(t*n-e*n)/n},multi:function(t,e){var n=Math.pow(10,this.getFixed(t,e));return Math.round(t*n*(e*n))/(n*n)},div:function(t,e){var n=Math.pow(10,this.getFixed(t,e)),i=t*n/(e*n),o=Math.pow(10,this.getFixed(i,0));return Math.round(i*o)/o},remain:function(t,e){var n=Math.pow(10,this.getFixed(t,e));return Math.round(t*n%(e*n))/n},nice:function(t,e,n,i){if(i=i||!1,t>e)var o=t,r=e;else r=t,o=e;var a,s,l=n,u=0,h=[];function c(t,e){var n=Math.floor(Math.log(t)/Math.LN10),i=t/Math.pow(10,n);return niceFraction=e?i<1.5?1:i<3?2:i<7?5:10:i<=1?1:i<=2?2:i<=5?5:10,niceFraction*Math.pow(10,n)}return h=i?c(o-r,!1):o-r,u=i?c(h/l,!0):h/l,a=i?Math.floor(r/u)*u:r,s=i?Math.floor(o/u)*u:o,{min:a,max:s,range:h,spacing:u}},matrix:function(n,i){return t.typeCheck("array",i[0])?function(t,n){for(var i=[],o=[],r=0,a=n.length;r<a;r++)i[r]=[],o[r]=[];for(r=0,a=n.length;r<a;r++)for(var s=0,l=n[r].length;s<l;s++)i[s].push(n[r][s]);for(r=0,a=i.length;r<a;r++){var u=e(t,i[r]);for(s=0,l=u.length;s<l;s++)o[s].push(u[s])}return o}(n,i):e(n,i)},matrix3d:function(t,e){return e[0]instanceof Array||e[0]instanceof Float32Array?function(t,e){var n=[new Float32Array(4),new Float32Array(4),new Float32Array(4),new Float32Array(4)],i=[new Float32Array([e[0][0],e[1][0],e[2][0],e[3][0]]),new Float32Array([e[0][1],e[1][1],e[2][1],e[3][1]]),new Float32Array([e[0][2],e[1][2],e[2][2],e[3][2]]),new Float32Array([e[0][3],e[1][3],e[2][3],e[3][3]])];return n[0][0]=t[0][0]*i[0][0]+t[0][1]*i[0][1]+t[0][2]*i[0][2]+t[0][3]*i[0][3],n[1][0]=t[1][0]*i[0][0]+t[1][1]*i[0][1]+t[1][2]*i[0][2]+t[1][3]*i[0][3],n[2][0]=t[2][0]*i[0][0]+t[2][1]*i[0][1]+t[2][2]*i[0][2]+t[2][3]*i[0][3],n[3][0]=t[3][0]*i[0][0]+t[3][1]*i[0][1]+t[3][2]*i[0][2]+t[3][3]*i[0][3],n[0][1]=t[0][0]*i[1][0]+t[0][1]*i[1][1]+t[0][2]*i[1][2]+t[0][3]*i[1][3],n[1][1]=t[1][0]*i[1][0]+t[1][1]*i[1][1]+t[1][2]*i[1][2]+t[1][3]*i[1][3],n[2][1]=t[2][0]*i[1][0]+t[2][1]*i[1][1]+t[2][2]*i[1][2]+t[2][3]*i[1][3],n[3][1]=t[3][0]*i[1][0]+t[3][1]*i[1][1]+t[3][2]*i[1][2]+t[3][3]*i[1][3],n[0][2]=t[0][0]*i[2][0]+t[0][1]*i[2][1]+t[0][2]*i[2][2]+t[0][3]*i[2][3],n[1][2]=t[1][0]*i[2][0]+t[1][1]*i[2][1]+t[1][2]*i[2][2]+t[1][3]*i[2][3],n[2][2]=t[2][0]*i[2][0]+t[2][1]*i[2][1]+t[2][2]*i[2][2]+t[2][3]*i[2][3],n[3][2]=t[3][0]*i[2][0]+t[3][1]*i[2][1]+t[3][2]*i[2][2]+t[3][3]*i[2][3],n[0][3]=t[0][0]*i[3][0]+t[0][1]*i[3][1]+t[0][2]*i[3][2]+t[0][3]*i[3][3],n[1][3]=t[1][0]*i[3][0]+t[1][1]*i[3][1]+t[1][2]*i[3][2]+t[1][3]*i[3][3],n[2][3]=t[2][0]*i[3][0]+t[2][1]*i[3][1]+t[2][2]*i[3][2]+t[2][3]*i[3][3],n[3][3]=t[3][0]*i[3][0]+t[3][1]*i[3][1]+t[3][2]*i[3][2]+t[3][3]*i[3][3],n}(t,e):function(t,e){var n=new Float32Array(4);return n[0]=t[0][0]*e[0]+t[0][1]*e[1]+t[0][2]*e[2]+t[0][3]*e[3],n[1]=t[1][0]*e[0]+t[1][1]*e[1]+t[1][2]*e[2]+t[1][3]*e[3],n[2]=t[2][0]*e[0]+t[2][1]*e[1]+t[2][2]*e[2]+t[2][3]*e[3],n[3]=t[3][0]*e[0]+t[3][1]*e[1]+t[3][2]*e[2]+t[3][3]*e[3],n}(t,e)},inverseMatrix3d:function(t){return function(t){var e=[new Float32Array(4),new Float32Array(4),new Float32Array(4),new Float32Array(4)],n=t[0][0],i=t[0][1],o=t[0][2],r=t[0][3],a=t[1][0],s=t[1][1],l=t[1][2],u=t[1][3],h=t[2][0],c=t[2][1],d=t[2][2],f=t[2][3],p=t[3][0],v=t[3][1],g=t[3][2],m=t[3][3];e[0][0]=l*f*v-u*d*v+u*c*g-s*f*g-l*c*m+s*d*m,e[0][1]=r*d*v-o*f*v-r*c*g+i*f*g+o*c*m-i*d*m,e[0][2]=o*u*v-r*l*v+r*s*g-i*u*g-o*s*m+i*l*m,e[0][3]=r*l*c-o*u*c-r*s*d+i*u*d+o*s*f-i*l*f,e[1][0]=u*d*p-l*f*p-u*h*g+a*f*g+l*h*m-a*d*m,e[1][1]=o*f*p-r*d*p+r*h*g-n*f*g-o*h*m+n*d*m,e[1][2]=r*l*p-o*u*p-r*a*g+n*u*g+o*a*m-n*l*m,e[1][3]=o*u*h-r*l*h+r*a*d-n*u*d-o*a*f+n*l*f,e[2][0]=s*f*p-u*c*p+u*h*v-a*f*v-s*h*m+a*c*m,e[2][1]=r*c*p-i*f*p-r*h*v+n*f*v+i*h*m-n*c*m,e[2][2]=i*u*p-r*s*p+r*a*v-n*u*v-i*a*m+n*s*m,e[2][3]=r*s*h-i*u*h-r*a*c+n*u*c+i*a*f-n*s*f,e[3][0]=l*c*p-s*d*p-l*h*v+a*d*v+s*h*g-a*c*g,e[3][1]=i*d*p-o*c*p+o*h*v-n*d*v-i*h*g+n*c*g,e[3][2]=o*s*p-i*l*p-o*a*v+n*l*v+i*a*g-n*s*g,e[3][4]=i*l*h-o*s*h+o*a*c-n*l*c-i*a*d+n*s*d;var y=1/(n*e[0][0]+a*e[0][1]+h*e[0][2]+p*e[0][3]);return 0===y?e=[new Float32Array([1,0,0,0]),new Float32Array([0,1,0,0]),new Float32Array([0,0,1,0]),new Float32Array([0,0,0,1])]:(e[0][0]*=y,e[0][1]*=y,e[0][2]*=y,e[0][3]*=y,e[1][0]*=y,e[1][1]*=y,e[1][2]*=y,e[1][3]*=y,e[2][0]*=y,e[2][1]*=y,e[2][2]*=y,e[2][3]*=y,e[3][0]*=y,e[3][1]*=y,e[3][2]*=y,e[3][4]*=y),e}(t)},scaleValue:function(t,e,n,i,o){return(o-i)*((t-(e=e==n?0:e))/(n-e))+i}}},null,!0)},function(t,e,n){n(2).define("util.template",[],function(){return function(t,e,n){var i={},o={},r=Array.prototype,a=r.slice,s=r.forEach,l={"\\":"\\","'":"'",r:"\r",n:"\n",t:"\t",u2028:"\u2028",u2029:"\u2029"};for(var u in l)l[l[u]]=u;var h=/\\|'|\r|\n|\t|\u2028|\u2029/g,c=/\\(\\|'|r|n|t|u2028|u2029)/g,d=/.^/,f=function(t){return t.replace(c,function(t,e){return l[e]})},p=i.each=i.forEach=function(t,e,n){if(null!=t)if(s&&t.forEach===s)t.forEach(e,n);else if(t.length===+t.length){for(var r=0,a=t.length;r<a;r++)if(r in t&&e.call(n,t[r],r,t)===o)return}else for(var l in t)if(i.has(t,l)&&e.call(n,t[l],l,t)===o)return};return i.has=function(t,e){return hasOwnProperty.call(t,e)},i.defaults=function(t){return p(a.call(arguments,1),function(e){for(var n in e)null==t[n]&&(t[n]=e[n])}),t},i.template=function(t,e,n){n=i.defaults(n||{});var o="__p+='"+t.replace(h,function(t){return"\\"+l[t]}).replace(n.escape||d,function(t,e){return"'+\n_.escape("+f(e)+")+\n'"}).replace(n.interpolate||d,function(t,e){return"'+\n("+f(e)+")+\n'"}).replace(n.evaluate||d,function(t,e){return"';\n"+f(e)+"\n;__p+='"})+"';\n";n.variable||(o="with(obj||{}){\n"+o+"}\n"),o="var __p='';var print=function(){__p+=Array.prototype.join.call(arguments, '')};\n"+o+"return __p;\n";var r=new Function(n.variable||"obj","_",o);if(e)return r(e,i);var a=function(t){return r.call(this,t,i)};return a.source="function("+(n.variable||"obj")+"){\n"+o+"}",a},i.template(t,e,n)}})},function(t,e,n){n(2).define("util.color",["util.base","util.math"],function(t,e){var n={regex:/(linear|radial)\((.*)\)(.*)/i,format:function(t,e){if("hex"==e){var n=t.r.toString(16);t.r<16&&(n="0"+n);var i=t.g.toString(16);t.g<16&&(i="0"+i);var o=t.b.toString(16);return t.b<16&&(o="0"+o),"#"+[n,i,o].join("").toUpperCase()}return"rgb"==e?void 0===t.a?"rgb("+[t.r,t.g,t.b].join(",")+")":"rgba("+[t.r,t.g,t.b,t.a].join(",")+")":t},scale:function(){var t,i;function o(e,o){var r={r:parseInt(t.r+(i.r-t.r)*e,10),g:parseInt(t.g+(i.g-t.g)*e,10),b:parseInt(t.b+(i.b-t.b)*e,10)};return n.format(r,o)}return o.domain=function(e,r){return t=n.rgb(e),i=n.rgb(r),o},o.ticks=function(t){for(var n=1/t,i=0,r=[];i<=1;){var a=o(i,"hex");r.push(a),i=e.plus(i,n)}return r},o},map:function(t,e){var i=[];e=e||5;for(var o=n.scale(),r=0,a=t.length-1;r<a;r++)if(0==r)i=o.domain(t[r],t[r+1]).ticks(e);else{var s=o.domain(t[r],t[r+1]).ticks(e);s.shift(),i=i.concat(s)}return i},rgb:function(e){if("string"==typeof e){if(e.indexOf("rgb(")>-1){for(var n=0,i=(o=e.replace("rgb(","").replace(")","").split(",")).length;n<i;n++)o[n]=parseInt(t.trim(o[n]),10);return{r:o[0],g:o[1],b:o[2],a:1}}if(e.indexOf("rgba(")>-1){for(n=0,i=(o=e.replace("rgba(","").replace(")","").split(",")).length;n<i;n++)o[n]=i-1==n?parseFloat(t.trim(o[n])):parseInt(t.trim(o[n]),10);return{r:o[0],g:o[1],b:o[2],a:o[3]}}if(0==e.indexOf("#")){var o=[];if(3==(e=e.replace("#","")).length)for(n=0,i=e.length;n<i;n++){var r=e.substr(n,1);o.push(parseInt(r+r,16))}else for(n=0,i=e.length;n<i;n+=2)o.push(parseInt(e.substr(n,2),16));return{r:o[0],g:o[1],b:o[2],a:1}}}return e},HSVtoRGB:function(t,e,n){360==t&&(t=0);var i=e*n,o=i*(1-Math.abs(t/60%2-1)),r=n-i,a=[];return 0<=t&&t<60?a=[i,o,0]:60<=t&&t<120?a=[o,i,0]:120<=t&&t<180?a=[0,i,o]:180<=t&&t<240?a=[0,o,i]:240<=t&&t<300?a=[o,0,i]:300<=t&&t<360&&(a=[i,0,o]),{r:Math.ceil(255*(a[0]+r)),g:Math.ceil(255*(a[1]+r)),b:Math.ceil(255*(a[2]+r))}},RGBtoHSV:function(t,e,n){var i=t/255,o=e/255,r=n/255,a=Math.max(i,o,r),s=a-Math.min(i,o,r),l=0;0==s?l=0:a==i?l=(o-r)/s%6*60:a==o?l=60*((r-i)/s+2):a==r&&(l=60*((i-o)/s+4)),l<0&&(l=360+l);return{h:l,s:0==a?0:s/a,v:a}},trim:function(t){return(t||"").replace(/^\s+|\s+$/g,"")},lighten:function(t,e){t=t.replace(/[^0-9a-f]/gi,""),e=e||0;var n,i,o=[];for(i=0;i<6;i+=2)n=parseInt(t.substr(i,2),16),n=Math.round(Math.min(Math.max(0,n+n*e),255)).toString(16),o.push(("00"+n).substr(n.length));return"#"+o.join("")},darken:function(t,e){return this.lighten(t,-e)},parse:function(t){return this.parseGradient(t)},parseGradient:function(t){var e=t.match(this.regex);if(!e)return t;var n=this.trim(e[1]);return{type:n+"Gradient",attr:this.parseAttr(n,this.trim(e[2])),children:this.parseStop(this.trim(e[3]))}},parseStop:function(t){for(var e=t.split(","),n=[],i=0,o=e.length;i<o;i++){var r=(t=e[i]).split(" ");0!=r.length&&(1==r.length?n.push({type:"stop",attr:{"stop-color":r[0]}}):2==r.length?n.push({type:"stop",attr:{offset:r[0],"stop-color":r[1]}}):3==r.length&&n.push({type:"stop",attr:{offset:r[0],"stop-color":r[1],"stop-opacity":r[2]}}))}var a=-1,s=-1;for(i=0,o=n.length;i<o;i++){t=n[i];if(0==i?t.offset||(t.offset=0):i==o-1&&(t.offset||(t.offset=1)),-1==a&&void 0===t.offset)a=i;else if(-1==s&&void 0===t.offset){for(var l=(s=i)-a,u=n[s].offset.indexOf("%")>-1?parseFloat(n[s].offset)/100:n[s].offset,h=n[a].offset.indexOf("%")>-1?parseFloat(n[a].offset)/100:n[a].offset,c=(u-h)/l,d=h+c,f=a+1;f<s;f++)n[f].offset=d,d+=c;a=s,s=-1}}return n},parseAttr:function(t,e){if("linear"!=t){for(i=0,o=(n=e.split(",")).length;i<o;i++)-1==n[i].indexOf("%")&&(n[i]=parseFloat(n[i]));return{cx:n[0],cy:n[1],r:n[2],fx:n[3],fy:n[4]}}switch(e){case"":case"left":return{x1:0,y1:0,x2:1,y2:0,direction:e||"left"};case"right":return{x1:1,y1:0,x2:0,y2:0,direction:e};case"top":return{x1:0,y1:0,x2:0,y2:1,direction:e};case"bottom":return{x1:0,y1:1,x2:0,y2:0,direction:e};case"top left":return{x1:0,y1:0,x2:1,y2:1,direction:e};case"top right":return{x1:1,y1:0,x2:0,y2:1,direction:e};case"bottom left":return{x1:0,y1:1,x2:1,y2:0,direction:e};case"bottom right":return{x1:1,y1:1,x2:0,y2:0,direction:e};default:for(var n,i=0,o=(n=e.split(",")).length;i<o;i++)-1==n[i].indexOf("%")&&(n[i]=parseFloat(n[i]));return{x1:n[0],y1:n[1],x2:n[2],y2:n[3]}}},colorHash:function(t,e){var n=0;return t&&(n=function(t){var e=0,n=1,i=0;if(t){for(var o=0;o<t.length&&!(o>6);o++)e+=n*(t.charCodeAt(o)%10),i+=9*n,n*=.7;i>0&&(e/=i)}return e}(t=(t=t.replace(/.*`/,"")).replace(/\(.*/,""))),"function"==typeof e?e(n):{r:200+Math.round(55*n),g:0+Math.round(230*(1-n)),b:0+Math.round(55*(1-n))}}};return n.map.parula=function(t){return n.map(["#352a87","#0f5cdd","#00b5a6","#ffc337","#fdff00"],t)},n.map.jet=function(t){return n.map(["#00008f","#0020ff","#00ffff","#51ff77","#fdff00","#ff0000","#800000"],t)},n.map.hsv=function(t){return n.map(["#ff0000","#ffff00","#00ff00","#00ffff","#0000ff","#ff00ff","#ff0000"],t)},n.map.hot=function(t){return n.map(["#0b0000","#ff0000","#ffff00","#ffffff"],t)},n.map.pink=function(t){return n.map(["#1e0000","#bd7b7b","#e7e5b2","#ffffff"],t)},n.map.bone=function(t){return n.map(["#000000","#4a4a68","#a6c6c6","#ffffff"],t)},n.map.copper=function(t){return n.map(["#000000","#3d2618","#9d623e","#ffa167","#ffc77f"],t)},n})},function(t,e,n){var i=n(2);i.define("manager",["util.base"],function(t){var e=new function(){var n=[],o=[];this.add=function(t){n.push(t)},this.emit=function(t,e,i){for(var o=[],r=0;r<n.length;r++){t!=(a=n[r]).selector&&t!=a.type||o.push(a)}for(r=0;r<o.length;r++)for(var a=o[r],s=0;s<a.length;s++)a[s].emit(e,i)},this.get=function(e){if(t.typeCheck("integer",e))return n[e];if(t.typeCheck("string",e)){for(var i=0;i<n.length;i++){if(e==(r=n[i]).selector)return 1==r.length?r[0]:r}var o=[];for(i=0;i<n.length;i++){var r;e==(r=n[i]).type&&o.push(r)}return o}},this.getAll=function(){return n},this.remove=function(e){if(t.typeCheck("integer",e))return n.splice(e,1)[0]},this.shift=function(){return n.shift()},this.pop=function(){return n.pop()},this.size=function(){return n.length},this.debug=function(e,n,o,r){if(e.__proto__){var a=["emit","on","addEvent","addValid","callBefore","callAfter","callDelay","setTpl","setVo","setOption"];for(var s in e){var l=e[s];"function"==typeof l&&-1==t.inArray(s,a)&&function(t,o,a,s){e.__proto__[t]=function(){var e=Date.now(),l=o.apply(this,arguments),u=Date.now();return"function"==typeof r?r({type:i.get(n).type,name:t,c_index:a,u_index:s,time:u-e},arguments):(isNaN(a)||isNaN(s)?console.log("NAME("+t+"), TIME("+(u-e)+"ms), ARGUMENTS..."):console.log("TYPE("+i.get(n).type+"), NAME("+t+"), INDEX("+a+":"+s+"), TIME("+(u-e)+"ms), ARGUMENTS..."),console.log(arguments),console.log("")),l}}(s,l,n,o)}}},this.debugAll=function(t){for(var e=0;e<n.length;e++)for(var i=n[e],o=0;o<i.length;o++)this.debug(i[o],e,o,t)},this.addClass=function(t){o.push(t)},this.getClass=function(e){if(t.typeCheck("integer",e))return o[e];if(t.typeCheck("string",e))for(var n=0;n<o.length;n++)if(e==o[n].type)return o[n];return null},this.getClassAll=function(){return o},this.create=function(n,i,o){var r=e.getClass(n);if(t.typeCheck("null",r))throw new Error("JUI_CRITICAL_ERR: '"+n+"' does not exist");return r.class(i,o)}};return e})},function(t,e,n){n(2).define("collection",[],function(){var t=function(t,e,n,i){this.type=t,this.selector=e,this.options=n,this.destroy=function(){for(var t=0;t<i.length;t++)i[t].destroy()};for(var o=0;o<i.length;o++)this.push(i[o])};return t.prototype=Object.create(Array.prototype),t})},function(t,e,n){var i=n(2);i.define("core",["util.base","util.dom","manager","collection"],function(t,e,n,o){var r=function(){this.emit=function(e,n){if(t.typeCheck("string",e)){for(var i,o=0;o<this.event.length;o++){var r=this.event[o];if(r.type==e.toLowerCase()){var a=t.typeCheck("array",n)?n:[n];i=r.callback.apply(this,a)}}return i}},this.on=function(e,n){t.typeCheck("string",e)&&t.typeCheck("function",n)&&this.event.push({type:e.toLowerCase(),callback:n,unique:!1})},this.off=function(e){for(var n=[],i=0;i<this.event.length;i++){var o=this.event[i];(t.typeCheck("function",e)&&o.callback!=e||t.typeCheck("string",e)&&o.type!=e.toLowerCase())&&n.push(o)}this.event=n},this.addValid=function(e,n){if(this.__proto__){var i=this.__proto__[e];this.__proto__[e]=function(){for(var o=arguments,r=0;r<o.length;r++)if(!t.typeCheck(n[r],o[r]))throw new Error("JUI_CRITICAL_ERR: the "+r+"th parameter is not a "+n[r]+" ("+e+")");return i.apply(this,o)}}},this.callBefore=function(e,n){if(this.__proto__){var i=this.__proto__[e];this.__proto__[e]=function(){var e=arguments;return t.typeCheck("function",n)?!1!==n.apply(this,e)?i.apply(this,e):void 0:i.apply(this,e)}}},this.callAfter=function(e,n){if(this.__proto__){var i=this.__proto__[e];this.__proto__[e]=function(){var e=arguments,o=i.apply(this,e);return t.typeCheck("function",n)&&!1!==o&&n.apply(this,e),o}}},this.callDelay=function(e,n){if(this.__proto__){var i=this.__proto__[e],o=isNaN(n.delay)?0:n.delay;this.__proto__[e]=function(){var e=this,i=arguments;t.typeCheck("function",n.before)&&n.before.apply(e,i),o>0?setTimeout(function(){r(e,i)},o):r(e,i)}}function r(e,o){var r=i.apply(e,o);t.typeCheck("function",n.after)&&!1!==r&&n.after.apply(e,o)}},this.setTpl=function(e,n){this.tpl[e]=t.template(n)},this.setOption=function(e,n){if(t.typeCheck("object",e))for(var i in e)this.options[i]=e[i];else this.options[e]=n},this.destroy=function(){if(this.__proto__)for(var t in this.__proto__)delete this.__proto__[t]}};return r.build=function(r){return function(a,s){var l=[],u=[];t.typeCheck("string",a)?u=e.find(a):t.typeCheck("object",a)?u.push(a):u.push(document.createElement("div"));for(var h=0,c=u.length;h<c;h++)l[h]=i.createUIObject(r,a,h,u[h],s);return n.add(new o(r.type,a,s,l)),0==l.length?null:1==l.length?l[0]:l}},r.init=function(t){var e=null;return"object"==typeof t&&(e=r.build(t),n.addClass({type:t.type,class:e})),e},r.setup=function(){return{tpl:{},event:{}}},i="object"==typeof i?t.extend(i,n,!0):n,r})},function(t,e,n){var i=n(2);i.define("event",["jquery","util.base","manager","collection"],function(t,e,n,o){var r=function(){var e=null;this.find=function(e){return t(this.root).find(e)},this.addEvent=function(){this.listen.add(arguments)},this.addTrigger=function(t,e){this.listen.trigger(t,e)},this.setVo=function(){this.options.vo&&(null!=e&&e.reload(),e=t(this.selector).jbinder(),this.bind=e)},this.destroy=function(){for(var e=0;e<this.listen.size();e++){var n=this.listen.get(e);t(n.target).off(n.type)}if(this.__proto__)for(var i in this.__proto__)delete this.__proto__[i]}};return r.build=function(r){return function(a,s){var l=[],u=t(a||"<div />");return u.each(function(n){l[n]=i.createUIObject(r,u.selector,n,this,s,function(n,i){n.init.prototype.listen=new function(){var n=[];function i(e){for(var i=["webkit","moz","MS","o",""],o=0;o<i.length;o++){var r=e.type;i[o]||(r=r.toLowerCase()),t(e.target).on(i[o]+r,e.callback)}n.push(e)}function o(e){e.callback&&!e.children?t(e.target).on(e.type,e.callback):t(e.target).on(e.type,e.children,e.callback),n.push(e)}function r(e){e.callback&&!e.children?t(e.target).on(a(e.type),e.callback):t(e.target).on(a(e.type),e.children,e.callback),n.push(e)}function a(t){return{click:"touchstart",dblclick:"touchend",mousedown:"touchstart",mousemove:"touchmove",mouseup:"touchend"}[t]}this.add=function(n){var a={target:n[0],type:n[1]};e.typeCheck("function",n[2])?a=t.extend(a,{callback:n[2]}):e.typeCheck("string",n[2])&&(a=t.extend(a,{children:n[2],callback:n[3]}));for(var s=e.typeCheck("array",a.type)?a.type:[a.type],l=0;l<s.length;l++)a.type=s[l],-1!=a.type.toLowerCase().indexOf("animation")?i(a):("body"!=a.target&&a.target!=window&&a.target!=document&&t(a.target).off(a.type),e.isTouch?r(a):o(a))},this.trigger=function(n,i){t(n).trigger(e.isTouch?a(i):i)},this.get=function(t){return n[t]},this.getAll=function(){return n},this.size=function(){return n.length}},t("script").each(function(e){if(a==t(this).data("jui")||a==t(this).data("vo")||a instanceof HTMLElement){var n=t(this).data("tpl");if(""==n)throw new Error("JUI_CRITICAL_ERR: 'data-tpl' property is required");i.tpl[n]=t(this).html()}})})}),n.add(new o(r.type,a,s,l)),0==l.length?null:1==l.length?l[0]:l}},r.init=function(t){var e=null;return"object"==typeof t&&(e=r.build(t),n.addClass({type:t.type,class:e})),e},r.setup=function(){return{vo:null}},r},"core")},function(t,e,n){"use strict";n.r(e);var i=n(1),o=n.n(i),r=n(0),a=n.n(r),s={name:"ui.accordion",extend:"event",component:function(){var t=o.a.include("util.base"),e=function(){var e,n=null,i=null;function o(t){n.each(function(n){t==n?(a()(this).addClass("active"),e.options.multipanel?a()(this).next(".content").show():i.insertAfter(this).show()):(a()(this).removeClass("active"),e.options.multipanel&&a()(this).next(".content").hide())})}this.init=function(){e=this;var r=this.options;if(n=a()(this.root).find(".title"),i=a()(this.root).find(".content"),null==r.index)for(var s=0;s<n.length;s++)a()(n[s]).hasClass("active")&&(r.index=s);t.typeCheck("integer",r.index)?o(r.index):i.hide(),function(t){n.each(function(e){t.addEvent(this,"click",function(n){a()(this).hasClass("active")&&t.options.autoFold?(a()(this).removeClass("active"),t.options.multipanel?a()(this).next(".content").hide():i.hide(),t.emit("fold",[e,n])):(o(e),t.emit("open",[e,n]))})})}(this),this.emit("init")},this.activeIndex=function(){return 0}};return e.setup=function(){return{index:null,autoFold:!1,multipanel:!1}},e}},l={name:"ui.dropdown",extend:"event",component:function(){o.a.include("util.base");var t=function(){var t=e();null!=t&&t.hide()},e=function(){for(var t=o.a.get("ui.dropdown"),e=0;e<t.length;e++)for(var n=t[e],i=0;i<n.length;i++)if("show"==n[i].type)return n[i];return null};a()(function(){document.addEventListener("click",function(e){var n=e.target.tagName;"LI"!=n&&"INPUT"!=n&&"A"!=n&&"BUTTON"!=n&&"I"!=n&&t()}),window.addEventListener("keydown",function(t){var n=e();null!=n&&n.wheel(t.which,function(){t.preventDefault()})})});var n=function(){var e=null,n=-1;function i(n){var i=a()(e.menu).find("li");i.off("click").off("hover"),n.addEvent(i,"click",function(e){if(!(a()(this).hasClass("divider")||a()(this).hasClass("title")||a()(this).hasClass("disabled"))){var o=function(t){var e=0;return i.each(function(n){t==this&&(e=n)}),e}(this),r=a()(this).text(),s=a()(this).attr("value");n.emit("change",[{index:o,value:s,text:r},e]),n.options.close&&t(),"A"==e.target.tagName&&e.preventDefault()}}),n.addEvent(i,"hover",function(t){i.removeClass("active")})}function o(t,i){var o=e.menu.find("li"),r=o.eq(n);o.removeClass("active"),""!=r.val()||""!=r.html()?(r.addClass("active"),t.options.height>0&&e.menu.scrollTop(n*r.outerHeight())):"function"==typeof i&&i()}this.init=function(){var t=this.options,n=a()(this.root),o=n.find("ul"),r=n.find(".anchor");o=0==o.length?n:o,(e={root:n,menu:o,anchor:r}).root.outerWidth(e.menu.outerWidth()),t.width>0&&o.outerWidth(t.width),t.height>0&&o.css({maxHeight:t.height,overflow:"auto"}),t.left>0&&n.css("left",t.left),t.top>0&&n.css("top",t.top),o.css({display:"block"}),n.css({position:"absolute",display:"none"}),t.nodes.length>0?this.update(t.nodes):i(this),this.type="hide"},this.update=function(t){if(this.tpl.node){a()(e.menu).empty();for(var n=0;n<t.length;n++)a()(e.menu).append(this.tpl.node(t[n]));i(this)}},this.hide=function(){e.root.hide(),this.emit("hide"),this.type="hide"},this.show=function(n,i){t(),e.root.show(),e.anchor.length>0&&e.root.css("margin-top","10px"),2==arguments.length&&this.move(n,i),this.emit("show"),this.type="show"},this.move=function(t,n){e.root.css("left",t),e.root.css("top",n)},this.wheel=function(t,i){if(this.options.keydown){var r=this,a=e.menu.find("li");9!=t?(38!=t&&-1!=t||(n<1?n=a.length-1:n--,o(this,function(){n--,o(r)}),i&&i()),40!=t&&1!=t||(n<a.length-1?n++:n=0,o(r,function(){n++,o(r)}),i&&i()),13!=t&&0!=t&&t||(r.addTrigger(a.eq(n),"click"),n=-1,i&&i())):this.hide()}},this.reload=function(){this.init(),this.emit("reload")}};return n.setup=function(){return{close:!0,keydown:!1,left:0,top:0,width:0,height:0,nodes:[]}},n}},u={name:"ui.autocomplete",extend:"event",component:function(){o.a.include("util.base");var t=o.a.include("ui.dropdown"),e=function(){var e=null,n=null,i=[],o=[];function r(i,o){if(0!=o.length){e&&a()(e.root).remove();var r=a()(i.root).position(),s=a()(i.tpl.words({words:o}));a()(i.options.parent).append(s),e=t(s,{keydown:!0,width:a()(i.root).outerWidth(),height:i.options.height,left:r.left,top:r.top+a()(i.root).outerHeight(),event:{change:function(t,e){a()(n).val(t.text),i.emit("change",[t.text,e])}}}),i.options.dx>0||i.options.dy>0?e.show(i.options.dx,i.options.dy):e.show()}else e&&e.hide()}function s(t){t.addEvent(n,"keyup",function(e){if(38!=e.which&&40!=e.which&&13!=e.which)return o=function(t){var e=[];if(""!=t)for(var n=0;n<i.length;n++){var o=i[n],r=i[n].toLowerCase(),a=t.toLowerCase();-1!=r.indexOf(a)&&e.push(o)}return e}(a()(this).val()),r(t,o),!1}),t.options.showAll&&t.addEvent(n,"focus",function(e){if(""==a()(this).val())return r(t,o=i),!1})}this.init=function(){var t=this.options;n=null==t.target?this.root:a()(this.root).find(t.target),s(this),this.update(t.words)},this.update=function(t){i=t},this.close=function(){e&&e.hide()},this.list=function(){return o}};return e.setup=function(){return{parent:"body",target:null,words:[],showAll:!1,dx:0,dy:0,height:"auto"}},e}},h={name:"ui.button",extend:"event",component:function(){var t=o.a.include("util.base"),e=function(t,e,n){this.data={index:0,value:"",elem:null},this.ui=t,this.element=e,this.options=a.a.extend({index:0,value:""},n),this._setting=function(t,e,n){var i=this,o="active",r=this.options.index,s=this.options.value;function l(t,e){var n=a()(e).attr("value"),r=a()(e).text();i.data={index:t,value:n,text:r},a()(e).addClass(o)}function u(t){a()(t).removeClass(o)}a()(i.element).children(".btn").each(function(i){"event"==t?e.currentTarget==this?l(i,this):u(this):"init"==t&&("value"==n?s==a()(this).attr("value")?l(i,this):u(this):r==i?l(i,this):u(this))})},this.init=function(){var t=this;this.ui.addEvent(a()(t.element).children(".btn"),"click",function(e){if(a()(e.currentTarget).hasClass("disabled"))return!1;t._setting("event",e),t.ui.emit("click",[t.data,e]),t.ui.emit("change",[t.data,e]),e.preventDefault()}),""!=this.options.value?this._setting("init",this.options.value,"value"):this._setting("init",this.options.index,"index")}},n=function(){this.data=[],this.options=a.a.extend({index:[],value:[]},this.options),this._setting=function(t,e,n){var i=this,o="active",r=this.options.index,s=this.options.value;function l(t,e){var n=a()(e).attr("value"),r=a()(e).text();i.data[t]={index:t,value:n,text:r},a()(e).addClass(o)}function u(t,e){i.data[t]=null,a()(e).removeClass(o)}function h(t,e){for(var n=0;n<t.length;n++)if(t[n]==e)return!0;return!1}a()(i.element).children(".btn").each(function(i){"init"==t?"value"==n?h(s,a()(this).attr("value"))?l(i,this):u(i,this):h(r,i)?l(i,this):u(i,this):e.currentTarget==this&&(a()(this).hasClass("active")?u(i,this):l(i,this))})}},i=function(){var i={};this.init=function(){var t=this.options;"radio"==t.type?(i[t.type]=new e(this,this.root,this.options),i[t.type].init()):"check"==t.type&&(n.prototype=new e(this,this.root,this.options),i[t.type]=new n,i[t.type].init())},this.setIndex=function(t){var e=i[this.options.type];e.options.index=t,e._setting("init",null,"index"),this.emit("change",[e.data])},this.setValue=function(t){var e=i[this.options.type];e.options.value=t,e._setting("init",null,"value"),this.emit("change",[e.data])},this.getData=function(){return i[this.options.type].data},this.getValue=function(){var e=this.getData();if(t.typeCheck("array",e)){for(var n=[],i=0;i<e.length;i++)n[i]=null!=e[i]?e[i].value:e[i];return n}return e.value},this.reload=function(){i[this.options.type]._setting("init")},this.enable=function(t){t?a()(this.root).find(".btn").removeClass("disabled"):a()(this.root).find(".btn").addClass("disabled")}};return i.setup=function(){return{type:"radio",index:0,value:""}},i}},c={name:"ui.colorpicker",extend:"event",component:function(){var t=o.a.include("util.base"),e=o.a.include("util.color"),n=function(){var n,i,o,r,s,l,u,h,c,d,f,p,v,g,m,y,x,b,w,C,k,_,I,E,M,A,z=[{rgb:"#ff0000",start:0},{rgb:"#ffff00",start:.17},{rgb:"#00ff00",start:.33},{rgb:"#00ffff",start:.5},{rgb:"#0000ff",start:.67},{rgb:"#ff00ff",start:.83},{rgb:"#ff0000",start:1}],T={color_width:226,color_height:145,hue_width:157,opacity_width:119,dragBar_width:12,hueContainer_width:157,opacityDragBar_width:12};function S(t){var i=null;if("hex"==t)i=e.rgb(I.val()),E.val(i.r),M.val(i.g),A.val(i.b);else if("rgb"==t)I.val(e.format({r:parseInt(E.val(),10),g:parseInt(M.val(),10),b:parseInt(A.val(),10)},"hex")),i=e.rgb(I.val());else{var o=n.getColor("hex");I.val(o),i=e.rgb(I.val()),E.val(i.r),M.val(i.g),A.val(i.b)}i.a=D(),p.css("background-color",e.format(i,"hex")),y.val(Math.floor(100*i.a)+"%"),n.emit("change",[e.format(i,"hex"),i])}function j(t){var e=s.offset(),n=T.color_width,i=T.color_height,o=t.clientX-e.left,r=t.clientY-e.top;o<0?o=0:o>n&&(o=n),r<0?r=0:r>i&&(r=i),h.css({left:o-5,top:r-5}).data("pos",{x:o,y:r}),S()}function R(t){var n=v.offset().left,o=n+T.hueContainer_width,r=L(t).clientX;i=r<n?0:r>o?100:(r-n)/(o-n)*100;var a=T.hue_width*(i/100);c.css({left:a-Math.ceil(T.dragBar_width/2)+"px"}).data("pos",{x:a});var l=function(t){for(var n,i,o=0;o<z.length;o++)if(z[o].start>=t){n=z[o-1],i=z[o];break}return n&&i?e.scale().domain(n.rgb,i.rgb)((t-n.start)/(i.start-n.start),"hex"):null}(i/100);s.css("background-color",l),S()}function N(t){var e=g.offset().left,n=e+T.opacity_width,o=L(t).clientX;i=o<e?0:o>n?100:(o-e)/(n-e)*100;var r=T.opacity_width*(i/100);x.css({left:r-Math.ceil(T.opacityDragBar_width/2)+"px"}).data("pos",{x:r}),S()}function D(){var t=x.data("pos")||{x:0};return Math.round(t.x/T.opacity_width*100)/100}function F(t,e){t=t||"div";var n=a()("<"+t+" />");return"object"==typeof e&&n.attr(e),n}function L(e){return t.isTouch?e.originalEvent.touches[0]:e}function O(t){var e=t.which,n=!1;return 37!=e&&39!=e&&8!=e&&46!=e&&9!=e||(n=!0),!(!n&&(e<48||e>57))}function H(t){var n=E.val(),i=M.val(),o=A.val();""!=n&&""!=i&&""!=o&&(parseInt(n)>255?E.val(255):E.val(parseInt(n)),parseInt(i)>255?M.val(255):M.val(parseInt(i)),parseInt(o)>255?A.val(255):A.val(parseInt(o)),V(e.format({r:parseInt(E.val()),g:parseInt(M.val()),b:parseInt(A.val())},"hex"),"rgb"))}function V(t,i){var o=t||n.options.color,r=e.rgb(o);s.css("background-color",o);var a=e.RGBtoHSV(r.r,r.g,r.b),l=T.color_width*a.s,u=T.color_height*(1-a.v);h.css({left:l-5,top:u-5}).data("pos",{x:l,y:u});var d=T.hue_width*(a.h/360);c.css({left:d-7.5}).data("pos",{x:d});var f=T.opacity_width*(r.a||0);x.css({left:f-7.5}).data("pos",{x:f}),S(i)}this.init=function(){n=this,this.options,o=a()(this.root),s=F("div",{class:"color"}),h=F("div",{class:"drag-pointer"}),l=F("div",{class:"value"}),u=F("div",{class:"saturation"}),d=F("div",{class:"control"}),f=F("div",{class:"empty"}),p=F("div",{class:"color"}),r=F("div",{class:"hue"}),v=F("div",{class:"container"}),c=F("div",{class:"drag-bar"}),g=F("div",{class:"opacity"}),m=F("div",{class:"container"}),y=F("input",{class:"input",type:"text",disabled:!0}),x=F("div",{class:"drag-bar2"}),b=F("div",{class:"information"}),w=F("div",{class:"title"}).html("HEX"),C=F("div",{class:"title"}).html("R"),k=F("div",{class:"title"}).html("G"),_=F("div",{class:"title"}).html("B"),I=F("input",{class:"input",type:"text",maxlength:7}),E=F("input",{class:"input",type:"text",maxlength:3}),M=F("input",{class:"input",type:"text",maxlength:3}),A=F("input",{class:"input",type:"text",maxlength:3}),l.html(h),u.html(l),s.html(u),v.html(c),r.html(v),m.html(x),g.html(m),d.append(r),d.append(g),d.append(y),d.append(f),d.append(p),b.append(I),b.append(E),b.append(M),b.append(A),b.append(w),b.append(C),b.append(k),b.append(_),o.html(s),o.append(d),o.append(b),n.addEvent(s,"mousedown",function(t){s.data("isDown",!0),j(t)}),n.addEvent(s,"mouseup",function(t){s.data("isDown",!1)}),n.addEvent(c,"mousedown",function(t){t.preventDefault(),r.data("isDown",!0)}),n.addEvent(x,"mousedown",function(t){t.preventDefault(),g.data("isDown",!0)}),n.addEvent(v,"mousedown",function(t){r.data("isDown",!0),R(t)}),n.addEvent(m,"mousedown",function(t){g.data("isDown",!0),N(t)}),n.addEvent(I,"keydown",function(t){if(t.which<65||t.which>70)return O(t)}),n.addEvent(I,"keyup",function(t){var i=a()(this).val();13==t.which&&("#"!=i.charAt(0)||7!=i.length&&4!=i.length||(V(i,"hex"),n.emit("enter",[i,e.rgb(i)])))}),n.addEvent(E,"keydown",O),n.addEvent(E,"keyup",H),n.addEvent(M,"keydown",O),n.addEvent(M,"keyup",H),n.addEvent(A,"keydown",O),n.addEvent(A,"keyup",H),n.addEvent(document,"mouseup",function(t){s.data("isDown",!1),r.data("isDown",!1),g.data("isDown",!1)}),n.addEvent(document,"mousemove",function(t){s.data("isDown")&&j(t),r.data("isDown")&&R(t),g.data("isDown")&&N(t)}),V()},this.setColor=function(t){if("object"==typeof t){if(!t.r||!t.g||!t.b)return;V(e.format(t,"hex"))}else if("string"==typeof t){if("#"!=t.charAt(0))return;V(t)}},this.getColor=function(t){var n=function(){var t=h.data("pos")||{x:0,y:0},n=c.data("pos")||{x:0},i=T.color_width,o=T.color_height,r=n.x/T.hue_width*360,a=t.x/i,s=(o-t.y)/o,l=e.HSVtoRGB(r,a,s);return l.a=D(),l}();return t?("hex"==t&&n.a<1&&(t="rgb"),e.format(n,t)):n}};return n.setup=function(){return{type:"full",color:"#FF0000"}},n}},d={name:"ui.combo",extend:"event",component:function(){var t=o.a.include("util.base"),e=function(){for(var t=o.a.get("ui.combo"),e=0;e<t.length;e++)for(var n=t[e],i=0;i<n.length;i++)"open"==n[i].type&&n[i].fold()};a()(function(){document.addEventListener("click",function(t){e()})});var n=function(){var n=null,i=null,o=-1;function r(t,e){var o=n.root,r=n.text,l=n.drop.children("li");l.each(function(n){var l=s(this),u=a()(l).attr("value"),h=a()(l).text();u||(u=h,a()(l).attr("value",u)),("index"==t&&e==n||"value"==t&&e==u)&&(i={index:n,value:u,text:h},o.attr("value",u),r.html(h),o.select&&o.select[0]&&(o.select[0].selectedIndex=n))}),0==l.length&&(i=null)}function s(t){return a()(t).children("a").length>0?a()(t).children("a")[0]:t}function l(t,e){var i=n.drop.children("li"),r=i.eq(o);i.removeClass("active"),""!=r.val()||""!=r.html()?(r.addClass("active"),t.options.height>0&&n.drop.scrollTop(o*r.outerHeight())):"function"==typeof e&&e()}function u(){var t=0;return n.drop.children("li").each(function(e){var n=s(this);t=Math.max(t,a()(n).outerWidth())}),t}this.init=function(){var r=this,u=this.options,h=a()(this.root),c=h.children(".btn").not(".toggle"),d=h.children(".toggle"),f=h.children(".btn"),p=h.children("ul");p.insertAfter(c),u.width>0&&(c.outerWidth(u.width-d.outerWidth()+1),c.css({"overflow-x":"hidden","overflow-y":"hidden","white-space":"nowrap"})),u.height>0&&p.css({"overflow-x":"hidden","overflow-y":"auto","max-height":u.height}),this.addEvent(f,"click",function(n){if(t.isTouch)h.select.focus();else{if("open"==r.type)return;e(),r.open(n)}return!1}),this.addEvent(p,"click","li:not(.divider)",function(t){e();var n=s(this),o=a()(n).attr("value"),l=a()(n).text();i={value:o,text:l,element:n},c.html(l),h.attr("value",o),r.emit("click",[i,t]),r.emit("change",[i,t]),t.preventDefault()}),n={root:h,text:c,drop:p,toggle:d},this.type="fold",this.reload(),function(t){t.options.keydown&&(o=t.options.index,l(t),t.addEvent(window,"keydown",function(e){if("fold"!=t.type){var i=n.drop.children("li");return 38==e.which?(o<1?o=i.length-1:o--,l(t,function(){o--,l(t)}),!1):40==e.which?(o<i.length-1?o++:o=0,l(t,function(){o++,l(t)}),!1):void(13==e.which&&i.eq(o).trigger("click"))}}))}(this)},this.setIndex=function(t){r("index",t),this.emit("change",[i])},this.setValue=function(t){r("value",t),this.emit("change",[i])},this.getData=function(){return i},this.getValue=function(){return null!=i?i.value:null},this.getText=function(){return null!=i?i.text:null},this.open=function(t){if(n.toggle.addClass("active"),n.drop.outerWidth(n.root.outerWidth()-1),"top"==this.options.position){var e=n.drop.outerHeight();n.drop.animate({top:"-"+e,height:"toggle"},100)}else n.drop.slideDown(100);this.options.flex&&(u()>n.drop.outerWidth()&&n.drop.outerWidth(u()+50));this.emit("open",t),this.type="open"},this.fold=function(){n.drop.hide(),n.toggle.removeClass("active"),"top"==this.options.position&&n.drop.css("top",0),this.emit("fold"),this.type="fold"},this.reload=function(){""!=this.options.value?r("value",this.options.value):r("index",this.options.index),function(e){if(t.isTouch){var i=n.root;if(i.select&&i.select[0])(o=i.select).empty();else{var o=a()("<select></select>").css({position:"absolute",opacity:.01});i.find("ul").after(o),e.addEvent(o,"change",function(t){var n=a()(t.currentTarget).find("option:selected").data("elem");e.addTrigger(n,"touchstart")}),i.select=o}i.find("ul > li").each(function(t,e){var n=a()(e).data("value"),i=a()(e).text();o.append(a()("<option></option>").val(n).text(i).data("elem",e))})}}(this),this.emit("reload",i)}};return n.setup=function(){return{index:0,value:"",width:0,height:100,keydown:!1,position:"bottom",flex:!0}},n}},f={name:"ui.datepicker",extend:"event",component:function(){var t=o.a.include("util.base");function e(t){return t.setHours(0),t.setMinutes(0),t.setSeconds(0),t.setMilliseconds(0),t}var n=function(){var n=null,i=null,o=null,r={},s=null,l=null,u=null,h=null;function c(t,s){var u=t.options,h=[],c=[];if(r={},t.tpl.date)for(var d=0;d<s.objs.length;d++)c.push(t.tpl.date({type:s.objs[d].type,date:s.objs[d].no,day:c.length})),p(d)&&(h.push("<tr>"+c.join("")+"</tr>"),c=[]);else for(d=0;d<s.objs.length;d++)c.push(s.nums[d]),p(d)&&(h.push(t.tpl.dates({dates:c})),c=[]);var f=a()(h.join(""));function p(t){return"daily"==u.type?(t+1)%7==0:(t+1)%3==0}return f.find("td").each(function(u){a()(this).addClass(s.objs[u].type),t.addEvent(this,"click",function(r){"none"!=s.objs[u].type&&(l.find("td").removeClass("active"),a()(this).addClass("active"),function(t,r){var a=t.options;if("daily"==a.type){var s=i<10?"0"+i:i;o=new Date(n+"/"+s+"/"+(r<10?"0"+r:r))}else"monthly"==a.type?(s=r<10?"0"+r:r,o=new Date(n+"/"+s+"/01")):"yearly"==a.type&&(o=new Date(r+"/01/01"));o=e(o)}(t,s.objs[u].no),t.emit("select",[t.getFormat(),r]))}),"none"!=s.objs[u].type&&(r[s.objs[u].no]=this)}),f}function d(t,e){if(2==e)return t%100==0||t%4!=0&&t%400!=0?28:29;return[31,0,31,30,31,30,31,31,30,31,30,31][e-1]}this.init=function(){var e=this.options;s=a()(this.root).children(".head"),l=a()(this.root).children(".body"),u=t.typeCheck("date",e.minDate)?e.minDate:null,h=t.typeCheck("date",e.maxDate)?e.maxDate:null,"daily"==e.type&&(e.date<u?e.date=u:e.date<u&&(e.date=h),u&&h&&h<u&&(u=null,h=null)),function(t){t.addEvent(s.children(".prev"),"click",function(e){t.prev(e)}),t.addEvent(s.children(".next"),"click",function(e){t.next(e)}),t.addEvent(s.children(".prev-year"),"click",function(e){t.prev(e,!0)}),t.addEvent(s.children(".next-year"),"click",function(e){t.next(e,!0)})}(this),this.select(e.date)},this.page=function(r,a){if(0!=arguments.length){var f=this.options;"daily"==f.type?(n=r,i=a,l.find("tr:not(:first-child)").remove(),l.append(c(this,function(t,e,n){var i=[],r=[],a=1,s=new Date,l=new Date(e+"-"+(n<10?"0"+n:n)).getDay(),c=d(e,n),f=0,p=d(1==n?e-1:e,1==n?12:n-1);u&&u.getFullYear()==e&&u.getMonth()+1==n&&(f=u.getDate()),h&&h.getFullYear()==e&&h.getMonth()+1==n&&(c=h.getDate());for(var v=0;v<l;v++)r[v]=p-l+(v+1),i[v]={type:"none",no:r[v]};for(v=l;v<42;v++)if(f<=a&&a<=c){var g="";s.getMonth()+1==n&&s.getDate()==a&&(g="now"),null!=o&&o.getFullYear()==e&&o.getMonth()+1==n&&o.getDate()==a&&(g="active"),r[v]=a,i[v]={type:g,no:r[v]},a++}else r[v]=a-c,i[v]={type:"none",no:r[v]},a++;return{objs:i,nums:r}}(0,n,i)))):"monthly"==f.type?(n=r,l.find("tr").remove(),l.append(c(this,function(t){for(var e=[],n=[],i=new Date,r=1;r<=12;r++){var a="";i.getFullYear()==t&&i.getMonth()+1==r&&(a="now"),null!=o&&o.getFullYear()==t&&o.getMonth()+1==r&&(a="active"),n.push(r),e.push({type:a,no:r})}return{objs:e,nums:n}}(n)))):"yearly"==f.type&&(n=r,l.find("tr").remove(),l.append(c(this,function(t){for(var e=[],n=[],i=t-4,r=new Date,a=i;a<i+12;a++){var s="";r.getFullYear()==a&&(s="now"),null!=o&&o.getFullYear()==a&&(s="active"),n.push(a),e.push({type:s,no:a})}return{objs:e,nums:n}}(n)))),s.children(".title").html(t.dateFormat(function(t){var o=t.options,r=null;return"daily"==o.type?r=new Date(n+"/"+(i<10?"0"+i:i)+"/01"):"monthly"==o.type?r=new Date(n+"/01/01"):"yearly"==o.type&&(r=new Date),e(r)}(this),f.titleFormat))}},this.prev=function(t,e){var o=this.options;if("daily"==o.type){if(e)var r=n-1,a=i;else r=1==i?n-1:n,a=1==i?12:i-1;if(u&&u.getFullYear()==n&&u.getMonth()+1==i)return;this.page(r,a)}else"monthly"==o.type?this.page(n-1):"yearly"==o.type&&this.page(n-12);this.emit("prev",[t])},this.next=function(t,e){var o=this.options;if("daily"==o.type){if(e)var r=n+1,a=i;else r=12==i?n+1:n,a=12==i?1:i+1;if(h&&h.getFullYear()==n&&h.getMonth()+1==i)return;this.page(r,a)}else"monthly"==o.type?this.page(n+1):"yearly"==o.type&&this.page(n+12);this.emit("next",[t])},this.select=function(){var e=this.options,o=arguments,a=n,s=i,l=null;if(3==o.length)a=o[0],s=o[1],l=o[2];else if(1==o.length){var c=t.typeCheck("date",o[0])?o[0]:new Date(o[0]);a=c.getFullYear(),s=c.getMonth()+1,l=c.getDate()}if("daily"==e.type){if(u||h){var d=function(t,e,n){if(u){var i=u.getFullYear(),o=u.getMonth()+1,r=u.getDate();if(t<i||t==i&&e<o)return[i,o,r]}if(h){var a=h.getFullYear(),s=h.getMonth()+1,l=h.getDate();if(t>a||t==a&&e>s)return[a,s,l]}return[t,e,n]}(a,s,l);this.page(d[0],d[1]),this.addTrigger(r[d[2]],"click")}this.page(a,s),this.addTrigger(r[l],"click")}else"monthly"==e.type?(this.page(a),this.addTrigger(r[s],"click")):"yearly"==e.type&&(this.page(a),this.addTrigger(r[a],"click"))},this.addTime=function(t){o=new Date(this.getTime()+t),this.select(this.getTime())},this.getDate=function(){return o},this.getTime=function(){return o.getTime()},this.getFormat=function(e){return t.dateFormat(o,"string"==typeof e?e:this.options.format)},this.reload=function(){var e=this.options;u=t.typeCheck("date",e.minDate)?e.minDate:null,h=t.typeCheck("date",e.maxDate)?e.maxDate:null,"daily"==e.type&&(u&&e.date<u?e.date=u:h&&e.date>h&&(e.date=h)),this.select(),this.emit("reload")}};return n.setup=function(){return{type:"daily",titleFormat:"yyyy.MM",format:"yyyy-MM-dd",date:e(new Date),animate:!1,minDate:null,maxDate:null}},n}},p={name:"ui.layout",extend:"event",component:function(){o.a.include("util.base");var t=function(){var t=null,e={},n=["top","left","right","bottom","center"],i={top:"n-resize",bottom:"n-resize",right:"e-resize",left:"e-resize"};function o(t,e,n,i){t.mousedown(function(o){t.data("mousedown",!0);var r=t.clone();t.data("shadow",r),t.after(r),n.call(this,o),r.css("opacity",.3),a()(document).on("mousemove",e),a()(document).on("mouseup",function n(o){a()(document).off("mousemove",e),a()(document).off("mouseup",n),i.call(this,o),t.data("mousedown",!1),r.remove(),a()("body :not(.resize)").css({"user-select":""})}),a()("body :not(.resize)").css({"user-select":"none"})})}function r(n){var r,a;r=t[n],(a=r.resizer).css({cursor:i[n]}),a.data("event")||("top"==n?o(a,function(t){if(a.data("mousedown")){var n=t.clientY-a.data("current"),i=e.top.min,o=e.top.max;i<=n&&n<o&&a.css({top:n+"px"})}},function(t){var e=a.position().top;a.data("current",t.clientY-e)},function(e){var n=a.position().top,i=(a.height(),n),o=n+a.height()+"px",r=t.top.height();t.top.height(i);var s=r-i,l=t.center.height()+s;t.center.css({top:o}).height(l),t.left.css({top:o}).height(l),t.left.resizer.css({top:o}).height(l),t.right.css({top:o}).height(l),t.right.resizer.css({top:o}).height(l)}):"bottom"==n?o(a,function(t){if(a.data("mousedown")){var n=t.clientY-a.data("current"),i=e.bottom.min,o=e.bottom.max,s=r.position().top-(n+e.barSize)+r.height();i<=s&&s<=o&&a.css({top:n+"px"})}},function(t){var e=a.position().top;a.data("current",t.clientY-e)},function(e){var n=a.position().top+a.height(),i=(t.root.height(),parseFloat(t.bottom.position().top)-n);t.bottom.css({top:n+"px"}),t.bottom.height(t.bottom.height()+i);var o=t.center.height()-i;t.center.height(o),t.left.height(o),t.left.resizer.height(o),t.right.height(o),t.right.resizer.height(o)}):"left"==n?o(a,function(t){if(a.data("mousedown")){var n=t.clientX-a.data("current"),i=e.left.min,o=e.left.max;i<=n&&n<o&&a.css({left:n+"px"})}},function(t){var e=a.position().left;a.data("left",e).data("current",t.clientX-e)},function(n){if(a.data("mousedown")){var i=a.position().left,o=a.data("left")-i;t.left.css({width:i+"px"}),t.center.css({left:i+e.barSize+"px"}),t.center.width(t.center.width()+o)}}):"right"==n&&o(a,function(n){if(a.data("mousedown")){var i=n.clientX-a.data("current"),o=e.right.min,s=e.right.max,l=t.left.width()+t.left.resizer.width(),u=t.center.width(),h=r.width()-(i-(l+u));o<=h&&h<s&&a.css({left:i+"px"})}},function(t){var e=a.position().left;a.data("left",e).data("current",t.clientX-e)},function(e){if(a.data("mousedown")){var n=a.position().left,i=a.data("left")-n;t.right.css({left:n+a.width()+"px",width:t.right.width()+i+"px"}),t.center.width(t.center.width()-i)}}),a.data("event",!0))}this.init=function(){var i,o,s,l,u,h,c=this,d=this.options;return i=a()(this.root).css("position","relative"),null!=d.width&&i.outerWidth(d.width),null!=d.height&&i.outerHeight(d.height),0==(o=d.top.el?a()(d.top.el):i.find("> .top")).length&&(o=null),0==(s=d.left.el?a()(d.left.el):i.find("> .left")).length&&(s=null),0==(l=d.right.el?a()(d.right.el):i.find("> .right")).length&&(l=null),0==(u=d.bottom.el?a()(d.bottom.el):i.find("> .bottom")).length&&(u=null),0==(h=d.center.el?a()(d.center.el):i.find("> .center")).length&&(h=null),t={root:i,top:o,left:s,right:l,bottom:u,center:h},e=d,function(i){for(var o=0,s=n.length;o<s;o++){var l=t[n[o]];l&&(t.root.append(l),"center"!=n[o]&&e[n[o]].resize&&(l.resizer||(l.resizer=a()("<div class='resize "+n[o]+"' />")),t.root.append(l.resizer),r(n[o])))}i.resize()}(this),a()(window).on("resize",function(t){c.resize()}),this},this.resize=function(){var e=null,n=null,i=0,o=0;e=t.top,n=this.options.top,e&&(e.css({position:"absolute",top:"0px",left:"0px",width:"100%",height:n.size||n.min}),i=e.height(),n.resize?(e.resizer.css({position:"absolute",top:i,left:"0px",width:"100%",background:this.options.barColor,height:this.options.barSize}),i+=this.options.barSize):e.resizer&&e.resizer.remove()),e=t.bottom,n=this.options.bottom;var r=t.root.height();if(e){e.css({position:"absolute",left:"0px",width:"100%",height:n.size||n.min});var a=i-e.height()+i;n.resize?(e.resizer.css({position:"absolute",top:a,left:"0px",width:"100%",background:this.options.barColor,height:this.options.barSize}),a+=this.options.barSize):e.resizer&&e.resizer.remove(),e.css("top",a+"px")}e=t.left,n=this.options.left;var s=r;t.top&&(s-=t.top.height(),t.top.resizer&&(s-=t.top.resizer.height())),t.bottom&&(s-=t.bottom.height(),t.bottom.resizer&&(s-=t.bottom.resizer.height())),e&&(e.css({position:"absolute",top:i,left:"0px",height:s,width:n.size||n.min,"max-width":"100%",overflow:"auto"}),o=e.width(),n.resize?(e.resizer.css({position:"absolute",top:i,height:e.height(),left:o,background:this.options.barColor,width:this.options.barSize}),o+=this.options.barSize):e.resizer&&e.resizer.remove()),e=t.right,n=this.options.right;var l=t.root.width();t.left&&(l-=t.left.width(),t.left.resizer&&(l-=t.left.resizer.width())),e&&(e.css({position:"absolute",top:i,height:s,width:n.size||n.min,"max-width":"100%"}),n.resize?(e.resizer.css({position:"absolute",top:i,height:e.height(),background:this.options.barColor,width:this.options.barSize}),this.options.barSize):e.resizer&&e.resizer.remove(),l-=t.right.width(),t.right.resizer&&(l-=t.right.resizer.width()),e.resizer.css({left:o+l+"px"}),e.css({left:o+l+e.resizer.width()+"px"})),e=t.center,n=this.options.center,e&&e.css({position:"absolute",top:i,height:s,left:o,width:l,overflow:"auto"})}};return t.setup=function(){return{barColor:"#d6d6d6",barSize:3,width:null,height:null,top:{el:null,size:null,min:50,max:200,resize:!0},left:{el:null,size:null,min:50,max:200,resize:!0},right:{el:null,size:null,min:50,max:200,resize:!0},bottom:{el:null,size:null,min:50,max:200,resize:!0},center:{el:null}}},t}},v={name:"ui.modal",extend:"event",component:function(){var t=0,e=0;o.a.include("util.base").resize(function(){if(t!=a()(window).width()||e!=a()(window).height()){for(var n=o.a.get("ui.modal"),i=0;i<n.length;i++)for(var r=n[i],s=0;s<r.length;s++)"show"==r[s].type&&r[s].resize();t=a()(window).width(),e=a()(window).height()}},300);var n=function(){var t={},e=null,n=null,i=null,o=5e3;function r(t){var e,n=t.options.target,i="body"==n?window:n,o="body"==n?"fixed":"absolute",r=function(t){return"body"==t?null:a()(t).hasClass("msgbox")||a()(t).hasClass("window")?"absolute":"relative"}(n),s=a()(n).scrollLeft(),l=a()(i).width()/2-a()(t.root).width()/2+a()(n).scrollLeft(),u=a()(i).height()/2-a()(t.root).height()/2,h=s>0?a()(n).outerWidth()+s:"100%",c=a()(n).outerHeight();null!=r?(c=(e=a()(i)[0].scrollHeight)>c?e:c,u+=a()(i).scrollTop()):c=c>(e=a()(window).outerHeight())?c:e;return{x:l,y:u,pos:o,tPos:r,w:h,h:c}}this.init=function(){!function(t){n={position:a()(t.root).css("position"),left:a()(t.root).css("left"),top:a()(t.root).css("top"),"z-index":a()(t.root).css("z-index"),display:a()(t.root).css("display")},i={position:a()(t.options.target).css("position")}}(this),this.options.clone||a()(this.root).hide(),this.type="hide"},this.hide=function(){var o=this.options,r=this.timestamp;o.clone&&(e.remove(),e=null),a()(o.target).css("position",i.position),a()(this.root).css(n),t[r]&&(t[r].remove(),delete t[r]),this.type="hide"},this.show=function(){var n=this.options,i=r(this);n.clone&&(e=a()(this.root).clone()).insertAfter(a()(this.root)),a()(this.root).appendTo(n.target),this.resize(),a()(n.target).css("position",i.tPos),a()(this.root).show(),function(e,n,i){var r=e.timestamp;null==t[r]&&(t[r]=a()("<div id='MODAL_"+e.timestamp+"'></div>").css({position:"absolute",width:n,height:i,left:0,top:0,opacity:e.options.opacity,"background-color":e.options.color,"z-index":o+e.options.index-1}),a()(e.options.target).append(t[r]),a()(e.root).insertAfter(t[r]),e.addEvent(t[r],"click",function(t){return e.options.autoHide&&e.hide(),!1}))}(this,i.w,i.h),this.type="show"},this.resize=function(){var e=r(this),n=this.timestamp;a()(this.root).css({position:e.pos,left:e.x,top:e.y,"z-index":o+this.options.index}),null!=t[n]&&t[n].height(e.h)}};return n.setup=function(){return{color:"black",opacity:.4,target:"body",index:0,clone:!1,autoHide:!0}},n}},g={name:"ui.notify",extend:"event",component:function(){o.a.include("util.base");var t=function(){var t=null,e=null;this.init=function(){var n=this.options,i="object"==typeof n.padding?12:n.padding;return e={top:{top:i,bottom:"auto",left:i,right:i},"top-right":{top:i,bottom:"auto",left:"auto",right:i},"top-left":{top:i,bottom:"auto",left:i,right:"auto"},bottom:{top:"auto",bottom:i,left:i,right:i},"bottom-right":{top:"auto",bottom:i,left:"auto",right:i},"bottom-left":{top:"auto",bottom:i,left:i,right:i}}[n.position],"object"==typeof n.padding&&(e=a.a.extend(e,n.padding)),"body"!=this.selector&&a()(this.selector).css("position","relative"),t=a()("<div></div>").css(a.a.extend({position:"absolute","z-index":3e3},e)),a()(this.root).append(t),this},this.add=function(n,i){var o=this,r=this.options,s=isNaN(i)?r.timeout:i,l=a()(this.root).scrollTop(),u=a()(this.tpl.item(n)).css({"margin-bottom":r.distance});"top"!=r.position&&"bottom"!=r.position||u.outerWidth(t.width()-3*("object"==typeof r.padding&&r.padding.right?r.padding.right:12)),-1!=r.position.indexOf("top-")?(t.css("top",l+e.top),t.prepend(u)):(t.css("bottom",-(l-e.bottom)),t.append(u));var h=u.css("opacity");function c(){null!=u&&(u.animate({opacity:0},r.hideDuration,r.hideEasing),u.slideUp(r.hideEasing,function(){o.emit("hide",[n]),u.remove(),u=null}))}u.css({opacity:0}).animate({opacity:h},r.showDuration,r.showEasing,function(){o.emit("show",[n])}),this.addEvent(u,"click",function(t){return o.emit("select",[n,t]),c(),!1}),s>0&&setTimeout(c,s)},this.reset=function(){t.empty()}};return t.setup=function(){return{position:"top-right",padding:12,distance:5,timeout:3e3,showDuration:500,hideDuration:500,showEasing:"swing",hideEasing:"linear"}},t}},m={name:"ui.numberchecker",extend:"event",component:function(){o.a.include("util.base");var t=function(){function t(t,e){return!!(e?/^[-]?\d+$/:/^[-]?\d+(?:[.]\d+)?$/).test(t)}function e(t,e,n,i){t=i?parseInt(t):parseFloat(t);return{min:e=i?parseInt(e):parseFloat(e),max:n=i?parseInt(n):parseFloat(n),value:t}}this.init=function(){var n=this.root,i=this.options.integer,o=this.options.empty,r=this.options.message,s=function(t){var e=a()(t.root),n=t.options,i=(n.integer,e.attr("min")||""),o=e.attr("max")||"",r=e.val()||"";return{min:null!=n.min?n.min:i,max:null!=n.max?n.max:o,value:r}}(this);return t(s.value,i)?a()(n).val(s.value):a()(n).addClass("invalid").val("").attr("placeholder",r),i||a()(n).attr("step","any"),a()(n).attr("min",s.min),a()(n).attr("max",s.max),a()(n).on("input",function(o){var r=a()(n).val();if(t(r,i)){var l=e(r,s.min,s.max,i);""!==s.min&&""!==s.max&&r>=l.min&&r<=l.max&&(s.value=l.value),""!==s.min&&""===s.max&&r>=l.min&&(s.value=l.value),""===s.min&&""!==s.max&&r<=l.max&&(s.value=l.value)}}),a()(n).on("focus",function(t){a()(n).removeClass("invalid").attr("placeholder","")}),a()(n).on("focusout",function(l){var u=a()(n).val();if(t(u,i)){var h=e(u,s.min,s.max,i);""!==s.min&&h.value<h.min?a()(n).val(h.min):""!==s.max&&h.value>h.max?a()(n).val(h.max):a()(n).val(h.value)}else null!=o?a()(n).val(s[o]):a()(n).addClass("invalid").val("").attr("placeholder",r)}),this}};return t.setup=function(){return{integer:!0,empty:null,min:null,max:null,message:"Invalid number"}},t}},y={name:"ui.paging",extend:"event",component:function(){var t=function(){var t=1,e=1,n=null;function i(i,o){var r=[],s=e<i.options.screenCount?e:i.options.screenCount,l=(l=o-Math.ceil(s/2)+1)<1?1:l;if(t=o>e?e:o,t=o<1?1:o,e<l+s){for(var u=e-s+1;u<e+1;u++)r.push(u);t>e&&(t=e)}else for(u=l;u<l+s;u++)r.push(u);n.html(i.tpl.pages({pages:r,lastPage:e})),function(t){t.addEvent(a()(t.root).find(".prev"),"click",function(e){return t.prev(),!1}),t.addEvent(a()(t.root).find(".next"),"click",function(e){return t.next(),!1})}(i),function(t){t.addEvent(n.find(".page"),"click",function(e){var n=parseInt(a()(e.currentTarget).text());return t.page(n),!1})}(i),function(t,e){n.find(".page").each(function(t){a()(this).text()==e?a()(this).addClass("active"):a()(this).removeClass("active")})}(0,t)}this.init=function(){this.options;return n=0==(n=a()(this.root).find(".list")).length?a()(this.root):n,this.reload(),this},this.reload=function(n){n=n||this.options.count;t=1,e=Math.ceil(n/this.options.pageCount),i(this,t),this.emit("reload")},this.page=function(e){if(!e)return t;i(this,e),this.emit("page",[t])},this.next=function(){this.page(t+1)},this.prev=function(){this.page(t-1)},this.first=function(){this.page(1)},this.last=function(){this.page(e)}};return t.setup=function(){return{count:0,pageCount:10,screenCount:5}},t}},x={name:"ui.progress",extend:"event",component:function(){o.a.include("util.base");var t=function(){var t,e,n,i;function o(){return t.options.min}function r(){return t.options.max}function s(){return t.options.orient}function l(){e.addClass(s()).addClass(t.options.type),n=e.find(".area"),i=e.find(".bar"),0==n.length&&(n=a()("<div class='area' />"),e.html(n)),0==i.length&&(i=a()("<div class='bar' />"),n.html(i)),t.setValue(),t.setStriped(),t.setAnimated()}this.init=function(){t=this,e=a()(this.root),l()},this.setAnimated=function(e){void 0===e?i.toggleClass("animated",t.options.animated):i.toggleClass("animated",e)},this.setStriped=function(e){void 0===e?i.toggleClass("striped",t.options.striped):i.toggleClass("striped",e)},this.setValue=function(e){!function(t){"vertical"==s()?i.height(t+"%"):i.width(t+"%")}(((e=void 0===e?t.options.value:e)-o())/(r()-o())*100)},this.getValue=function(){return o()+(r()-o())*(parseFloat(("vertical"==s()?i.css("height"):i.css("width")).replace("%",""))/100)}};return t.setup=function(){return{type:"",orient:"horizontal",min:0,max:100,value:0,striped:!1,animated:!1}},t}},b={name:"ui.property",extend:"event",component:function(){var t=o.a.include("util.base"),e=function(){var e,n,i,r=[],s={};function l(t){for(var e=0,n=r.length;e<n;e++)t.call(i,r[e],e)}function u(t,e,n){var i;return function(){var o=arguments;clearTimeout(i),i=setTimeout(function(){i=null,t.apply(n,o)},e)}}this.init=function(){i=this,e=a()(this.root),n=a()("<div class='property-table' />").css({position:"relative"}),e.append(n),this.loadItems(this.options.items)},this.loadItems=function(e){r=t.clone(e),this.initProperty(),this.emit("load.items")},this.initProperty=function(){n.empty(),l(function(t,e){n.append(this.renderItem(t,e))})},this.addItem=function(e){t.typeCheck("array",e)||(e=[e]),r=r.concat(e),this.initProperty()},this.removeItem=function(t){for(var e=[],n=0,i=r.length;n<i;n++){var o=r[n];o.key!=t.key&&o.title!=t.title||e.push(o)}r=e},this.getGroupList=function(){var t=[];return n.find(".property-header-item").each(function(){var e=a()(this).data("item");t.push({name:e.title,id:a()(this).attr("id")})}),t},this.collapsed=function(t){var n=e.find("#"+t);n.addClass("collapsed").removeClass("expanded"),n.find(".expand-btn i").removeClass("icon-minus").addClass("icon-plus");for(var i=n.next();i.length&&!i.hasClass("property-header-item");)i.hide(),i=i.next()},this.expanded=function(t){var n=e.find("#"+t);n.removeClass("collapsed").addClass("expanded"),n.find(".expand-btn i").removeClass("icon-plus").addClass("icon-minus");for(var i=n.next();i.length&&!i.hasClass("property-header-item");)i.show(),i=i.next()},this.renderItem=function(e,n){var o=a()("<div class='property-item' />").attr("data-index",n);if("group"==e.type){o.addClass("property-header-item expanded"),o.attr("id","property-header-item-"+n),o.data("item",e);var r=a()("<div class='property-header' />").html(e.title);e.description&&r.append("<small class='description'>"+e.description+"</small>"),r.append("<a class='expand-btn'><i class='icon-minus' ></i></a>"),o.on("click",function(t){a()(this).hasClass("collapsed")?i.expanded(o.attr("id")):(i.collapsed(o.attr("id")),a.a)}),o.append(r)}else{(t.typeCheck("array",e.value)||e.vertical)&&o.addClass("vertical"),o.attr("data-key",e.key);r=a()("<div class='property-title'  />").html(e.title);var s=a()("<div class='property-render'  />"),l=this.render(o,e);s.append(a()("<div class='item' />").html(l)),e.description&&s.append("<div class='description' >"+e.description+"</div>"),o.append(r),o.append(s)}return o},this.render=function(t,e){var n=e.type||"text";return(e.render||s[n]||s.defaultRenderer)(t,e)},this.getValue=function(t){return t?this.getItem(t).value:this.getAllValue()},this.getDefaultValue=function(){for(var t={},e=0,n=this.options.items;e<n;e++){var i=this.options.items[e];void 0!==i.value&&(t[i.key]=i.value)}return t},this.initValue=function(t){l(function(t,e){t.value=""}),this.initProperty(),t&&this.setValue(t)},this.setValue=function(t){if(t=t||{},Object.keys(t).length)for(var e in t)this.updateValue(e,t[e])},this.findRender=function(t){return this.findItem(t).find(".property-render .item")},this.findItem=function(t){return n.find("[data-key='"+t+"']")},this.getItem=function(e){return t.typeCheck("number",e)?r[e]:t.typeCheck("string",e)?r[parseInt(this.findItem(e).attr("data-index"))]:r[parseInt(e.attr("data-index"))]},this.updateValue=function(t,e){var n=this.findItem(t),i=this.getItem(t);if(i){i.value=e;var o=this.findRender(t);o.empty(),o.html(this.render(n,i))}},this.getAllValue=function(t){var e={};return l(function(t,n){"group"!==t.type&&(e[t.key]=t.value)}),e},this.refreshValue=function(t,e){var n=this.getItem(t),i=n.value;n.value=e,this.emit("change",[n,e,i])},s.str2array=function(t,e){return e=e||",","string"==typeof t?t.split(e):t},s.defaultRenderer=function(t,e){return s.text(t,e)},s.select=function(e,n){for(var o=a()("<select />").css({"max-width":"100%"}),r=n.items||[],l=0,h=r.length;l<h;l++){var c=r[l];"string"==typeof c&&(c={text:c,value:c}),o.append(a()("<option >").val(c.value).text(c.text))}return o.val(n.value),o.on("change",u(function(){var e=a()(this).val();e=t.typeCheck("array",n.value)?s.str2array(e):e,i.refreshValue(a()(this).closest(".property-item"),e)},250,o)),o},s.text=function(e,n){var o=a()("<input type='text' />").css({width:"100%"}).attr({placeholder:"Type here"});return n.readonly&&$input.attr("readonly",!0),o.val(n.value),o.on("input",u(function(){var o=a()(this).val();o=t.typeCheck("array",n.value)?s.str2array(o):o,i.refreshValue(e,o)},250,o)),a()([o[0]])},s.textarea=function(e,n){var o=a()("<textarea />").css({width:"100%",height:n.height||100}).attr({placeholder:"Type here"});return n.readonly&&o.attr("readonly",!0),o.val(n.value),o.on("input",u(function(){var e=a()(this).val();e=t.typeCheck("array",n.value)?s.str2array(e):e,i.refreshValue(a()(this).closest(".property-item"),e)},250,o)),o},s.html=function(t,e){var n=a()("<div class='html' contenteditable=true />").css({width:"100%",height:e.height||100});return e.readonly&&n.attr("contenteditable",!1),n.html(e.value),n.on("input",u(function(){var t=a()(this).html();i.refreshValue(a()(this).closest(".property-item"),t)},250,n)),n},s.number=function(t,e){var n=a()("<input type='number' />").css({"text-align":"center"});return n.attr("max",e.max||100),n.attr("min",e.min||0),n.attr("step",e.step||1),n.val(e.value),n.on("input",u(function(){i.refreshValue(a()(this).closest(".property-item"),+a()(this)[0].value)},250,n)),n},s.range=function(t,e){var n=a()("<div />").css({position:"relative"}),o=a()("<input type='range' />").css({width:"100px","z-index":1});value=e.value;var r=e.postfix||"";e.postfix&&(value=value.replace(r,"")),o.attr("max",e.max||100),o.attr("min",e.min||0),o.attr("step",e.step||1),o.val(+value),e.readonly&&o.attr("readonly",!0);var s=a()("<div class='range-progress' />");s.width(value/(+o.attr("max")-+o.attr("min"))*o.width());var l=a()("<span />");return l.text(value+r),o.on("input",function(){var t=a()(this),e=+t[0].value,n=e/(+t.attr("max")-+t.attr("min"))*a()(this).width();s.width(n),l.text(e+r)}),o.on("input",u(function(){var t=a()(this),e=+t[0].value;i.refreshValue(t.closest(".property-item"),e+r)},250,o)),n.append([o,s,l]),n},s.checkbox=function(t,e){var n=a()("<input type='checkbox' /><i ></i>");return a()(n[0]).hide(),n[0].checked="true"==e.value||!0===e.value,n[0].checked?a()(n[1]).addClass("icon-checkbox"):a()(n[1]).addClass("icon-checkbox2"),n.on("click",u(function(){var e=a()(this).hasClass("icon-checkbox");e?a()(this).addClass("icon-checkbox2").removeClass("icon-checkbox"):a()(this).addClass("icon-checkbox").removeClass("icon-checkbox2"),e=!e,i.refreshValue(t,e)},100,n)),n},s.switch=function(t,e){var n=a()("<div class='switch inner small' />"),r="true"==e.value||!0===e.value;return o.a.create("ui.switch",n,{checked:r,event:{change:function(e){i.refreshValue(t,e)}}}),n},s.property=function(t,e){var n=a()("<div class='property inner' />");return o.a.create("ui.property",n,{items:e.items,event:{change:function(){i.refreshValue(t,this.getValue())}}}).setValue(e.value),n},s.date=function(t,e){var r=n,s=a()("<div class='datepicker-input' />"),l=a()("<span class='datepicker-value-text'></span>").css({cursor:"pointer"});s.on("click",function(){var t=s.offset(),e=r.offset(),n=r.outerWidth(),i=r.outerHeight(),o=t.left-e.left;o+s.outerWidth()>=n&&(o=n-s.outerWidth()-20);var a=t.top-e.top+80;a+s.outerHeight()>=i&&(a=i-s.outerHeight()-20),h.css({position:"absolute","z-index":1e5,left:o,top:a}),h.show()});var u=a()("<i class='icon-calendar' />");s.html(u),s.append(l);var h=a()("<div class='datepicker' />").css({position:"absolute",top:"0px",display:"none"}),c=a()("<div class='head' />"),d=a()("<table class='body' />");c.html('<div class="prev"><i class="icon-chevron-left"></i></div><div class="title"></div><div class="next"><i class="icon-chevron-right"></i></div>'),d.html("<tr><th>SU</th><th>MO</th><th>TU</th><th>WE</th><th>TH</th><th>FR</th><th>SA</th></tr>"),h.append(c),h.append(d),r.after(h);var f=o.a.create("ui.datepicker",h,{date:e.value||+new Date,titleFormat:e.titleFormat||"yyyy. MM",format:e.format||"yyyy/MM/dd",tpl:{date:e.tpl_date||"<td><!= date !></td>"},event:{select:function(e,n){l.html(e),i.refreshValue(t,e)}}});return a()("body").on("click",function(t){var e=a()(t.target).closest(".datepicker"),n=a()(t.target).closest(s);e.length||n.length||h.hide()}),l.html(f.getDate()),s},s.colors=function(t,e){for(var n=[],i=0,o=e.value.length;i<o;i++){var r=s.color(t,e,i);n.push(r[0])}return a()(n)},s.color=function(t,e,r){r=void 0===r?-1:r;var s=a()("<a  class='color-input' />"),l=n,h=-1==r?e.value:e.value[r],c=a()("<span />").css({"background-color":h}).html("&nbsp;"),d=a()("<span />").html(h||""),f=a()("<span class='none-color' title='Delete a color'/>").html("<i class='icon-more'></i>");return s.append(c),s.append(d),s.append(f),s.on("click",function(t){if(a()(t.target).closest(".none-color").length)return t.preventDefault(),c.css("background-color",""),d.text(""),void i.refreshValue(s.closest(".property-item"),"");var n=a()(this).offset(),f=l.next(".colorpicker");if(f.length)f[0].jui.setColor(h||"");else{f=a()('<div class="colorpicker" />'),l.after(f);var p=o.a.create("ui.colorpicker",f,{color:h,event:{change:u(function(){var t=p.getColor("hex");if(!(t.indexOf("NAN")>-1))if(c.css("background-color",t),d.html(t),-1==r)i.refreshValue(s.closest(".property-item"),t);else{var n=e.value;n[r]=t,i.refreshValue(s.closest(".property-item"),n)}},100,p)}});a()("body").on("click",function(t){var e=a()(t.target).closest(".colorpicker"),n=a()(t.target).closest(s);e.length||n.length||(!function(t){var e=o.a.getAll(),n=0;for(len=e.length;n<len&&e[n][0]!=t;n++);o.a.remove(n)}(p),f.remove())})}var v=l.offset(),g=l.outerWidth(),m=l.outerHeight(),y=n.left-v.left;y+f.outerWidth()>=g&&(y=g-f.outerWidth()-20);var x=n.top-v.top+50;x+f.outerHeight()>=m&&(x=m-f.outerHeight()-20),f.css({position:"absolute","z-index":1e5,left:y,top:x}),f.show()}),s}};return e.setup=function(){return{sort:"group",viewport:"default",items:[]}},e}},w={name:"ui.select",extend:"event",component:function(){var t=o.a.include("util.base"),e=function(){var e,n,i,o,r=[],s={divider:function(t,e){return a()("<hr class='item divider' />")},item:function(t,e){var n=a()('<div class="item option " />');n.attr("data-index",e),n.attr("value",t.value);var i=t.text?"text":"html";return"function"==typeof t[i]?n[i].call(n,t[i].call(t,this)):(n.text(t.text),n[i].call(n,t[i])),t.selected&&n.addClass("selected"),n}};this.init=function(){e=this,n=a()(this.root),r=t.clone(this.options.items),n.hasClass("select")||n.addClass("select"),this.initSelect(),this.initEvent(),this.update(r)},this.initEvent=function(){n.on("click",".title",function(){n.toggleClass("open")}),n.on("click",".item.option",function(){e.setValue(a()(this).attr("value"))}),a()("body").on("click",function(t){a()(t.target).closest(n).length||n.removeClass("open")})},this.initSelect=function(){i=a()("<div class='title' />"),o=a()("<div class='items' />"),i.append(a()("<span />").addClass("title-content")),i.append(a()("<i class='icon-arrow2' ></i>")),n.addClass("select-"+this.options.align),n.addClass("select-"+this.options.valign),this.options.multi&&n.addClass("multi"),n.append(i).append(o)},this.render=function(){i.find(".title-content").empty(),o.empty();for(var t=0,e=r.length;t<e;t++){var n=r[t],a=n.type||"item",l=s[a].call(null,n,t);o.append(l)}},this.setValue=function(t){var e=0;if(this.options.multi){t instanceof Array||(t=[t]);e=0;for(var n=t.length;e<n;e++)o.find("[value='"+t[e]+"']").toggleClass("selected")}else{var i=o.find(".selected"),r=i.attr("value");i.removeClass("selected"),o.find("[value='"+t+"']").addClass("selected")}this.setTitle(),this.emit("change",[this.getValue(),r])},this.getValue=function(){var t=o.find(".selected").map(function(){return a()(this).attr("value")}).toArray();return this.options.multi?t:t[0]},this.setSelectedIndex=function(t){r[t]&&this.setValue(r[t].value)},this.getSelectedIndex=function(){return+o.find(".selected").data("index")||-1},this.setTitle=function(){var t=o.find(".selected").map(function(){return a()("<span class='item-view'>"+a()(this).html()+"</span>")[0]}).toArray();if(0==t.length)var e=this.options.placeholder;else e=a()(t);i.find(".title-content").html(e)},this.update=function(e){for(var n=0,i=(r=t.clone(e)).length;n<i;n++){var o=r[n];"string"==typeof o&&(r[n]={text:o,value:o}),o.selected&&n}this.render(),this.setTitle()}};return e.setup=function(){return{items:[],placeholder:"Select a item",align:"left",valign:"top",multi:!1,modal:!1}},e}},C={name:"ui.slider",extend:"event",component:function(){var t=o.a.include("util.base"),e=o.a.include("util.math"),n=function(){var n,i,o,r,s,l,u,h,c,d,f,p,v,g;function m(){return n.options.min}function y(){return n.options.max}function x(){return n.options.type}function b(){return"double"==x()}function w(){return 0!=s.data("tooltip")&&n.options.tooltip}function C(t){return"from"==t?f:v}function k(t){return"from"==t?p:g}function _(t){return"to"==t?h:u}function I(e){return t.isTouch?e.originalEvent.touches[0]:e}function E(t,e){return t[0].style[e]}function M(){if("single"==x())i?d.height(E(u,"bottom")).css({bottom:0}):d.width(E(u,"left"));else if(i){var t=parseFloat(E(h,"bottom").replace("%","")),e=parseFloat(E(u,"bottom").replace("%",""));d.height(t-e+"%").css({bottom:e+"%"})}else{t=parseFloat(E(h,"left").replace("%","")),e=parseFloat(E(u,"left").replace("%",""));d.width(t-e+"%").css({left:e+"%"})}}function A(t,e){var n;if(b())if("from"==e)i?t>=(n=parseFloat(E(h,"bottom").replace("%","")))&&(t=n):t>=(n=parseFloat(E(h,"left").replace("%","")))&&(t=n);else if("to"==e){var o;if(i)t<=(o=parseFloat(E(u,"bottom").replace("%","")))&&(t=o);else t<=(o=parseFloat(E(u,"left").replace("%","")))&&(t=o)}return t}function z(e,a){var s=S(e/100);s<m()&&(s=m()),s>y()&&(s=y()),s=S((e=A(e=(s-m())/(y()-m())*100,a))/100);var u=e+"%",h=_(a);if(i?h.css({bottom:u}):h.css({left:u}),M(),w()){var c=C(a),d=k(a);if(t.typeCheck("function",n.options.format)&&(s=n.options.format.call(n,s)),d.html(s),i)c.css({bottom:l.height()*(e/100),"margin-bottom":c.height()/2*-1});else{c.css({left:u,"margin-left":c.width()/2*-1});var f=l.width()*(e/100),p=f+c.width()/2,v=f-c.width()/2;p>=l.width()?c.css({left:l.width()-c.width()+h.width()/2,"margin-left":0}).addClass("last"):v<=0?c.css({left:-h.width()/2,"margin-left":0}).addClass("first"):c.removeClass("first last")}c.show()}"from"==a?o!=s&&(n.emit("change",[{type:a,from:s,to:n.getToValue()}]),o=s):"to"==a&&r!=s&&(n.emit("change",[{type:a,from:n.getFromValue(),to:s}]),r=s)}function T(t,e){var i,o,r,s=void 0;"vertical"==n.options.orient?(o=(i=l.offset().top-a()("body").scrollTop())+l.height(),s=(r=I(t).clientY)<=i?100:r>=o?0:(o-r)/(o-i)*100):(o=(i=l.offset().left)+l.width(),s=(r=I(t).clientX)<i?0:r>o?100:(r-i)/(o-i)*100),z(s,e)}function S(t){void 0===t&&(t=i?parseFloat(u.css("bottom"))/l.height():parseFloat(u.css("left"))/l.width());var o=m(),r=o+(y()-o)*t,a=n.options.step,s=e.remain(r,a);return r=e.minus(r,s),s>e.div(a,2)&&(r=e.plus(r,a)),r}function j(){s.addClass(n.options.orient),l=a()("<div class='track' />"),c=a()("<div class='tooltip-track' />"),d=a()("<div class='progress' />"),0!=s.data("progress")&&n.options.progress||d.hide(),u=a()("<div class='handle from' />"),l.html(d),l.append(u),b()&&(h=a()("<div class='handle to' />"),l.append(h));var t=i?"right":"top";f=a()('<div class="tooltip '+t+'"><div class="message" /></div>').hide(),p=f.find(".message"),v=a()('<div class="tooltip '+t+'"><div class="message" /></div>').hide(),g=v.find(".message"),c.html(f),c.append(v),s.html(l),s.append(c),w()&&s.addClass("has-tooltip")}this.init=function(){n=this,s=a()(this.root),i="vertical"==this.options.orient,j(),n.addEvent(u,"mousedown",function(t){u.data("select",!0),a()("body").addClass("slider-cursor")}),b()&&n.addEvent(h,"mousedown",function(t){h.data("select",!0),a()("body").addClass("slider-cursor")}),n.addEvent(l,"mousedown",function(t){a()("body").addClass("slider-cursor"),"single"==n.options.type&&(u.data("select",!0),T(t,"from"))}),n.addEvent("body","mouseup",function(t){u.data("select",!1),"double"==n.options.type&&h.data("select",!1),a()("body").removeClass("slider-cursor")}),n.addEvent("body","mousemove",function(t){u.data("select")?T(t,"from"):"double"==n.options.type&&h.data("select")&&T(t,"to")}),this.setFromValue(),this.setToValue()},this.setFromValue=function(t){z(((t||s.data("from")||this.options.from)-m())/(y()-m())*100,"from")},this.setToValue=function(t){b()&&z(((t||s.data("to")||this.options.to)-m())/(y()-m())*100,"to")},this.getFromValue=function(){return S()},this.getToValue=function(){return b()?S(i?parseFloat(h.css("bottom"))/l.height():parseFloat(h.css("left"))/l.width()):S()}};return n.setup=function(){return{type:"single",orient:"horizontal",min:0,max:10,step:1,from:0,to:10,tooltip:!0,format:null,progress:!0}},n}},k={name:"ui.splitter",extend:"event",component:function(){var t=function(){var t,e,n,i,o,r,s,l,u,h,c,d=[];function f(){return"vertical"==u}function p(e){if(f()){var i=e.clientX-n.data("prevClientX"),o=parseFloat(n.css("left"))+i;o=t.caculateMinSize(o),n.css("left",o+"px"),d[1].css("left",o+r+"px"),d[0].css("width",o+"px"),h=o,n.data("prevClientX",e.clientX)}else{var a=e.clientY-n.data("prevClientY"),s=parseFloat(n.css("top"))+a;s=t.caculateMinSize(s),n.css("top",s+"px"),d[1].css("top",s+r+"px"),d[0].css("height",s+"px"),h=s,n.data("prevClientY",e.clientY)}}function v(){a()(document).off("mousemove",p),a()(document).off("mouseup",v),i.css("user-select",""),i.find("iframe").css("pointer-events","auto"),t.emit("move.done",[n])}this.init=function(){t=this,e=a()(this.root),o=this.options.barSize,u=this.options.direction,h=this.options.initSize,s=this.options.minSize,c=this.options.fixed,"number"==typeof s&&(s=[s,s]);for(var n=[],r=0,l=this.options.items.length;r<l;r++)d[r]=e.find(this.options.items[r]),d[r].css({position:"absolute",width:"auto",height:"auto",top:0,right:0,bottom:0,left:0}),n[r]=d[r][0];i=a()(n),this.initElement(),this.initEvent()},this.initElement=function(){e.css({position:"absolute",width:"100%",height:"100%",overflow:"hidden"}),n&&n.length&&n.remove(),(n=f()?a()("<div  />").css({position:"absolute",top:"0px",width:o,bottom:"0px",cursor:"ew-resize"}):a()("<div />").css({position:"absolute",left:"0px",height:o,right:"0px",cursor:"ns-resize"})).addClass(this.options.splitterClass),n.css(this.options.barStyle),r=f()?n.outerWidth():n.outerHeight(),e.append(n),this.initResize()},this.getSize=function(t,e){return"string"==typeof t&&t.indexOf("%")>-1?e*(parseFloat(t.replace("%",""))/100):t},this.getShowList=function(){for(var e=[],n=0,o=i.length;n<o;n++){a()(i[n]).hasClass(t.options.hideClass)||e.push(i[n])}return a()(e)},this.caculateMinSize=function(t){return f(),t<r+s[0]?t=r+s[0]:t>l-r-s[1]&&(t=l-r-s[1]),t},this.initResize=function(){var t=this.getShowList();if(1==t.length)t.css({left:"0px",width:"auto",height:"auto",right:0,top:0,bottom:0}),n.hide();else{if(f()){var i=e.width(),o=this.caculateMinSize(this.getSize(h,i));d[0].css({left:"0px",width:o+"px",top:0,bottom:0}),d[1].css({left:o+r+"px",right:"0px",width:"auto",top:0,bottom:0}),n.css({left:o+"px"})}else{var a=e.height();o=this.caculateMinSize(this.getSize(h,a));d[0].css({top:"0px",height:o+"px",width:"auto",left:0,right:0,bottom:"auto"}),d[1].css({top:o+r+"px",bottom:"0px",width:"auto",left:0,right:0}),n.css({top:o+"px"})}n.show()}},this.initEvent=function(){!0!==c&&e.on("mousedown","> ."+this.options.splitterClass,function(t){i.css("user-select","none"),i.find("iframe").css("pointer-events","none"),f()?(l=e.width(),n.data("prevClientX",t.clientX)):(l=e.height(),n.data("prevClientY",t.clientY)),a()(document).on("mousemove",p),a()(document).on("mouseup",v)})},this.setDirection=function(t){u=t,this.initElement()},this.setInitSize=function(t){h=t,this.initResize()},this.setHide=function(e){a()(i[e]).hide().addClass(t.options.hideClass),this.initResize()},this.setShow=function(e){a()(i[e]).show().removeClass(t.options.hideClass),this.initResize()},this.toggle=function(e){a()(i[e]).hasClass(t.options.hideClass)?this.setShow(e):this.setHide(e)}};return t.setup=function(){return{splitterClass:"ui-splitter",hideClass:"hide",barSize:4,barStyle:{"background-color":"#f6f6f6","border-right":"1px solid #e4e4e4"},direction:"vertical",initSize:"50%",minSize:30,items:[],fixed:!1}},t}},_={name:"ui.stringchecker",extend:"event",component:function(){var t=function(){var t={email:/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,url:/^(http:\/\/www\.|https:\/\/www\.|http:\/\/|https:\/\/)?[a-z0-9]+([\-\.]{1}[a-z0-9]+)*\.[a-z]{2,5}(:[0-9]{1,5})?(\/.*)?$/,color:/#?([A-Fa-f0-9]){3}(([A-Fa-f0-9]){3})?/};function e(e,n,o,r){if(o.validJson){var s='{ "key":"'+n+'" }';try{JSON.parse(s)}catch(t){return r&&i(e,e.emit("invalid",["json",n])),!1}}if(o.validBlank&&""==a.a.trim(n)&&i(e,e.emit("invalid",["blank"])),null!=o.pattern){if("string"==typeof o.pattern){var l=!1,u=o.pattern.toLowerCase(),h=t[u];return null!=h&&(l=h.test(n)),!l&&r&&i(e,e.emit("invalid",[u,n])),l}if("object"==typeof o.pattern)return!(l=h.test(n))&&r&&i(e,e.emit("invalid",["regex",n])),l}return-1!=o.minLength&&n.length<o.minLength&&i(e,e.emit("invalid",["min",n])),-1!=o.maxLength&&n.length>o.maxLength&&i(e,e.emit("invalid",["max",n])),!0}function n(t){return{value:t=""+t}}function i(t,e){if("string"==typeof e&&""!=e)a()(t.root).attr("placeholder",e);else{var n=t.options.message;"string"==typeof n&&""!=n&&a()(t.root).attr("placeholder",n)}a()(t.root).addClass("invalid").val("")}this.init=function(){var t=this,o=this.root,r=function(t){var e=a()(t.root),n=t.options;return{value:e.val()||"",validJson:n.validJson,validBlank:n.validBlank,minLength:n.minLength,maxLength:n.maxLength,pattern:n.pattern}}(this);return a()(o).on("input",function(i){var s=a()(o).val();if(e(t,s,r,!1)){var l=n(s);r.value=l.value}}),a()(o).on("focus",function(t){a()(o).removeClass("invalid").attr("placeholder","")}),a()(o).on("focusout",function(s){var l=a()(o).val();if(e(t,l,r,!0)){var u=n(l);a()(o).val(u.value)}else i(t,null)}),setTimeout(function(){e(t,r.value,r,!0)?a()(o).val(r.value):i(t,null)},100),this}};return t.setup=function(){return{validJson:!0,validBlank:!1,minLength:-1,maxLength:-1,pattern:null,message:null}},t}},I={name:"ui.switch",extend:"event",component:function(){o.a.include("util.base");var t=function(){function t(t,e){var n=a()(t).find("."+e);return n.length||(n=a()("<div />").addClass(e)),n}this.init=function(){var e=this,n=this.options,i=t(this.root,"left"),o=t(this.root,"right"),r=t(this.root,"area"),s=t(this.root,"bar"),l=t(this.root,"handle");s.html(i),s.append(o),r.html(s),a()(this.root).html(r).append(l),this.addEvent(this.root,n.toggleEvent,function(t){e.toggle()}),n.checked&&a()(this.root).addClass("on")},this.getValue=function(){return a()(this.root).hasClass("on")},this.setValue=function(t){a()(this.root).toggleClass("on",!!t),this.emit("change",[t])},this.toggle=function(){this.setValue(!this.getValue())}};return t.setup=function(){return{checked:!1,toggleEvent:"click"}},t}},E={name:"ui.tab",extend:"event",component:function(){o.a.include("util.base");var t=o.a.include("ui.dropdown"),e=function(){var e=null,n=null,i=-1,o=0;function r(t){a()(t.root).children("li").eq(i).removeClass("checked")}function s(t,e){!function(t){a()(t.root).children("li").removeClass("active")}(t);var i=a()(t.root).children("li").eq(e).addClass("active");n.appendTo(i),l(t.options.target,i[0])}function l(t,e,n){var i=a()(e).find("[href*=#]").attr("href");a()(t).children("*").each(function(t){"#"+this.id==i?a()(this).show():a()(this).hide()})}function u(t){a()(t.root).children("li").each(function(n){a()(this).hasClass("menu")&&(i=n),t.addEvent(this,["click","contextmenu"],function(r){if(a()(this).hasClass("disabled"))return!1;var u=a.a.trim(a()(this).text()),h=a()(this).val();if(n!=i){if(n!=o){var c=[{index:n,text:u,value:h},r];""!=t.options.target&&l(t.options.target,this),o=n,t.emit("change",c),t.emit("click",c),s(t,n)}}else t.emit("menu",[{index:n,text:u},r]),"show"!=e.type&&function(t,n){var i=a()(n).offset();a()(n).addClass("checked"),e.show(i.left,i.top+a()(t.root).height())}(t,this);return!1})}),function(t){var e=a()(t.root).children("li"),i=e.filter(".active"),r=e.eq(o),l=1==i.length?i:r;(l.hasClass("disabled")||0==l.length)&&(l=e.eq(0),o=0);n.appendTo(l),s(t,e.index(l))}(t),function(t){if(!t.options.drag)return;var e=a()(t.root).children("li"),n=null,i=null,o=null,r=null;e.each(function(s){t.addEvent(this,"mousedown",function(e){return n=a()(this),i=n.clone().css("opacity","0.5"),o=s,t.emit("dragstart",[o,e]),!1}),t.addEvent(this,"mousemove",function(t){null!=o&&(o>(r=s)?0==r?i.insertBefore(e.eq(0)):i.insertAfter(e.eq(r-1)):r==e.length-1?i.insertAfter(e.eq(r)):i.insertBefore(e.eq(r+1)),n.hide())})}),t.addEvent(t.root,"mouseup",function(e){null!=n&&n.show(),null!=i&&i.remove(),null!=o&&null!=r&&(t.move(o,r),t.emit("dragend",[r,e])),o=null,r=null})}(t)}this.init=function(){var i=this,s=this.options;if(o=s.index,n=a()("<div class='anchor'></div>"),s.nodes.length>0?this.update(s.nodes):u(this),this.tpl.menu){var l=a()(this.tpl.menu());a()("body").append(l),e=t(l,{event:{change:function(t,e){r(i),i.emit("changemenu",[t,e])},hide:function(){r(i)}}})}return this},this.update=function(t){if(this.tpl.node){a()(this.root).empty();for(var e=0;e<t.length;e++)a()(this.root).append(this.tpl.node(t[e]));u(this)}},this.insert=function(t,e){if(this.tpl.node){var n=this.tpl.node(e),i=a()(this.root).children("li");t==i.length?a()(n).insertAfter(i.eq(t-1)):a()(n).insertBefore(i.eq(t)),u(this)}},this.append=function(t){if(this.tpl.node){var e=this.tpl.node(t);-1!=i?(a()(e).insertBefore(a()(this.root).find(".menu")),i++):a()(this.root).append(e),u(this)}},this.prepend=function(t){this.tpl.node&&(a()(this.root).prepend(this.tpl.node(t)),u(this))},this.remove=function(t){a()(this.root).children("li").eq(t).remove(),u(this)},this.move=function(t,e){if(t!=e){var n=a()(this.root).children("li"),i=n.eq(t);t>e?0==e?i.insertBefore(n.eq(0)):i.insertAfter(n.eq(e-1)):e==n.length-1?i.insertAfter(n.eq(e)):i.insertBefore(n.eq(e+1)),o=e,u(this)}},this.show=function(t){if(t!=i&&t!=o){var e=a()(this.root).children("li").eq(t);e.hasClass("disabled")||(o=t,this.emit("change",[{index:t,text:a.a.trim(e.text()),value:e.val()}]),s(this,t))}},this.enable=function(t){t!=i&&t!=o&&a()(this.root).children("li").eq(t).removeClass("disabled")},this.disable=function(t){t!=i&&t!=o&&a()(this.root).children("li").eq(t).addClass("disabled")},this.activeIndex=function(){return o}};return e.setup=function(){return{target:"",index:0,drag:!1,nodes:[]}},e}},M={name:"ui.timepicker",extend:"event",component:function(){var t=function(){var t,e,n=null;function i(n,i){var o=new Date(n,i,0);return{min:{year:t,month:1,date:1,hours:0,minutes:0},max:{year:e,month:12,date:o.getDate(),hours:23,minutes:59}}}function o(t){return t<10?"0"+t:t}function r(t){var e=t||window.event,n=e.keyCode||e.which;n=String.fromCharCode(n);/[0-9]|\./.test(n)||(e.returnValue=!1,e.preventDefault&&e.preventDefault())}function s(t,e,n,i,r){r||a()(t).focus(),function(t,e){var n=parseInt(a()(t).val())+(e||0);n<0&&(n=0),a()(t).val(o(n))}(t,e),function(t,e,n){var i=parseInt(a()(t).val());isNaN(i)?a()(t).val(o(e)):(i>n&&a()(t).val(n),i<e&&a()(t).val(o(e)))}(t,n,i)}function l(t){var e=a()(t.target).parent(),o=0,r=n.attr("class"),l=i(e.children(".year").val(),e.children(".month").val());38==t.which?o=1:40==t.which&&(o=-1),0!=o&&s(t.target,o,l.min[r],l.max[r])}this.init=function(){return t=this.options.minYear,e=this.options.maxYear,function(u){var h=u.options.year,c=u.options.month,d=u.options.date,f=u.options.hours,p=u.options.minutes,v=a()(u.root).children(".year").attr("maxlength",4),g=a()(u.root).children(".month").attr("maxlength",2),m=a()(u.root).children(".date").attr("maxlength",2),y=a()(u.root).children(".hours").attr("maxlength",2),x=a()(u.root).children(".minutes").attr("maxlength",2);v.on("keypress",r),v.on("keyup",l),v.on("focusout",function(n){s(this,0,t,e,!0)}),v.on("focus",function(t){(n=v).select()}),g.on("keypress",r),g.on("keyup",l),g.on("focusout",function(t){s(this,0,1,12,!0)}),g.on("focus",function(t){(n=g).select()}),m.on("keypress",r),m.on("keyup",l),m.on("focusout",function(t){s(this,0,1,i(v.val(),g.val()).max.date,!0)}),m.on("focus",function(t){(n=m).select()}),y.on("keypress",r),y.on("keyup",l),y.on("focusout",function(t){s(this,0,0,23,!0)}),y.on("focus",function(t){(n=y).select()}),x.on("keypress",r),x.on("keyup",l),x.on("focusout",function(t){s(this,0,0,59,!0)}),x.on("focus",function(t){(n=x).select()}),v.val(h),g.val(o(c)),m.val(o(d)),y.val(o(f)),x.val(o(p)),n=0==v.length?y:v}(this),function(t){var e=a()(t.root).children("i"),o=a()("<div></div>"),r=a()("<div></div>"),l=a()(t.root).children(".year"),u=a()(t.root).children(".month");if(a()(t.root).children(".date"),a()(t.root).children(".hours"),a()(t.root).children(".minutes"),!(l.length>0)){var h=a()(t.root).outerHeight()/2,c={position:"absolute",width:h,height:h,cursor:"pointer",right:e.css("right")};o.css(a.a.extend({top:"0px"},c)),r.css(a.a.extend({top:h+"px"},c)),o.on("click",function(t){var e=n.attr("class"),o=i(l.val(),u.val());s(n[0],1,o.min[e],o.max[e])}),r.on("click",function(t){var e=n.attr("class"),o=i(l.val(),u.val());s(n[0],-1,o.min[e],o.max[e])}),a()(t.root).append(o),a()(t.root).append(r)}}(this),this},this.setYear=function(n){s(a()(this.root).children(".year").val(n)[0],0,t,e)},this.getYear=function(){return parseInt(a()(this.root).children(".year").val())},this.setMonth=function(t){s(a()(this.root).children(".month").val(t)[0],0,1,12)},this.getMonth=function(){return parseInt(a()(this.root).children(".month").val())},this.setDate=function(t){var e=i(this.getYear(),this.getMonth());s(a()(this.root).children(".date").val(t)[0],0,1,e.max.date)},this.getDate=function(){return parseInt(a()(this.root).children(".date").val())},this.setHours=function(t){s(a()(this.root).children(".hours").val(t)[0],0,0,23)},this.getHours=function(){return parseInt(a()(this.root).children(".hours").val())},this.setMinutes=function(t){s(a()(this.root).children(".minutes").val(t)[0],0,0,59)},this.getMinutes=function(){return parseInt(a()(this.root).children(".minutes").val())}};return t.setup=function(){var t=new Date;return{year:t.getFullYear(),month:t.getMonth()+1,date:t.getDate(),hours:t.getHours(),minutes:t.getMinutes(),minYear:2015,maxYear:2020}},t}},A={name:"ui.tooltip",extend:"event",component:function(){var t=function(){var t=null,e={},n="",i=null;function o(n,i){t=a()(n.tpl.item({timestamp:n.timestamp,position:n.options.position,color:n.options.color,message:i})),n.options.width&&t.css("max-width",n.options.width),n.options.align&&t.css("text-align",n.options.align),a()("body").append(t),function(n){var i=a()(n.root).offset(),o=a()(n.root).outerWidth(),r=a()(n.root).outerHeight(),s=t.outerWidth(),l=t.outerHeight(),u=0,h=0,c=n.options.position;"left"==c?(u=i.left-s,h=i.top-(l-r)/2):"right"==c?(u=i.left+o,h=i.top-(l-r)/2):"bottom"==c?(u=i.left-s/2+o/2,h=i.top+r):(u=i.left-s/2+o/2,h=i.top-l);e={x:u<1?1:u,y:h<1?1:h}}(n)}function r(n,o){clearTimeout(i),null!=t&&(t.remove(),t=null,e={}),null!=i&&(n.emit("hide",[o]),i=null)}this.init=function(){var s=this,l=this.options;n=a()(this.root).attr("title"),a()(this.root).removeAttr("title"),a()(this.root).off(l.showType).off(l.hideType),this.addEvent(this.root,l.showType,function(a){return null==i?i=setTimeout(function(){!function(i,a){t&&r(i,a);var s=i.options.title?i.options.title:n;""!=s&&(o(i,s),t.css({left:e.x,top:e.y}))}(s,a),null!=t&&s.emit("show",[t.get(0),a])},l.delay):l.showType==l.hideType&&r(s,a),!1}),l.showType!=l.hideType&&this.addEvent(this.root,l.hideType,function(t){return r(s,t),!1})},this.update=function(e){n=e,null!=t&&t.find(".message").html(n)}};return t.setup=function(){return{color:"null",position:"top",width:150,align:"left",delay:0,showType:"mouseover",hideType:"mouseout",title:"",tpl:{item:"<div class='tooltip <!= position !>' <! if(color != null) { !>style='background-color: <!= color !>'<! } !>><div class='anchor'></div><div class='message'><!= message !></div></div>"}}},t}};o.a.defineUI("ui.tooltip",["jquery"],function(t){});var z={name:"ui.tree.node",component:function(){return function(t,e){var n=this;function i(t){n.nodenum=isNaN(t)?n.nodenum:t,n.parent&&(null==n.parent.index?n.index=""+n.nodenum:n.index=n.parent.index+"."+n.nodenum),n.parent&&"string"==typeof n.index&&(n.depth=n.index.split(".").length),n.children.length>0&&function t(e){for(var n=e.children,i=0;i<n.length;i++)n[i].reload(i),n[i].children.length>0&&t(n[i])}(n)}function o(){if(!e)return n.element;try{var t=a()(e(a.a.extend({node:{index:n.index,data:n.data,depth:n.depth}},n.data))).get(0)}catch(t){console.log(t)}return t}function r(t){a()(t.element).remove();for(var e=0;e<t.children.length;e++){var n=t.children[e];n.children.length>0?r(n):a()(n.element).remove()}}function s(t){for(var e=0;e<t.children.length;e++){var n=t.children[e];n.reload(e),n.children.length>0&&s(n)}}this.data=t,this.element=null,this.index=null,this.nodenum=null,this.parent=null,this.children=[],this.depth=0,this.type="open",this.reload=function(t,e){if(i(t),null!=this.element){var n=o();e?a()(n).insertAfter(this.element):a()(this.parent.element).children("ul").append(n),a()(this.element).remove(),this.element=n}else this.element=o()},this.reloadChildrens=function(){s(this)},this.destroy=function(){null!=this.parent?this.parent.removeChild(this.index):(r(this),a()(this.element).remove())},this.isLeaf=function(){return 0==this.children.length},this.fold=function(){a()(this.element).children("ul").hide(),this.type="fold"},this.open=function(){a()(this.element).children("ul").show(),this.type="open"},this.appendChild=function(t){a()(this.element).children("ul").append(t.element),this.children.push(t)},this.insertChild=function(t,e){0==t?0==this.children.length?a()(this.element).children("ul").append(e.element):a()(e.element).insertBefore(this.children[0].element):a()(e.element).insertAfter(this.children[t-1].element);var n=this.children.splice(0,t);n.push(e),this.children=n.concat(this.children),s(this)},this.removeChild=function(t){for(var e=0;e<this.children.length;e++){var n=this.children[e];n.index==t&&(this.children.splice(e,1),r(n))}s(this)},this.lastChild=function(){return this.children.length>0?this.children[this.children.length-1]:null},this.lastChildLeaf=function(t){var e=t||this.lastChild();return e.isLeaf()?e:this.lastChildLeaf(e.lastChild())}}}};o.a.use(z);var T={name:"ui.tree.base",component:function(){var t=o.a.include("util.base"),e=o.a.include("ui.tree.node");return function(n){var i=this,o=null,r=n.$obj,a=n.$tpl,s=t.index();function l(t,n,i){var o=new e(t,a.node);return o.parent=i||null,o.reload(n),o}function u(t,e){var n=e.children;if(n.length>0)for(var i=0;i<n.length;i++)t.push(n[i]),n[i].children.length>0&&u(t,n[i])}this.appendNode=function(){var t=arguments[0],e=arguments[1];return e?function(t,e){var n=i.getNode(t),o=l(e,n.children.length,n);return n.appendChild(o),o}(t,e):function(t){if(null==o)o=l(t),r.tree.append(o.element);else{var e=l(t,o.children.length,o);o.appendChild(e)}return e}(t)},this.insertNode=function(t,e){return 0==o.children.length&&0==parseInt(t)?this.appendNode(e):function(t,e){var n=s.getIndexList(t),o=i.getNodeParent(t),r=n[n.length-1],a=l(e,r,o);return o.insertChild(r,a),a}(t,e)},this.updateNode=function(t,e){var n=this.getNode(t);for(var i in e)n.data[i]=e[i];return n.reload(n.nodenum,!0),n.reloadChildrens(),n},this.removeNode=function(t){this.getNode(t).destroy()},this.removeNodes=function(){var t=o.children;if(t.length>0){var e=t.pop();e.parent=null,e.destroy(),this.removeNodes()}},this.openNode=function(t){null==t?this.getRoot().open():this.getNode(t).open()},this.foldNode=function(t){null==t?this.getRoot().fold():this.getNode(t).fold()},this.openNodeAll=function(t){for(var e=this.getNodeAll(t),n=0;n<e.length;n++)e[n].open();null==t&&this.getRoot().open()},this.foldNodeAll=function(t){for(var e=this.getNodeAll(t),n=0;n<e.length;n++)e[n].fold();null==t&&this.getRoot().fold()},this.moveNode=function(t,e){if(t!=e&&!function t(e,n){var i=s.getParentIndex(n);return null!=i&&(e==i||t(e,i))}(t,e)){var n=this.getNode(t),i=this.getNodeParent(e),o=s.getIndexList(e),r=o[o.length-1];if(!function(t,e){for(var n=[];;){var i=e.parent;if(!i)break;n.push(i),e=i}for(var o=0;o<n.length;o++)if(t==n[o])return!0;return!1}(n,i)){n.parent.children.splice(n.nodenum,1),n.parent.reloadChildrens(),n.parent=i;var a=i.children.splice(0,r);a.push(n),i.children=a.concat(i.children),i.reloadChildrens()}}},this.getNode=function(t){if(null==t)return o.children;var e=o.children;if(s.isIndexDepth(t)){var n=s.getIndexList(t);return function t(e,n){if(!n)return null;var i=e.shift();return void 0==i?n:t(e,n.children[i])}(n,e[n.shift()])}return e[t]?e[t]:null},this.getNodeAll=function(t){for(var e=[],n=null==t?o.children:[this.getNode(t)],i=0;i<n.length;i++)n[i]&&(e.push(n[i]),n[i].children.length>0&&u(e,n[i]));return e},this.getNodeParent=function(t){var e=s.getIndexList(t);return 1==e.length?o:2==e.length?this.getNode(e[0]):e.length>2?(e.pop(),this.getNode(e.join("."))):void 0},this.getRoot=function(){return o}}}};o.a.use(T);var S={name:"ui.tree",extend:"event",component:function(){var t=o.a.include("util.base"),e=o.a.include("ui.tree.base"),n=function(){var n={start:null,end:null,clone:null},i=null,o=t.index();function r(t,e){for(var n=0;n<e.length;n++){var i=e[n];a()(i.element).removeClass("open fold leaf last"),i.parent&&i.isLeaf()?a()(i.element).addClass("leaf"):"open"==i.type?(a()(i.element).addClass("open"),i.open()):(a()(i.element).addClass("fold"),i.fold()),i.parent?i.parent.lastChild()==i&&a()(i.element).addClass("last"):a()(i.element).addClass("root"),a()(i.element).children("i:first-child").remove(),a()(i.element).prepend(a()("<i></i>"))}}function s(t,e,n){if(null==e)if(t.options.rootHide){for(var i=t.uit.getRoot().children,o=0;o<i.length;o++)n(i[o].index);c(t,!1)}else n(e),c(t,!0);else n(e),c(t,!1)}function l(t,e){for(var n=0;n<e.length;n++)!function(e){var n=a()(e.element);t.addEvent(n.children("i:first-child"),"click",function(n){"open"==e.type?t.fold(e.index,n):t.open(e.index,n),n.stopPropagation()}),t.addEvent(n.children("a,span,div")[0],"click",function(i){n.hasClass("disabled")||n.attr("disabled")||(t.emit("select",[e,i]),t.emit("change",[e,i]),i.stopPropagation())})}(e[n])}function u(t,e){if(t.options.drag){var i=t.uit.getRoot();e||(n.start=null,n.end=null,n.clone=null),a()(i.element).find("li.hover").removeClass("hover")}}function h(t,e,i,r){if(t.options.drag){var s=r?o.getNextIndex(e.index):e.index,l=a()("<div class='drag'></div>").attr("data-index",s).css(i).outerWidth(a()(e.element).outerWidth());a()(t.root).append(l),t.addEvent(l,"mouseover",function(e){n.start&&(n.end=s,l.addClass("on"),u(t,!0))}),t.addEvent(l,"mouseout",function(t){n.start&&l.removeClass("on")})}}function c(t,e){var i=t.listAll();r(0,i),l(t,i),function(t,e){if(t.options.drag){for(var i=t.uit.getRoot(),r=0;r<e.length;r++)!function(e){a()(e.element).off("mousedown").off("mouseup"),t.addEvent(e.element,"mousedown",function(i){if("I"!=i.target.tagName)return null==n.start&&!1!==t.emit("dragstart",[e,i])&&(n.start=e.index),!1}),t.addEvent(e.element,"mouseup",function(i){if("I"!=i.target.tagName){if(!1!==t.options.dragChild&&n.start&&n.start!=e.index){var r=e.lastChild(),a=r?o.getNextIndex(r.index):e.index+".0";!1!==t.emit("dragend",[t.get(e.index),i])&&t.move(n.start,a)}return u(t),!1}}),t.addEvent(e.element,"mouseover",function(i){if("I"!=i.target.tagName)return!1!==t.options.dragChild&&n.start&&n.start!=e.index&&!1!==t.emit("dragover",[e,i])&&(u(t,!0),a()(e.element).addClass("hover")),!1}),t.addEvent(i.element,"mouseup",function(e){if("I"!=e.target.tagName){if(!1!==t.options.dragChild&&n.start){var o=""+i.children.length;t.move(n.start,o),t.emit("dragend",[t.get(o),e])}return u(t),!1}})}(e[r]);t.addEvent("body","mouseup",function(e){return n.start&&n.end&&(t.move(n.start,n.end),t.emit("dragend",[t.get(n.end),e])),u(t),!1})}}(t,i),function(t){if(t.options.drag){a()(t.root).find(".drag").remove();for(var e=t.listAll(),n=0;n<e.length;n++){var i=e[n],o=a()(i.element).position();o.top>0&&h(t,i,o)}}}(t),function(t){if(t.options.drag)for(var e=t.listAll(),n=0;n<e.length;n++){var i=e[n],o=a()(i.element).position();o.top>0&&i.parent&&i.parent.lastChild()==i&&(o.top=o.top+a()(i.element).outerHeight(),h(t,i,o,!0))}}(t),e&&(r(0,[t.uit.getRoot()]),l(t,[t.uit.getRoot()]))}this.init=function(){var t=this.options;if(this.uit=new e({$obj:{tree:a()(this.root)},$tpl:this.tpl}),!t.root)throw new Error("JUI_CRITICAL_ERROR: root data is required");if(this.uit.appendNode(t.root),c(this,!0),t.rootHide){var n=this.uit.getRoot();a()(n.element).css("padding-left","0px"),a()(n.element).children("*:not(ul)").hide()}t.rootFold&&this.fold()},this.update=function(e,n){var i=1==arguments.length?arguments[0]:arguments[1];if(null!=(e=2==arguments.length?arguments[0]:null))this.uit.updateNode(e,i);else{var o=t.index();this.uit.removeNodes();for(var r=0;r<i.length;r++){var a=o.getParentIndex(i[r].index);null==a?this.uit.appendNode(i[r].data):this.uit.appendNode(a,i[r].data)}}c(this)},this.append=function(){var t=1==arguments.length?arguments[0]:arguments[1],e=2==arguments.length?arguments[0]:null;t=void 0==t.length?[t]:t;for(var n=0;n<t.length;n++)null!=e?this.uit.appendNode(e,t[n]):this.uit.appendNode(t[n]);c(this)},this.insert=function(t,e){for(var n=void 0==e.length?[e]:e,i=0;i<n.length;i++)this.uit.insertNode(t,n[i]);c(this)},this.select=function(t){var e=null==t?this.uit.getRoot():this.get(t);return a()(this.root).find("li").removeClass("active"),a()(e.element).addClass("active"),i=t,e},this.unselect=function(){if(null!=i){var t=this.get(i);return a()(t.element).removeClass("active"),i=null,t}},this.remove=function(t){this.uit.removeNode(t),c(this)},this.reset=function(){this.uit.removeNodes(),c(this)},this.move=function(t,e){this.uit.moveNode(t,e),c(this)},this.open=function(t,e){if(null!=t||!this.options.rootHide){var n=null==t;this.uit.openNode(t),c(this,n),this.emit("open",[n?this.uit.getRoot():this.get(t),e])}},this.fold=function(t,e){if(null!=t||!this.options.rootHide){var n=null==t;this.uit.foldNode(t),c(this,n),this.emit("fold",[n?this.uit.getRoot():this.get(t),e])}},this.openAll=function(t){var e=this,n=null==t;s(this,t,function(t){e.uit.openNodeAll(t)}),this.emit("openall",[n?this.uit.getRoot():this.get(t)])},this.foldAll=function(t){var e=this,n=null==t;s(this,t,function(t){e.uit.foldNodeAll(t)}),this.emit("foldall",[n?this.uit.getRoot():this.get(t)])},this.list=function(){return this.uit.getNode()},this.listAll=function(){return this.uit.getNodeAll()},this.listParents=function(t){var e=this.get(t),n=[];return e.parent&&function t(e){null!=e.index&&(n.push(e),null!=e.parent&&t(e.parent))}(e.parent),n.reverse()},this.get=function(t){return null==t?null:this.uit.getNode(t)},this.getAll=function(t){return null==t?null:this.uit.getNodeAll(t)},this.activeIndex=function(){return i}};return n.setup=function(){return{root:null,rootHide:!1,rootFold:!1,drag:!1,dragChild:!0}},n}},j={name:"ui.window",extend:"event",component:function(){o.a.include("util.base");var t=o.a.include("ui.modal"),e=function(){var e=null,n=null,i={},o={},r={},s=null;function l(){var t=r.$foot.length<1?5:r.$foot.outerHeight();r.$body.outerHeight(r.$root.outerHeight()-r.$head.outerHeight()-t)}this.init=function(){var u=this,h=this.options,c=a()(this.root),d=a()(this.root).children(".head"),f=a()(this.root).children(".body"),p=a()(this.root).children(".foot");if(h.modal&&(h.move=!1,h.resize=!1),e=h.layerIndex,r={$root:c,$head:d,$body:f,$foot:p},c.css(a.a.extend({position:"absolute"},h)).appendTo(a()("body")),h.move&&this.addEvent(d,"mousedown",function(t){n=c,i.check=!0,i.disX=t.pageX-n.offset().left,i.disY=t.pageY-n.offset().top}),h.resize&&(c.append("<i class='icon-resize resize'></i>"),this.addEvent(c.children(".resize"),"mousedown",function(t){return n=c,o.check=!0,o.disX=n.width()+n.offset().left,o.disWidth=n.width(),o.disY=n.height()+n.offset().top,o.disHeight=n.height(),!1})),h.modal||u.addEvent(c,"mousedown",function(t){c.css("z-index",++e),t.stopPropagation()}),this.addEvent(d.find(".close"),"click",function(t){return u.hide(),!1}),this.addEvent("body","mousemove",function(t){if(i.check){var e=t.pageX-i.disX,r=t.pageY-i.disY;a()(n).css({left:e+"px",top:r+"px"})}if(o.check){var s=t.pageX-o.disX,u=t.pageY-o.disY;n.width(o.disWidth+s),n.height(o.disHeight+u),l()}}),this.addEvent("body","mouseup",function(t){i.check&&u.emit("move",t),o.check&&u.emit("resize",t),i.check=!1,o.check=!1}),this.type="hide",c.hide(),h.modal){var v=h.modalIndex>0?{index:h.modalIndex}:{};s=t(u.root,a.a.extend({autoHide:!1},v))}},this.hide=function(){s?s.hide():r.$root.hide(),this.emit("hide"),this.type="hide"},this.show=function(t,e){s?s.show():r.$root.show(),(t||e)&&this.move(t,e),this.emit("show"),this.type="show",l()},this.move=function(t,e){r.$root.css("left",t),r.$root.css("top",e)},this.update=function(t){r.$body.empty().html(t)},this.setTitle=function(t){r.$head.find(".title").empty().html(t)},this.setSize=function(t,e){r.$root.width(t),r.$root.height(e),l()},this.resize=function(){l()},this.resizeModal=function(){s&&s.resize()}};return e.setup=function(){return{width:400,height:300,left:"auto",top:"auto",right:"auto",bottom:"auto",modal:!1,move:!0,resize:!0,modalIndex:0,layerIndex:2e3,animate:!1}},e}};o.a.use([s,l,u,h,c,d,f,p,v,g,m,y,x,b,w,C,k,_,I,E,M,A,z,T,S,j]),window.jui=window.JUI=o.a},,function(t,e){}]);